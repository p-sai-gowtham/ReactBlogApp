function F1(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function U1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oc={exports:{}},Cs={},Mc={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function V1(){if(Lm)return ue;Lm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,M={};function N(C,A,ae){this.props=C,this.context=A,this.refs=M,this.updater=ae||x}N.prototype.isReactComponent={},N.prototype.setState=function(C,A){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,A,"setState")},N.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Q(){}Q.prototype=N.prototype;function te(C,A,ae){this.props=C,this.context=A,this.refs=M,this.updater=ae||x}var re=te.prototype=new Q;re.constructor=te,U(re,N.prototype),re.isPureReactComponent=!0;var ce=Array.isArray,Re=Object.prototype.hasOwnProperty,We={current:null},nt={key:!0,ref:!0,__self:!0,__source:!0};function kt(C,A,ae){var he,me={},ge=null,ke=null;if(A!=null)for(he in A.ref!==void 0&&(ke=A.ref),A.key!==void 0&&(ge=""+A.key),A)Re.call(A,he)&&!nt.hasOwnProperty(he)&&(me[he]=A[he]);var Ee=arguments.length-2;if(Ee===1)me.children=ae;else if(1<Ee){for(var De=Array(Ee),Lt=0;Lt<Ee;Lt++)De[Lt]=arguments[Lt+2];me.children=De}if(C&&C.defaultProps)for(he in Ee=C.defaultProps,Ee)me[he]===void 0&&(me[he]=Ee[he]);return{$$typeof:t,type:C,key:ge,ref:ke,props:me,_owner:We.current}}function Gt(C,A){return{$$typeof:t,type:C.type,key:A,ref:C.ref,props:C.props,_owner:C._owner}}function wn(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function pr(C){var A={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ae){return A[ae]})}var on=/\/+/g;function Rt(C,A){return typeof C=="object"&&C!==null&&C.key!=null?pr(""+C.key):A.toString(36)}function bt(C,A,ae,he,me){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var ke=!1;if(C===null)ke=!0;else switch(ge){case"string":case"number":ke=!0;break;case"object":switch(C.$$typeof){case t:case e:ke=!0}}if(ke)return ke=C,me=me(ke),C=he===""?"."+Rt(ke,0):he,ce(me)?(ae="",C!=null&&(ae=C.replace(on,"$&/")+"/"),bt(me,A,ae,"",function(Lt){return Lt})):me!=null&&(wn(me)&&(me=Gt(me,ae+(!me.key||ke&&ke.key===me.key?"":(""+me.key).replace(on,"$&/")+"/")+C)),A.push(me)),1;if(ke=0,he=he===""?".":he+":",ce(C))for(var Ee=0;Ee<C.length;Ee++){ge=C[Ee];var De=he+Rt(ge,Ee);ke+=bt(ge,A,ae,De,me)}else if(De=I(C),typeof De=="function")for(C=De.call(C),Ee=0;!(ge=C.next()).done;)ge=ge.value,De=he+Rt(ge,Ee++),ke+=bt(ge,A,ae,De,me);else if(ge==="object")throw A=String(C),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ke}function ln(C,A,ae){if(C==null)return C;var he=[],me=0;return bt(C,he,"","",function(ge){return A.call(ae,ge,me++)}),he}function Tt(C){if(C._status===-1){var A=C._result;A=A(),A.then(function(ae){(C._status===0||C._status===-1)&&(C._status=1,C._result=ae)},function(ae){(C._status===0||C._status===-1)&&(C._status=2,C._result=ae)}),C._status===-1&&(C._status=0,C._result=A)}if(C._status===1)return C._result.default;throw C._result}var Fe={current:null},z={transition:null},Z={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:z,ReactCurrentOwner:We};function H(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:ln,forEach:function(C,A,ae){ln(C,function(){A.apply(this,arguments)},ae)},count:function(C){var A=0;return ln(C,function(){A++}),A},toArray:function(C){return ln(C,function(A){return A})||[]},only:function(C){if(!wn(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ue.Component=N,ue.Fragment=n,ue.Profiler=o,ue.PureComponent=te,ue.StrictMode=s,ue.Suspense=p,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,ue.act=H,ue.cloneElement=function(C,A,ae){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var he=U({},C.props),me=C.key,ge=C.ref,ke=C._owner;if(A!=null){if(A.ref!==void 0&&(ge=A.ref,ke=We.current),A.key!==void 0&&(me=""+A.key),C.type&&C.type.defaultProps)var Ee=C.type.defaultProps;for(De in A)Re.call(A,De)&&!nt.hasOwnProperty(De)&&(he[De]=A[De]===void 0&&Ee!==void 0?Ee[De]:A[De])}var De=arguments.length-2;if(De===1)he.children=ae;else if(1<De){Ee=Array(De);for(var Lt=0;Lt<De;Lt++)Ee[Lt]=arguments[Lt+2];he.children=Ee}return{$$typeof:t,type:C.type,key:me,ref:ge,props:he,_owner:ke}},ue.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:a,_context:C},C.Consumer=C},ue.createElement=kt,ue.createFactory=function(C){var A=kt.bind(null,C);return A.type=C,A},ue.createRef=function(){return{current:null}},ue.forwardRef=function(C){return{$$typeof:d,render:C}},ue.isValidElement=wn,ue.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:Tt}},ue.memo=function(C,A){return{$$typeof:g,type:C,compare:A===void 0?null:A}},ue.startTransition=function(C){var A=z.transition;z.transition={};try{C()}finally{z.transition=A}},ue.unstable_act=H,ue.useCallback=function(C,A){return Fe.current.useCallback(C,A)},ue.useContext=function(C){return Fe.current.useContext(C)},ue.useDebugValue=function(){},ue.useDeferredValue=function(C){return Fe.current.useDeferredValue(C)},ue.useEffect=function(C,A){return Fe.current.useEffect(C,A)},ue.useId=function(){return Fe.current.useId()},ue.useImperativeHandle=function(C,A,ae){return Fe.current.useImperativeHandle(C,A,ae)},ue.useInsertionEffect=function(C,A){return Fe.current.useInsertionEffect(C,A)},ue.useLayoutEffect=function(C,A){return Fe.current.useLayoutEffect(C,A)},ue.useMemo=function(C,A){return Fe.current.useMemo(C,A)},ue.useReducer=function(C,A,ae){return Fe.current.useReducer(C,A,ae)},ue.useRef=function(C){return Fe.current.useRef(C)},ue.useState=function(C){return Fe.current.useState(C)},ue.useSyncExternalStore=function(C,A,ae){return Fe.current.useSyncExternalStore(C,A,ae)},ue.useTransition=function(){return Fe.current.useTransition()},ue.version="18.3.1",ue}var Om;function Mh(){return Om||(Om=1,Mc.exports=V1()),Mc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function z1(){if(Mm)return Cs;Mm=1;var t=Mh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var y,E={},I=null,x=null;g!==void 0&&(I=""+g),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(x=p.ref);for(y in p)s.call(p,y)&&!a.hasOwnProperty(y)&&(E[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)E[y]===void 0&&(E[y]=p[y]);return{$$typeof:e,type:d,key:I,ref:x,props:E,_owner:o.current}}return Cs.Fragment=n,Cs.jsx=c,Cs.jsxs=c,Cs}var Fm;function j1(){return Fm||(Fm=1,Oc.exports=z1()),Oc.exports}var le=j1(),j=Mh();const B1=U1(j),$1=F1({__proto__:null,default:B1},[j]);var Il={},Fc={exports:{}},At={},Uc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function H1(){return Um||(Um=1,function(t){function e(z,Z){var H=z.length;z.push(Z);e:for(;0<H;){var C=H-1>>>1,A=z[C];if(0<o(A,Z))z[C]=Z,z[H]=A,H=C;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var Z=z[0],H=z.pop();if(H!==Z){z[0]=H;e:for(var C=0,A=z.length,ae=A>>>1;C<ae;){var he=2*(C+1)-1,me=z[he],ge=he+1,ke=z[ge];if(0>o(me,H))ge<A&&0>o(ke,me)?(z[C]=ke,z[ge]=H,C=ge):(z[C]=me,z[he]=H,C=he);else if(ge<A&&0>o(ke,H))z[C]=ke,z[ge]=H,C=ge;else break e}}return Z}function o(z,Z){var H=z.sortIndex-Z.sortIndex;return H!==0?H:z.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,E=null,I=3,x=!1,U=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(z){for(var Z=n(g);Z!==null;){if(Z.callback===null)s(g);else if(Z.startTime<=z)s(g),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(g)}}function ce(z){if(M=!1,re(z),!U)if(n(p)!==null)U=!0,Tt(Re);else{var Z=n(g);Z!==null&&Fe(ce,Z.startTime-z)}}function Re(z,Z){U=!1,M&&(M=!1,Q(kt),kt=-1),x=!0;var H=I;try{for(re(Z),E=n(p);E!==null&&(!(E.expirationTime>Z)||z&&!pr());){var C=E.callback;if(typeof C=="function"){E.callback=null,I=E.priorityLevel;var A=C(E.expirationTime<=Z);Z=t.unstable_now(),typeof A=="function"?E.callback=A:E===n(p)&&s(p),re(Z)}else s(p);E=n(p)}if(E!==null)var ae=!0;else{var he=n(g);he!==null&&Fe(ce,he.startTime-Z),ae=!1}return ae}finally{E=null,I=H,x=!1}}var We=!1,nt=null,kt=-1,Gt=5,wn=-1;function pr(){return!(t.unstable_now()-wn<Gt)}function on(){if(nt!==null){var z=t.unstable_now();wn=z;var Z=!0;try{Z=nt(!0,z)}finally{Z?Rt():(We=!1,nt=null)}}else We=!1}var Rt;if(typeof te=="function")Rt=function(){te(on)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,ln=bt.port2;bt.port1.onmessage=on,Rt=function(){ln.postMessage(null)}}else Rt=function(){N(on,0)};function Tt(z){nt=z,We||(We=!0,Rt())}function Fe(z,Z){kt=N(function(){z(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){U||x||(U=!0,Tt(Re))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Gt=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(z){switch(I){case 1:case 2:case 3:var Z=3;break;default:Z=I}var H=I;I=Z;try{return z()}finally{I=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=I;I=z;try{return Z()}finally{I=H}},t.unstable_scheduleCallback=function(z,Z,H){var C=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?C+H:C):H=C,z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=H+A,z={id:y++,callback:Z,priorityLevel:z,startTime:H,expirationTime:A,sortIndex:-1},H>C?(z.sortIndex=H,e(g,z),n(p)===null&&z===n(g)&&(M?(Q(kt),kt=-1):M=!0,Fe(ce,H-C))):(z.sortIndex=A,e(p,z),U||x||(U=!0,Tt(Re))),z},t.unstable_shouldYield=pr,t.unstable_wrapCallback=function(z){var Z=I;return function(){var H=I;I=Z;try{return z.apply(this,arguments)}finally{I=H}}}}(Vc)),Vc}var Vm;function K1(){return Vm||(Vm=1,Uc.exports=H1()),Uc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function W1(){if(zm)return At;zm=1;var t=Mh(),e=K1();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},E={};function I(r){return p.call(E,r)?!0:p.call(y,r)?!1:g.test(r)?E[r]=!0:(y[r]=!0,!1)}function x(r,i,l,u){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function U(r,i,l,u){if(i===null||typeof i>"u"||x(r,i,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function M(r,i,l,u,h,f,m){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=f,this.removeEmptyString=m}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];N[i]=new M(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function te(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(Q,te);N[i]=new M(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(Q,te);N[i]=new M(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(Q,te);N[i]=new M(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function re(r,i,l,u){var h=N.hasOwnProperty(i)?N[i]:null;(h!==null?h.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(U(i,l,h,u)&&(l=null),u||h===null?I(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):h.mustUseProperty?r[h.propertyName]=l===null?h.type===3?!1:"":l:(i=h.attributeName,u=h.attributeNamespace,l===null?r.removeAttribute(i):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,u?r.setAttributeNS(u,i,l):r.setAttribute(i,l))))}var ce=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Re=Symbol.for("react.element"),We=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),kt=Symbol.for("react.strict_mode"),Gt=Symbol.for("react.profiler"),wn=Symbol.for("react.provider"),pr=Symbol.for("react.context"),on=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),ln=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),z=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var H=Object.assign,C;function A(r){if(C===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);C=i&&i[1]||""}return`
`+C+r}var ae=!1;function he(r,i){if(!r||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(_){var u=_}Reflect.construct(r,[],i)}else{try{i.call()}catch(_){u=_}r.call(i.prototype)}else{try{throw Error()}catch(_){u=_}r()}}catch(_){if(_&&u&&typeof _.stack=="string"){for(var h=_.stack.split(`
`),f=u.stack.split(`
`),m=h.length-1,v=f.length-1;1<=m&&0<=v&&h[m]!==f[v];)v--;for(;1<=m&&0<=v;m--,v--)if(h[m]!==f[v]){if(m!==1||v!==1)do if(m--,v--,0>v||h[m]!==f[v]){var w=`
`+h[m].replace(" at new "," at ");return r.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",r.displayName)),w}while(1<=m&&0<=v);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?A(r):""}function me(r){switch(r.tag){case 5:return A(r.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return r=he(r.type,!1),r;case 11:return r=he(r.type.render,!1),r;case 1:return r=he(r.type,!0),r;default:return""}}function ge(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case nt:return"Fragment";case We:return"Portal";case Gt:return"Profiler";case kt:return"StrictMode";case Rt:return"Suspense";case bt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case pr:return(r.displayName||"Context")+".Consumer";case wn:return(r._context.displayName||"Context")+".Provider";case on:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ln:return i=r.displayName||null,i!==null?i:ge(r.type)||"Memo";case Tt:i=r._payload,r=r._init;try{return ge(r(i))}catch{}}return null}function ke(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(i);case 8:return i===kt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function De(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lt(r){var i=De(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(m){u=""+m,f.call(this,m)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(m){u=""+m},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function mo(r){r._valueTracker||(r._valueTracker=Lt(r))}function zf(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=De(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function go(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ba(r,i){var l=i.checked;return H({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function jf(r,i){var l=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;l=Ee(i.value!=null?i.value:l),r._wrapperState={initialChecked:u,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Bf(r,i){i=i.checked,i!=null&&re(r,"checked",i,!1)}function $a(r,i){Bf(r,i);var l=Ee(i.value),u=i.type;if(l!=null)u==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Ha(r,i.type,l):i.hasOwnProperty("defaultValue")&&Ha(r,i.type,Ee(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function $f(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ha(r,i,l){(i!=="number"||go(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ui=Array.isArray;function Br(r,i,l,u){if(r=r.options,i){i={};for(var h=0;h<l.length;h++)i["$"+l[h]]=!0;for(l=0;l<r.length;l++)h=i.hasOwnProperty("$"+r[l].value),r[l].selected!==h&&(r[l].selected=h),h&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Ee(l),i=null,h=0;h<r.length;h++){if(r[h].value===l){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function Ka(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Hf(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Ui(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:Ee(l)}}function Kf(r,i){var l=Ee(i.value),u=Ee(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),u!=null&&(r.defaultValue=""+u)}function Wf(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function qf(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wa(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?qf(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var yo,Qf=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,u,h){MSApp.execUnsafeLocalFunction(function(){return r(i,l,u,h)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=yo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Vi(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jw=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(r){jw.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),zi[i]=zi[r]})});function Gf(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||zi.hasOwnProperty(r)&&zi[r]?(""+i).trim():i+"px"}function bf(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var u=l.indexOf("--")===0,h=Gf(l,i[l],u);l==="float"&&(l="cssFloat"),u?r.setProperty(l,h):r[l]=h}}var Bw=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qa(r,i){if(i){if(Bw[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Qa(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ga=null;function ba(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ya=null,$r=null,Hr=null;function Yf(r){if(r=ls(r)){if(typeof Ya!="function")throw Error(n(280));var i=r.stateNode;i&&(i=jo(i),Ya(r.stateNode,r.type,i))}}function Xf(r){$r?Hr?Hr.push(r):Hr=[r]:$r=r}function Jf(){if($r){var r=$r,i=Hr;if(Hr=$r=null,Yf(r),i)for(r=0;r<i.length;r++)Yf(i[r])}}function Zf(r,i){return r(i)}function ed(){}var Xa=!1;function td(r,i,l){if(Xa)return r(i,l);Xa=!0;try{return Zf(r,i,l)}finally{Xa=!1,($r!==null||Hr!==null)&&(ed(),Jf())}}function ji(r,i){var l=r.stateNode;if(l===null)return null;var u=jo(l);if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Ja=!1;if(d)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{Ja=!1}function $w(r,i,l,u,h,f,m,v,w){var _=Array.prototype.slice.call(arguments,3);try{i.apply(l,_)}catch(P){this.onError(P)}}var $i=!1,vo=null,wo=!1,Za=null,Hw={onError:function(r){$i=!0,vo=r}};function Kw(r,i,l,u,h,f,m,v,w){$i=!1,vo=null,$w.apply(Hw,arguments)}function Ww(r,i,l,u,h,f,m,v,w){if(Kw.apply(this,arguments),$i){if($i){var _=vo;$i=!1,vo=null}else throw Error(n(198));wo||(wo=!0,Za=_)}}function mr(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function nd(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function rd(r){if(mr(r)!==r)throw Error(n(188))}function qw(r){var i=r.alternate;if(!i){if(i=mr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,u=i;;){var h=l.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===l)return rd(h),r;if(f===u)return rd(h),i;f=f.sibling}throw Error(n(188))}if(l.return!==u.return)l=h,u=f;else{for(var m=!1,v=h.child;v;){if(v===l){m=!0,l=h,u=f;break}if(v===u){m=!0,u=h,l=f;break}v=v.sibling}if(!m){for(v=f.child;v;){if(v===l){m=!0,l=f,u=h;break}if(v===u){m=!0,u=f,l=h;break}v=v.sibling}if(!m)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function id(r){return r=qw(r),r!==null?sd(r):null}function sd(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=sd(r);if(i!==null)return i;r=r.sibling}return null}var od=e.unstable_scheduleCallback,ld=e.unstable_cancelCallback,Qw=e.unstable_shouldYield,Gw=e.unstable_requestPaint,ze=e.unstable_now,bw=e.unstable_getCurrentPriorityLevel,eu=e.unstable_ImmediatePriority,ad=e.unstable_UserBlockingPriority,Eo=e.unstable_NormalPriority,Yw=e.unstable_LowPriority,ud=e.unstable_IdlePriority,So=null,an=null;function Xw(r){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(So,r,void 0,(r.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:e0,Jw=Math.log,Zw=Math.LN2;function e0(r){return r>>>=0,r===0?32:31-(Jw(r)/Zw|0)|0}var Co=64,ko=4194304;function Hi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function To(r,i){var l=r.pendingLanes;if(l===0)return 0;var u=0,h=r.suspendedLanes,f=r.pingedLanes,m=l&268435455;if(m!==0){var v=m&~h;v!==0?u=Hi(v):(f&=m,f!==0&&(u=Hi(f)))}else m=l&~h,m!==0?u=Hi(m):f!==0&&(u=Hi(f));if(u===0)return 0;if(i!==0&&i!==u&&!(i&h)&&(h=u&-u,f=i&-i,h>=f||h===16&&(f&4194240)!==0))return i;if(u&4&&(u|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=u;0<i;)l=31-Yt(i),h=1<<l,u|=r[l],i&=~h;return u}function t0(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n0(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,f=r.pendingLanes;0<f;){var m=31-Yt(f),v=1<<m,w=h[m];w===-1?(!(v&l)||v&u)&&(h[m]=t0(v,i)):w<=i&&(r.expiredLanes|=v),f&=~v}}function tu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function cd(){var r=Co;return Co<<=1,!(Co&4194240)&&(Co=64),r}function nu(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Ki(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Yt(i),r[i]=l}function r0(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<l;){var h=31-Yt(l),f=1<<h;i[h]=0,u[h]=-1,r[h]=-1,l&=~f}}function ru(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-Yt(l),h=1<<u;h&i|r[u]&i&&(r[u]|=i),l&=~h}}var Se=0;function hd(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var fd,iu,dd,pd,md,su=!1,Io=[],Mn=null,Fn=null,Un=null,Wi=new Map,qi=new Map,Vn=[],i0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gd(r,i){switch(r){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Wi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(i.pointerId)}}function Qi(r,i,l,u,h,f){return r===null||r.nativeEvent!==f?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},i!==null&&(i=ls(i),i!==null&&iu(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function s0(r,i,l,u,h){switch(i){case"focusin":return Mn=Qi(Mn,r,i,l,u,h),!0;case"dragenter":return Fn=Qi(Fn,r,i,l,u,h),!0;case"mouseover":return Un=Qi(Un,r,i,l,u,h),!0;case"pointerover":var f=h.pointerId;return Wi.set(f,Qi(Wi.get(f)||null,r,i,l,u,h)),!0;case"gotpointercapture":return f=h.pointerId,qi.set(f,Qi(qi.get(f)||null,r,i,l,u,h)),!0}return!1}function yd(r){var i=gr(r.target);if(i!==null){var l=mr(i);if(l!==null){if(i=l.tag,i===13){if(i=nd(l),i!==null){r.blockedOn=i,md(r.priority,function(){dd(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _o(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=lu(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);Ga=u,l.target.dispatchEvent(u),Ga=null}else return i=ls(l),i!==null&&iu(i),r.blockedOn=l,!1;i.shift()}return!0}function vd(r,i,l){_o(r)&&l.delete(i)}function o0(){su=!1,Mn!==null&&_o(Mn)&&(Mn=null),Fn!==null&&_o(Fn)&&(Fn=null),Un!==null&&_o(Un)&&(Un=null),Wi.forEach(vd),qi.forEach(vd)}function Gi(r,i){r.blockedOn===i&&(r.blockedOn=null,su||(su=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,o0)))}function bi(r){function i(h){return Gi(h,r)}if(0<Io.length){Gi(Io[0],r);for(var l=1;l<Io.length;l++){var u=Io[l];u.blockedOn===r&&(u.blockedOn=null)}}for(Mn!==null&&Gi(Mn,r),Fn!==null&&Gi(Fn,r),Un!==null&&Gi(Un,r),Wi.forEach(i),qi.forEach(i),l=0;l<Vn.length;l++)u=Vn[l],u.blockedOn===r&&(u.blockedOn=null);for(;0<Vn.length&&(l=Vn[0],l.blockedOn===null);)yd(l),l.blockedOn===null&&Vn.shift()}var Kr=ce.ReactCurrentBatchConfig,xo=!0;function l0(r,i,l,u){var h=Se,f=Kr.transition;Kr.transition=null;try{Se=1,ou(r,i,l,u)}finally{Se=h,Kr.transition=f}}function a0(r,i,l,u){var h=Se,f=Kr.transition;Kr.transition=null;try{Se=4,ou(r,i,l,u)}finally{Se=h,Kr.transition=f}}function ou(r,i,l,u){if(xo){var h=lu(r,i,l,u);if(h===null)Tu(r,i,u,No,l),gd(r,u);else if(s0(h,r,i,l,u))u.stopPropagation();else if(gd(r,u),i&4&&-1<i0.indexOf(r)){for(;h!==null;){var f=ls(h);if(f!==null&&fd(f),f=lu(r,i,l,u),f===null&&Tu(r,i,u,No,l),f===h)break;h=f}h!==null&&u.stopPropagation()}else Tu(r,i,u,null,l)}}var No=null;function lu(r,i,l,u){if(No=null,r=ba(u),r=gr(r),r!==null)if(i=mr(r),i===null)r=null;else if(l=i.tag,l===13){if(r=nd(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return No=r,null}function wd(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bw()){case eu:return 1;case ad:return 4;case Eo:case Yw:return 16;case ud:return 536870912;default:return 16}default:return 16}}var zn=null,au=null,Do=null;function Ed(){if(Do)return Do;var r,i=au,l=i.length,u,h="value"in zn?zn.value:zn.textContent,f=h.length;for(r=0;r<l&&i[r]===h[r];r++);var m=l-r;for(u=1;u<=m&&i[l-u]===h[f-u];u++);return Do=h.slice(r,1<u?1-u:void 0)}function Ao(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Po(){return!0}function Sd(){return!1}function Ot(r){function i(l,u,h,f,m){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var v in r)r.hasOwnProperty(v)&&(l=r[v],this[v]=l?l(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Po:Sd,this.isPropagationStopped=Sd,this}return H(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),i}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=Ot(Wr),Yi=H({},Wr,{view:0,detail:0}),u0=Ot(Yi),cu,hu,Xi,Ro=H({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xi&&(Xi&&r.type==="mousemove"?(cu=r.screenX-Xi.screenX,hu=r.screenY-Xi.screenY):hu=cu=0,Xi=r),cu)},movementY:function(r){return"movementY"in r?r.movementY:hu}}),Cd=Ot(Ro),c0=H({},Ro,{dataTransfer:0}),h0=Ot(c0),f0=H({},Yi,{relatedTarget:0}),fu=Ot(f0),d0=H({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),p0=Ot(d0),m0=H({},Wr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),g0=Ot(m0),y0=H({},Wr,{data:0}),kd=Ot(y0),v0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S0(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=E0[r])?!!i[r]:!1}function du(){return S0}var C0=H({},Yi,{key:function(r){if(r.key){var i=v0[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ao(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?w0[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(r){return r.type==="keypress"?Ao(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ao(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),k0=Ot(C0),T0=H({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=Ot(T0),I0=H({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),_0=Ot(I0),x0=H({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N0=Ot(x0),D0=H({},Ro,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),A0=Ot(D0),P0=[9,13,27,32],pu=d&&"CompositionEvent"in window,Ji=null;d&&"documentMode"in document&&(Ji=document.documentMode);var R0=d&&"TextEvent"in window&&!Ji,Id=d&&(!pu||Ji&&8<Ji&&11>=Ji),_d=" ",xd=!1;function Nd(r,i){switch(r){case"keyup":return P0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qr=!1;function L0(r,i){switch(r){case"compositionend":return Dd(i);case"keypress":return i.which!==32?null:(xd=!0,_d);case"textInput":return r=i.data,r===_d&&xd?null:r;default:return null}}function O0(r,i){if(qr)return r==="compositionend"||!pu&&Nd(r,i)?(r=Ed(),Do=au=zn=null,qr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Id&&i.locale!=="ko"?null:i.data;default:return null}}var M0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!M0[r.type]:i==="textarea"}function Pd(r,i,l,u){Xf(u),i=Uo(i,"onChange"),0<i.length&&(l=new uu("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var Zi=null,es=null;function F0(r){bd(r,0)}function Lo(r){var i=Xr(r);if(zf(i))return r}function U0(r,i){if(r==="change")return i}var Rd=!1;if(d){var mu;if(d){var gu="oninput"in document;if(!gu){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),gu=typeof Ld.oninput=="function"}mu=gu}else mu=!1;Rd=mu&&(!document.documentMode||9<document.documentMode)}function Od(){Zi&&(Zi.detachEvent("onpropertychange",Md),es=Zi=null)}function Md(r){if(r.propertyName==="value"&&Lo(es)){var i=[];Pd(i,es,r,ba(r)),td(F0,i)}}function V0(r,i,l){r==="focusin"?(Od(),Zi=i,es=l,Zi.attachEvent("onpropertychange",Md)):r==="focusout"&&Od()}function z0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lo(es)}function j0(r,i){if(r==="click")return Lo(i)}function B0(r,i){if(r==="input"||r==="change")return Lo(i)}function $0(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Xt=typeof Object.is=="function"?Object.is:$0;function ts(r,i){if(Xt(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!p.call(i,h)||!Xt(r[h],i[h]))return!1}return!0}function Fd(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ud(r,i){var l=Fd(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Fd(l)}}function Vd(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Vd(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function zd(){for(var r=window,i=go();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=go(r.document)}return i}function yu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function H0(r){var i=zd(),l=r.focusedElem,u=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&Vd(l.ownerDocument.documentElement,l)){if(u!==null&&yu(l)){if(i=u.start,r=u.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var h=l.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!r.extend&&f>u&&(h=u,u=f,f=h),h=Ud(l,f);var m=Ud(l,u);h&&m&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==m.node||r.focusOffset!==m.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),r.removeAllRanges(),f>u?(r.addRange(i),r.extend(m.node,m.offset)):(i.setEnd(m.node,m.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var K0=d&&"documentMode"in document&&11>=document.documentMode,Qr=null,vu=null,ns=null,wu=!1;function jd(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wu||Qr==null||Qr!==go(u)||(u=Qr,"selectionStart"in u&&yu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ns&&ts(ns,u)||(ns=u,u=Uo(vu,"onSelect"),0<u.length&&(i=new uu("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=Qr)))}function Oo(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Gr={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},Eu={},Bd={};d&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Mo(r){if(Eu[r])return Eu[r];if(!Gr[r])return r;var i=Gr[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Bd)return Eu[r]=i[l];return r}var $d=Mo("animationend"),Hd=Mo("animationiteration"),Kd=Mo("animationstart"),Wd=Mo("transitionend"),qd=new Map,Qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(r,i){qd.set(r,i),a(i,[r])}for(var Su=0;Su<Qd.length;Su++){var Cu=Qd[Su],W0=Cu.toLowerCase(),q0=Cu[0].toUpperCase()+Cu.slice(1);jn(W0,"on"+q0)}jn($d,"onAnimationEnd"),jn(Hd,"onAnimationIteration"),jn(Kd,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Wd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function Gd(r,i,l){var u=r.type||"unknown-event";r.currentTarget=l,Ww(u,i,void 0,r),r.currentTarget=null}function bd(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],h=u.event;u=u.listeners;e:{var f=void 0;if(i)for(var m=u.length-1;0<=m;m--){var v=u[m],w=v.instance,_=v.currentTarget;if(v=v.listener,w!==f&&h.isPropagationStopped())break e;Gd(h,v,_),f=w}else for(m=0;m<u.length;m++){if(v=u[m],w=v.instance,_=v.currentTarget,v=v.listener,w!==f&&h.isPropagationStopped())break e;Gd(h,v,_),f=w}}}if(wo)throw r=Za,wo=!1,Za=null,r}function Ie(r,i){var l=i[Au];l===void 0&&(l=i[Au]=new Set);var u=r+"__bubble";l.has(u)||(Yd(i,r,2,!1),l.add(u))}function ku(r,i,l){var u=0;i&&(u|=4),Yd(l,r,u,i)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function is(r){if(!r[Fo]){r[Fo]=!0,s.forEach(function(l){l!=="selectionchange"&&(Q0.has(l)||ku(l,!1,r),ku(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Fo]||(i[Fo]=!0,ku("selectionchange",!1,i))}}function Yd(r,i,l,u){switch(wd(i)){case 1:var h=l0;break;case 4:h=a0;break;default:h=ou}l=h.bind(null,i,l,r),h=void 0,!Ja||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(i,l,{capture:!0,passive:h}):r.addEventListener(i,l,!0):h!==void 0?r.addEventListener(i,l,{passive:h}):r.addEventListener(i,l,!1)}function Tu(r,i,l,u,h){var f=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var m=u.tag;if(m===3||m===4){var v=u.stateNode.containerInfo;if(v===h||v.nodeType===8&&v.parentNode===h)break;if(m===4)for(m=u.return;m!==null;){var w=m.tag;if((w===3||w===4)&&(w=m.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;m=m.return}for(;v!==null;){if(m=gr(v),m===null)return;if(w=m.tag,w===5||w===6){u=f=m;continue e}v=v.parentNode}}u=u.return}td(function(){var _=f,P=ba(l),L=[];e:{var D=qd.get(r);if(D!==void 0){var B=uu,K=r;switch(r){case"keypress":if(Ao(l)===0)break e;case"keydown":case"keyup":B=k0;break;case"focusin":K="focus",B=fu;break;case"focusout":K="blur",B=fu;break;case"beforeblur":case"afterblur":B=fu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=h0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=_0;break;case $d:case Hd:case Kd:B=p0;break;case Wd:B=N0;break;case"scroll":B=u0;break;case"wheel":B=A0;break;case"copy":case"cut":case"paste":B=g0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Td}var W=(i&4)!==0,je=!W&&r==="scroll",k=W?D!==null?D+"Capture":null:D;W=[];for(var S=_,T;S!==null;){T=S;var F=T.stateNode;if(T.tag===5&&F!==null&&(T=F,k!==null&&(F=ji(S,k),F!=null&&W.push(ss(S,F,T)))),je)break;S=S.return}0<W.length&&(D=new B(D,K,null,l,P),L.push({event:D,listeners:W}))}}if(!(i&7)){e:{if(D=r==="mouseover"||r==="pointerover",B=r==="mouseout"||r==="pointerout",D&&l!==Ga&&(K=l.relatedTarget||l.fromElement)&&(gr(K)||K[En]))break e;if((B||D)&&(D=P.window===P?P:(D=P.ownerDocument)?D.defaultView||D.parentWindow:window,B?(K=l.relatedTarget||l.toElement,B=_,K=K?gr(K):null,K!==null&&(je=mr(K),K!==je||K.tag!==5&&K.tag!==6)&&(K=null)):(B=null,K=_),B!==K)){if(W=Cd,F="onMouseLeave",k="onMouseEnter",S="mouse",(r==="pointerout"||r==="pointerover")&&(W=Td,F="onPointerLeave",k="onPointerEnter",S="pointer"),je=B==null?D:Xr(B),T=K==null?D:Xr(K),D=new W(F,S+"leave",B,l,P),D.target=je,D.relatedTarget=T,F=null,gr(P)===_&&(W=new W(k,S+"enter",K,l,P),W.target=T,W.relatedTarget=je,F=W),je=F,B&&K)t:{for(W=B,k=K,S=0,T=W;T;T=br(T))S++;for(T=0,F=k;F;F=br(F))T++;for(;0<S-T;)W=br(W),S--;for(;0<T-S;)k=br(k),T--;for(;S--;){if(W===k||k!==null&&W===k.alternate)break t;W=br(W),k=br(k)}W=null}else W=null;B!==null&&Xd(L,D,B,W,!1),K!==null&&je!==null&&Xd(L,je,K,W,!0)}}e:{if(D=_?Xr(_):window,B=D.nodeName&&D.nodeName.toLowerCase(),B==="select"||B==="input"&&D.type==="file")var q=U0;else if(Ad(D))if(Rd)q=B0;else{q=z0;var Y=V0}else(B=D.nodeName)&&B.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(q=j0);if(q&&(q=q(r,_))){Pd(L,q,l,P);break e}Y&&Y(r,D,_),r==="focusout"&&(Y=D._wrapperState)&&Y.controlled&&D.type==="number"&&Ha(D,"number",D.value)}switch(Y=_?Xr(_):window,r){case"focusin":(Ad(Y)||Y.contentEditable==="true")&&(Qr=Y,vu=_,ns=null);break;case"focusout":ns=vu=Qr=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,jd(L,l,P);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":jd(L,l,P)}var X;if(pu)e:{switch(r){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else qr?Nd(r,l)&&(ee="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ee="onCompositionStart");ee&&(Id&&l.locale!=="ko"&&(qr||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&qr&&(X=Ed()):(zn=P,au="value"in zn?zn.value:zn.textContent,qr=!0)),Y=Uo(_,ee),0<Y.length&&(ee=new kd(ee,r,null,l,P),L.push({event:ee,listeners:Y}),X?ee.data=X:(X=Dd(l),X!==null&&(ee.data=X)))),(X=R0?L0(r,l):O0(r,l))&&(_=Uo(_,"onBeforeInput"),0<_.length&&(P=new kd("onBeforeInput","beforeinput",null,l,P),L.push({event:P,listeners:_}),P.data=X))}bd(L,i)})}function ss(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Uo(r,i){for(var l=i+"Capture",u=[];r!==null;){var h=r,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=ji(r,l),f!=null&&u.unshift(ss(r,f,h)),f=ji(r,i),f!=null&&u.push(ss(r,f,h))),r=r.return}return u}function br(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Xd(r,i,l,u,h){for(var f=i._reactName,m=[];l!==null&&l!==u;){var v=l,w=v.alternate,_=v.stateNode;if(w!==null&&w===u)break;v.tag===5&&_!==null&&(v=_,h?(w=ji(l,f),w!=null&&m.unshift(ss(l,w,v))):h||(w=ji(l,f),w!=null&&m.push(ss(l,w,v)))),l=l.return}m.length!==0&&r.push({event:i,listeners:m})}var G0=/\r\n?/g,b0=/\u0000|\uFFFD/g;function Jd(r){return(typeof r=="string"?r:""+r).replace(G0,`
`).replace(b0,"")}function Vo(r,i,l){if(i=Jd(i),Jd(r)!==i&&l)throw Error(n(425))}function zo(){}var Iu=null,_u=null;function xu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,X0=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(r){return Zd.resolve(null).then(r).catch(J0)}:Nu;function J0(r){setTimeout(function(){throw r})}function Du(r,i){var l=i,u=0;do{var h=l.nextSibling;if(r.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(u===0){r.removeChild(h),bi(i);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=h}while(l);bi(i)}function Bn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function ep(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),un="__reactFiber$"+Yr,os="__reactProps$"+Yr,En="__reactContainer$"+Yr,Au="__reactEvents$"+Yr,Z0="__reactListeners$"+Yr,e1="__reactHandles$"+Yr;function gr(r){var i=r[un];if(i)return i;for(var l=r.parentNode;l;){if(i=l[En]||l[un]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=ep(r);r!==null;){if(l=r[un])return l;r=ep(r)}return i}r=l,l=r.parentNode}return null}function ls(r){return r=r[un]||r[En],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Xr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function jo(r){return r[os]||null}var Pu=[],Jr=-1;function $n(r){return{current:r}}function _e(r){0>Jr||(r.current=Pu[Jr],Pu[Jr]=null,Jr--)}function Te(r,i){Jr++,Pu[Jr]=r.current,r.current=i}var Hn={},at=$n(Hn),It=$n(!1),yr=Hn;function Zr(r,i){var l=r.type.contextTypes;if(!l)return Hn;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in l)h[f]=i[f];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=h),h}function _t(r){return r=r.childContextTypes,r!=null}function Bo(){_e(It),_e(at)}function tp(r,i,l){if(at.current!==Hn)throw Error(n(168));Te(at,i),Te(It,l)}function np(r,i,l){var u=r.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var h in u)if(!(h in i))throw Error(n(108,ke(r)||"Unknown",h));return H({},l,u)}function $o(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Hn,yr=at.current,Te(at,r),Te(It,It.current),!0}function rp(r,i,l){var u=r.stateNode;if(!u)throw Error(n(169));l?(r=np(r,i,yr),u.__reactInternalMemoizedMergedChildContext=r,_e(It),_e(at),Te(at,r)):_e(It),Te(It,l)}var Sn=null,Ho=!1,Ru=!1;function ip(r){Sn===null?Sn=[r]:Sn.push(r)}function t1(r){Ho=!0,ip(r)}function Kn(){if(!Ru&&Sn!==null){Ru=!0;var r=0,i=Se;try{var l=Sn;for(Se=1;r<l.length;r++){var u=l[r];do u=u(!0);while(u!==null)}Sn=null,Ho=!1}catch(h){throw Sn!==null&&(Sn=Sn.slice(r+1)),od(eu,Kn),h}finally{Se=i,Ru=!1}}return null}var ei=[],ti=0,Ko=null,Wo=0,Bt=[],$t=0,vr=null,Cn=1,kn="";function wr(r,i){ei[ti++]=Wo,ei[ti++]=Ko,Ko=r,Wo=i}function sp(r,i,l){Bt[$t++]=Cn,Bt[$t++]=kn,Bt[$t++]=vr,vr=r;var u=Cn;r=kn;var h=32-Yt(u)-1;u&=~(1<<h),l+=1;var f=32-Yt(i)+h;if(30<f){var m=h-h%5;f=(u&(1<<m)-1).toString(32),u>>=m,h-=m,Cn=1<<32-Yt(i)+h|l<<h|u,kn=f+r}else Cn=1<<f|l<<h|u,kn=r}function Lu(r){r.return!==null&&(wr(r,1),sp(r,1,0))}function Ou(r){for(;r===Ko;)Ko=ei[--ti],ei[ti]=null,Wo=ei[--ti],ei[ti]=null;for(;r===vr;)vr=Bt[--$t],Bt[$t]=null,kn=Bt[--$t],Bt[$t]=null,Cn=Bt[--$t],Bt[$t]=null}var Mt=null,Ft=null,Ae=!1,Jt=null;function op(r,i){var l=qt(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function lp(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Mt=r,Ft=Bn(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Mt=r,Ft=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=vr!==null?{id:Cn,overflow:kn}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=qt(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,Mt=r,Ft=null,!0):!1;default:return!1}}function Mu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Fu(r){if(Ae){var i=Ft;if(i){var l=i;if(!lp(r,i)){if(Mu(r))throw Error(n(418));i=Bn(l.nextSibling);var u=Mt;i&&lp(r,i)?op(u,l):(r.flags=r.flags&-4097|2,Ae=!1,Mt=r)}}else{if(Mu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ae=!1,Mt=r}}}function ap(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Mt=r}function qo(r){if(r!==Mt)return!1;if(!Ae)return ap(r),Ae=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!xu(r.type,r.memoizedProps)),i&&(i=Ft)){if(Mu(r))throw up(),Error(n(418));for(;i;)op(r,i),i=Bn(i.nextSibling)}if(ap(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){Ft=Bn(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}Ft=null}}else Ft=Mt?Bn(r.stateNode.nextSibling):null;return!0}function up(){for(var r=Ft;r;)r=Bn(r.nextSibling)}function ni(){Ft=Mt=null,Ae=!1}function Uu(r){Jt===null?Jt=[r]:Jt.push(r)}var n1=ce.ReactCurrentBatchConfig;function as(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var u=l.stateNode}if(!u)throw Error(n(147,r));var h=u,f=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(m){var v=h.refs;m===null?delete v[f]:v[f]=m},i._stringRef=f,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Qo(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function cp(r){var i=r._init;return i(r._payload)}function hp(r){function i(k,S){if(r){var T=k.deletions;T===null?(k.deletions=[S],k.flags|=16):T.push(S)}}function l(k,S){if(!r)return null;for(;S!==null;)i(k,S),S=S.sibling;return null}function u(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function h(k,S){return k=Jn(k,S),k.index=0,k.sibling=null,k}function f(k,S,T){return k.index=T,r?(T=k.alternate,T!==null?(T=T.index,T<S?(k.flags|=2,S):T):(k.flags|=2,S)):(k.flags|=1048576,S)}function m(k){return r&&k.alternate===null&&(k.flags|=2),k}function v(k,S,T,F){return S===null||S.tag!==6?(S=Nc(T,k.mode,F),S.return=k,S):(S=h(S,T),S.return=k,S)}function w(k,S,T,F){var q=T.type;return q===nt?P(k,S,T.props.children,F,T.key):S!==null&&(S.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Tt&&cp(q)===S.type)?(F=h(S,T.props),F.ref=as(k,S,T),F.return=k,F):(F=yl(T.type,T.key,T.props,null,k.mode,F),F.ref=as(k,S,T),F.return=k,F)}function _(k,S,T,F){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=Dc(T,k.mode,F),S.return=k,S):(S=h(S,T.children||[]),S.return=k,S)}function P(k,S,T,F,q){return S===null||S.tag!==7?(S=xr(T,k.mode,F,q),S.return=k,S):(S=h(S,T),S.return=k,S)}function L(k,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Nc(""+S,k.mode,T),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Re:return T=yl(S.type,S.key,S.props,null,k.mode,T),T.ref=as(k,null,S),T.return=k,T;case We:return S=Dc(S,k.mode,T),S.return=k,S;case Tt:var F=S._init;return L(k,F(S._payload),T)}if(Ui(S)||Z(S))return S=xr(S,k.mode,T,null),S.return=k,S;Qo(k,S)}return null}function D(k,S,T,F){var q=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return q!==null?null:v(k,S,""+T,F);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Re:return T.key===q?w(k,S,T,F):null;case We:return T.key===q?_(k,S,T,F):null;case Tt:return q=T._init,D(k,S,q(T._payload),F)}if(Ui(T)||Z(T))return q!==null?null:P(k,S,T,F,null);Qo(k,T)}return null}function B(k,S,T,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return k=k.get(T)||null,v(S,k,""+F,q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Re:return k=k.get(F.key===null?T:F.key)||null,w(S,k,F,q);case We:return k=k.get(F.key===null?T:F.key)||null,_(S,k,F,q);case Tt:var Y=F._init;return B(k,S,T,Y(F._payload),q)}if(Ui(F)||Z(F))return k=k.get(T)||null,P(S,k,F,q,null);Qo(S,F)}return null}function K(k,S,T,F){for(var q=null,Y=null,X=S,ee=S=0,Je=null;X!==null&&ee<T.length;ee++){X.index>ee?(Je=X,X=null):Je=X.sibling;var ye=D(k,X,T[ee],F);if(ye===null){X===null&&(X=Je);break}r&&X&&ye.alternate===null&&i(k,X),S=f(ye,S,ee),Y===null?q=ye:Y.sibling=ye,Y=ye,X=Je}if(ee===T.length)return l(k,X),Ae&&wr(k,ee),q;if(X===null){for(;ee<T.length;ee++)X=L(k,T[ee],F),X!==null&&(S=f(X,S,ee),Y===null?q=X:Y.sibling=X,Y=X);return Ae&&wr(k,ee),q}for(X=u(k,X);ee<T.length;ee++)Je=B(X,k,ee,T[ee],F),Je!==null&&(r&&Je.alternate!==null&&X.delete(Je.key===null?ee:Je.key),S=f(Je,S,ee),Y===null?q=Je:Y.sibling=Je,Y=Je);return r&&X.forEach(function(Zn){return i(k,Zn)}),Ae&&wr(k,ee),q}function W(k,S,T,F){var q=Z(T);if(typeof q!="function")throw Error(n(150));if(T=q.call(T),T==null)throw Error(n(151));for(var Y=q=null,X=S,ee=S=0,Je=null,ye=T.next();X!==null&&!ye.done;ee++,ye=T.next()){X.index>ee?(Je=X,X=null):Je=X.sibling;var Zn=D(k,X,ye.value,F);if(Zn===null){X===null&&(X=Je);break}r&&X&&Zn.alternate===null&&i(k,X),S=f(Zn,S,ee),Y===null?q=Zn:Y.sibling=Zn,Y=Zn,X=Je}if(ye.done)return l(k,X),Ae&&wr(k,ee),q;if(X===null){for(;!ye.done;ee++,ye=T.next())ye=L(k,ye.value,F),ye!==null&&(S=f(ye,S,ee),Y===null?q=ye:Y.sibling=ye,Y=ye);return Ae&&wr(k,ee),q}for(X=u(k,X);!ye.done;ee++,ye=T.next())ye=B(X,k,ee,ye.value,F),ye!==null&&(r&&ye.alternate!==null&&X.delete(ye.key===null?ee:ye.key),S=f(ye,S,ee),Y===null?q=ye:Y.sibling=ye,Y=ye);return r&&X.forEach(function(M1){return i(k,M1)}),Ae&&wr(k,ee),q}function je(k,S,T,F){if(typeof T=="object"&&T!==null&&T.type===nt&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Re:e:{for(var q=T.key,Y=S;Y!==null;){if(Y.key===q){if(q=T.type,q===nt){if(Y.tag===7){l(k,Y.sibling),S=h(Y,T.props.children),S.return=k,k=S;break e}}else if(Y.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Tt&&cp(q)===Y.type){l(k,Y.sibling),S=h(Y,T.props),S.ref=as(k,Y,T),S.return=k,k=S;break e}l(k,Y);break}else i(k,Y);Y=Y.sibling}T.type===nt?(S=xr(T.props.children,k.mode,F,T.key),S.return=k,k=S):(F=yl(T.type,T.key,T.props,null,k.mode,F),F.ref=as(k,S,T),F.return=k,k=F)}return m(k);case We:e:{for(Y=T.key;S!==null;){if(S.key===Y)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){l(k,S.sibling),S=h(S,T.children||[]),S.return=k,k=S;break e}else{l(k,S);break}else i(k,S);S=S.sibling}S=Dc(T,k.mode,F),S.return=k,k=S}return m(k);case Tt:return Y=T._init,je(k,S,Y(T._payload),F)}if(Ui(T))return K(k,S,T,F);if(Z(T))return W(k,S,T,F);Qo(k,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(l(k,S.sibling),S=h(S,T),S.return=k,k=S):(l(k,S),S=Nc(T,k.mode,F),S.return=k,k=S),m(k)):l(k,S)}return je}var ri=hp(!0),fp=hp(!1),Go=$n(null),bo=null,ii=null,Vu=null;function zu(){Vu=ii=bo=null}function ju(r){var i=Go.current;_e(Go),r._currentValue=i}function Bu(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function si(r,i){bo=r,Vu=ii=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(xt=!0),r.firstContext=null)}function Ht(r){var i=r._currentValue;if(Vu!==r)if(r={context:r,memoizedValue:i,next:null},ii===null){if(bo===null)throw Error(n(308));ii=r,bo.dependencies={lanes:0,firstContext:r}}else ii=ii.next=r;return i}var Er=null;function $u(r){Er===null?Er=[r]:Er.push(r)}function dp(r,i,l,u){var h=i.interleaved;return h===null?(l.next=l,$u(i)):(l.next=h.next,h.next=l),i.interleaved=l,Tn(r,u)}function Tn(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Wn=!1;function Hu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function In(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function qn(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,pe&2){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,Tn(r,l)}return h=u.interleaved,h===null?(i.next=i,$u(u)):(i.next=h.next,h.next=i),u.interleaved=i,Tn(r,l)}function Yo(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,ru(r,l)}}function mp(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,f=null;if(l=l.firstBaseUpdate,l!==null){do{var m={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};f===null?h=f=m:f=f.next=m,l=l.next}while(l!==null);f===null?h=f=i:f=f.next=i}else h=f=i;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,effects:u.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Xo(r,i,l,u){var h=r.updateQueue;Wn=!1;var f=h.firstBaseUpdate,m=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var w=v,_=w.next;w.next=null,m===null?f=_:m.next=_,m=w;var P=r.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==m&&(v===null?P.firstBaseUpdate=_:v.next=_,P.lastBaseUpdate=w))}if(f!==null){var L=h.baseState;m=0,P=_=w=null,v=f;do{var D=v.lane,B=v.eventTime;if((u&D)===D){P!==null&&(P=P.next={eventTime:B,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var K=r,W=v;switch(D=i,B=l,W.tag){case 1:if(K=W.payload,typeof K=="function"){L=K.call(B,L,D);break e}L=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=W.payload,D=typeof K=="function"?K.call(B,L,D):K,D==null)break e;L=H({},L,D);break e;case 2:Wn=!0}}v.callback!==null&&v.lane!==0&&(r.flags|=64,D=h.effects,D===null?h.effects=[v]:D.push(v))}else B={eventTime:B,lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(_=P=B,w=L):P=P.next=B,m|=D;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;D=v,v=D.next,D.next=null,h.lastBaseUpdate=D,h.shared.pending=null}}while(!0);if(P===null&&(w=L),h.baseState=w,h.firstBaseUpdate=_,h.lastBaseUpdate=P,i=h.shared.interleaved,i!==null){h=i;do m|=h.lane,h=h.next;while(h!==i)}else f===null&&(h.shared.lanes=0);kr|=m,r.lanes=m,r.memoizedState=L}}function gp(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var u=r[i],h=u.callback;if(h!==null){if(u.callback=null,u=l,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var us={},cn=$n(us),cs=$n(us),hs=$n(us);function Sr(r){if(r===us)throw Error(n(174));return r}function Ku(r,i){switch(Te(hs,i),Te(cs,r),Te(cn,us),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Wa(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Wa(i,r)}_e(cn),Te(cn,i)}function oi(){_e(cn),_e(cs),_e(hs)}function yp(r){Sr(hs.current);var i=Sr(cn.current),l=Wa(i,r.type);i!==l&&(Te(cs,r),Te(cn,l))}function Wu(r){cs.current===r&&(_e(cn),_e(cs))}var Le=$n(0);function Jo(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qu=[];function Qu(){for(var r=0;r<qu.length;r++)qu[r]._workInProgressVersionPrimary=null;qu.length=0}var Zo=ce.ReactCurrentDispatcher,Gu=ce.ReactCurrentBatchConfig,Cr=0,Oe=null,qe=null,Ye=null,el=!1,fs=!1,ds=0,r1=0;function ut(){throw Error(n(321))}function bu(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Xt(r[l],i[l]))return!1;return!0}function Yu(r,i,l,u,h,f){if(Cr=f,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Zo.current=r===null||r.memoizedState===null?l1:a1,r=l(u,h),fs){f=0;do{if(fs=!1,ds=0,25<=f)throw Error(n(301));f+=1,Ye=qe=null,i.updateQueue=null,Zo.current=u1,r=l(u,h)}while(fs)}if(Zo.current=rl,i=qe!==null&&qe.next!==null,Cr=0,Ye=qe=Oe=null,el=!1,i)throw Error(n(300));return r}function Xu(){var r=ds!==0;return ds=0,r}function hn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Oe.memoizedState=Ye=r:Ye=Ye.next=r,Ye}function Kt(){if(qe===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=qe.next;var i=Ye===null?Oe.memoizedState:Ye.next;if(i!==null)Ye=i,qe=r;else{if(r===null)throw Error(n(310));qe=r,r={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ye===null?Oe.memoizedState=Ye=r:Ye=Ye.next=r}return Ye}function ps(r,i){return typeof i=="function"?i(r):i}function Ju(r){var i=Kt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=qe,h=u.baseQueue,f=l.pending;if(f!==null){if(h!==null){var m=h.next;h.next=f.next,f.next=m}u.baseQueue=h=f,l.pending=null}if(h!==null){f=h.next,u=u.baseState;var v=m=null,w=null,_=f;do{var P=_.lane;if((Cr&P)===P)w!==null&&(w=w.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),u=_.hasEagerState?_.eagerState:r(u,_.action);else{var L={lane:P,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};w===null?(v=w=L,m=u):w=w.next=L,Oe.lanes|=P,kr|=P}_=_.next}while(_!==null&&_!==f);w===null?m=u:w.next=v,Xt(u,i.memoizedState)||(xt=!0),i.memoizedState=u,i.baseState=m,i.baseQueue=w,l.lastRenderedState=u}if(r=l.interleaved,r!==null){h=r;do f=h.lane,Oe.lanes|=f,kr|=f,h=h.next;while(h!==r)}else h===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Zu(r){var i=Kt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=l.dispatch,h=l.pending,f=i.memoizedState;if(h!==null){l.pending=null;var m=h=h.next;do f=r(f,m.action),m=m.next;while(m!==h);Xt(f,i.memoizedState)||(xt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),l.lastRenderedState=f}return[f,u]}function vp(){}function wp(r,i){var l=Oe,u=Kt(),h=i(),f=!Xt(u.memoizedState,h);if(f&&(u.memoizedState=h,xt=!0),u=u.queue,ec(Cp.bind(null,l,u,r),[r]),u.getSnapshot!==i||f||Ye!==null&&Ye.memoizedState.tag&1){if(l.flags|=2048,ms(9,Sp.bind(null,l,u,h,i),void 0,null),Xe===null)throw Error(n(349));Cr&30||Ep(l,i,h)}return h}function Ep(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Oe.updateQueue,i===null?(i={lastEffect:null,stores:null},Oe.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function Sp(r,i,l,u){i.value=l,i.getSnapshot=u,kp(i)&&Tp(r)}function Cp(r,i,l){return l(function(){kp(i)&&Tp(r)})}function kp(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Xt(r,l)}catch{return!0}}function Tp(r){var i=Tn(r,1);i!==null&&nn(i,r,1,-1)}function Ip(r){var i=hn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:r},i.queue=r,r=r.dispatch=o1.bind(null,Oe,r),[i.memoizedState,r]}function ms(r,i,l,u){return r={tag:r,create:i,destroy:l,deps:u,next:null},i=Oe.updateQueue,i===null?(i={lastEffect:null,stores:null},Oe.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r)),r}function _p(){return Kt().memoizedState}function tl(r,i,l,u){var h=hn();Oe.flags|=r,h.memoizedState=ms(1|i,l,void 0,u===void 0?null:u)}function nl(r,i,l,u){var h=Kt();u=u===void 0?null:u;var f=void 0;if(qe!==null){var m=qe.memoizedState;if(f=m.destroy,u!==null&&bu(u,m.deps)){h.memoizedState=ms(i,l,f,u);return}}Oe.flags|=r,h.memoizedState=ms(1|i,l,f,u)}function xp(r,i){return tl(8390656,8,r,i)}function ec(r,i){return nl(2048,8,r,i)}function Np(r,i){return nl(4,2,r,i)}function Dp(r,i){return nl(4,4,r,i)}function Ap(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Pp(r,i,l){return l=l!=null?l.concat([r]):null,nl(4,4,Ap.bind(null,i,r),l)}function tc(){}function Rp(r,i){var l=Kt();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&bu(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function Lp(r,i){var l=Kt();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&bu(i,u[1])?u[0]:(r=r(),l.memoizedState=[r,i],r)}function Op(r,i,l){return Cr&21?(Xt(l,i)||(l=cd(),Oe.lanes|=l,kr|=l,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,xt=!0),r.memoizedState=l)}function i1(r,i){var l=Se;Se=l!==0&&4>l?l:4,r(!0);var u=Gu.transition;Gu.transition={};try{r(!1),i()}finally{Se=l,Gu.transition=u}}function Mp(){return Kt().memoizedState}function s1(r,i,l){var u=Yn(r);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},Fp(r))Up(i,l);else if(l=dp(r,i,l,u),l!==null){var h=St();nn(l,r,u,h),Vp(l,i,u)}}function o1(r,i,l){var u=Yn(r),h={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fp(r))Up(i,h);else{var f=r.alternate;if(r.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var m=i.lastRenderedState,v=f(m,l);if(h.hasEagerState=!0,h.eagerState=v,Xt(v,m)){var w=i.interleaved;w===null?(h.next=h,$u(i)):(h.next=w.next,w.next=h),i.interleaved=h;return}}catch{}finally{}l=dp(r,i,h,u),l!==null&&(h=St(),nn(l,r,u,h),Vp(l,i,u))}}function Fp(r){var i=r.alternate;return r===Oe||i!==null&&i===Oe}function Up(r,i){fs=el=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Vp(r,i,l){if(l&4194240){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,ru(r,l)}}var rl={readContext:Ht,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},l1={readContext:Ht,useCallback:function(r,i){return hn().memoizedState=[r,i===void 0?null:i],r},useContext:Ht,useEffect:xp,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,tl(4194308,4,Ap.bind(null,i,r),l)},useLayoutEffect:function(r,i){return tl(4194308,4,r,i)},useInsertionEffect:function(r,i){return tl(4,2,r,i)},useMemo:function(r,i){var l=hn();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var u=hn();return i=l!==void 0?l(i):i,u.memoizedState=u.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},u.queue=r,r=r.dispatch=s1.bind(null,Oe,r),[u.memoizedState,r]},useRef:function(r){var i=hn();return r={current:r},i.memoizedState=r},useState:Ip,useDebugValue:tc,useDeferredValue:function(r){return hn().memoizedState=r},useTransition:function(){var r=Ip(!1),i=r[0];return r=i1.bind(null,r[1]),hn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var u=Oe,h=hn();if(Ae){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),Xe===null)throw Error(n(349));Cr&30||Ep(u,i,l)}h.memoizedState=l;var f={value:l,getSnapshot:i};return h.queue=f,xp(Cp.bind(null,u,f,r),[r]),u.flags|=2048,ms(9,Sp.bind(null,u,f,l,i),void 0,null),l},useId:function(){var r=hn(),i=Xe.identifierPrefix;if(Ae){var l=kn,u=Cn;l=(u&~(1<<32-Yt(u)-1)).toString(32)+l,i=":"+i+"R"+l,l=ds++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=r1++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},a1={readContext:Ht,useCallback:Rp,useContext:Ht,useEffect:ec,useImperativeHandle:Pp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:Lp,useReducer:Ju,useRef:_p,useState:function(){return Ju(ps)},useDebugValue:tc,useDeferredValue:function(r){var i=Kt();return Op(i,qe.memoizedState,r)},useTransition:function(){var r=Ju(ps)[0],i=Kt().memoizedState;return[r,i]},useMutableSource:vp,useSyncExternalStore:wp,useId:Mp,unstable_isNewReconciler:!1},u1={readContext:Ht,useCallback:Rp,useContext:Ht,useEffect:ec,useImperativeHandle:Pp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:Lp,useReducer:Zu,useRef:_p,useState:function(){return Zu(ps)},useDebugValue:tc,useDeferredValue:function(r){var i=Kt();return qe===null?i.memoizedState=r:Op(i,qe.memoizedState,r)},useTransition:function(){var r=Zu(ps)[0],i=Kt().memoizedState;return[r,i]},useMutableSource:vp,useSyncExternalStore:wp,useId:Mp,unstable_isNewReconciler:!1};function Zt(r,i){if(r&&r.defaultProps){i=H({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function nc(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:H({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var il={isMounted:function(r){return(r=r._reactInternals)?mr(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var u=St(),h=Yn(r),f=In(u,h);f.payload=i,l!=null&&(f.callback=l),i=qn(r,f,h),i!==null&&(nn(i,r,h,u),Yo(i,r,h))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=St(),h=Yn(r),f=In(u,h);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=qn(r,f,h),i!==null&&(nn(i,r,h,u),Yo(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=St(),u=Yn(r),h=In(l,u);h.tag=2,i!=null&&(h.callback=i),i=qn(r,h,u),i!==null&&(nn(i,r,u,l),Yo(i,r,u))}};function zp(r,i,l,u,h,f,m){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,f,m):i.prototype&&i.prototype.isPureReactComponent?!ts(l,u)||!ts(h,f):!0}function jp(r,i,l){var u=!1,h=Hn,f=i.contextType;return typeof f=="object"&&f!==null?f=Ht(f):(h=_t(i)?yr:at.current,u=i.contextTypes,f=(u=u!=null)?Zr(r,h):Hn),i=new i(l,f),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=il,r.stateNode=i,i._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=f),i}function Bp(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&il.enqueueReplaceState(i,i.state,null)}function rc(r,i,l,u){var h=r.stateNode;h.props=l,h.state=r.memoizedState,h.refs={},Hu(r);var f=i.contextType;typeof f=="object"&&f!==null?h.context=Ht(f):(f=_t(i)?yr:at.current,h.context=Zr(r,f)),h.state=r.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(nc(r,i,f,l),h.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&il.enqueueReplaceState(h,h.state,null),Xo(r,l,h,u),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function li(r,i){try{var l="",u=i;do l+=me(u),u=u.return;while(u);var h=l}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:r,source:i,stack:h,digest:null}}function ic(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function sc(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var c1=typeof WeakMap=="function"?WeakMap:Map;function $p(r,i,l){l=In(-1,l),l.tag=3,l.payload={element:null};var u=i.value;return l.callback=function(){hl||(hl=!0,Ec=u),sc(r,i)},l}function Hp(r,i,l){l=In(-1,l),l.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var h=i.value;l.payload=function(){return u(h)},l.callback=function(){sc(r,i)}}var f=r.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(l.callback=function(){sc(r,i),typeof u!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var m=i.stack;this.componentDidCatch(i.value,{componentStack:m!==null?m:""})}),l}function Kp(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new c1;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(l)||(h.add(l),r=T1.bind(null,r,i,l),i.then(r,r))}function Wp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function qp(r,i,l,u,h){return r.mode&1?(r.flags|=65536,r.lanes=h,r):(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=In(-1,1),i.tag=2,qn(l,i,1))),l.lanes|=1),r)}var h1=ce.ReactCurrentOwner,xt=!1;function Et(r,i,l,u){i.child=r===null?fp(i,null,l,u):ri(i,r.child,l,u)}function Qp(r,i,l,u,h){l=l.render;var f=i.ref;return si(i,h),u=Yu(r,i,l,u,f,h),l=Xu(),r!==null&&!xt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,_n(r,i,h)):(Ae&&l&&Lu(i),i.flags|=1,Et(r,i,u,h),i.child)}function Gp(r,i,l,u,h){if(r===null){var f=l.type;return typeof f=="function"&&!xc(f)&&f.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=f,bp(r,i,f,u,h)):(r=yl(l.type,null,u,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(f=r.child,!(r.lanes&h)){var m=f.memoizedProps;if(l=l.compare,l=l!==null?l:ts,l(m,u)&&r.ref===i.ref)return _n(r,i,h)}return i.flags|=1,r=Jn(f,u),r.ref=i.ref,r.return=i,i.child=r}function bp(r,i,l,u,h){if(r!==null){var f=r.memoizedProps;if(ts(f,u)&&r.ref===i.ref)if(xt=!1,i.pendingProps=u=f,(r.lanes&h)!==0)r.flags&131072&&(xt=!0);else return i.lanes=r.lanes,_n(r,i,h)}return oc(r,i,l,u,h)}function Yp(r,i,l){var u=i.pendingProps,h=u.children,f=r!==null?r.memoizedState:null;if(u.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ui,Ut),Ut|=l;else{if(!(l&1073741824))return r=f!==null?f.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Te(ui,Ut),Ut|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:l,Te(ui,Ut),Ut|=u}else f!==null?(u=f.baseLanes|l,i.memoizedState=null):u=l,Te(ui,Ut),Ut|=u;return Et(r,i,h,l),i.child}function Xp(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function oc(r,i,l,u,h){var f=_t(l)?yr:at.current;return f=Zr(i,f),si(i,h),l=Yu(r,i,l,u,f,h),u=Xu(),r!==null&&!xt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,_n(r,i,h)):(Ae&&u&&Lu(i),i.flags|=1,Et(r,i,l,h),i.child)}function Jp(r,i,l,u,h){if(_t(l)){var f=!0;$o(i)}else f=!1;if(si(i,h),i.stateNode===null)ol(r,i),jp(i,l,u),rc(i,l,u,h),u=!0;else if(r===null){var m=i.stateNode,v=i.memoizedProps;m.props=v;var w=m.context,_=l.contextType;typeof _=="object"&&_!==null?_=Ht(_):(_=_t(l)?yr:at.current,_=Zr(i,_));var P=l.getDerivedStateFromProps,L=typeof P=="function"||typeof m.getSnapshotBeforeUpdate=="function";L||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==u||w!==_)&&Bp(i,m,u,_),Wn=!1;var D=i.memoizedState;m.state=D,Xo(i,u,m,h),w=i.memoizedState,v!==u||D!==w||It.current||Wn?(typeof P=="function"&&(nc(i,l,P,u),w=i.memoizedState),(v=Wn||zp(i,l,v,u,D,w,_))?(L||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=w),m.props=u,m.state=w,m.context=_,u=v):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,pp(r,i),v=i.memoizedProps,_=i.type===i.elementType?v:Zt(i.type,v),m.props=_,L=i.pendingProps,D=m.context,w=l.contextType,typeof w=="object"&&w!==null?w=Ht(w):(w=_t(l)?yr:at.current,w=Zr(i,w));var B=l.getDerivedStateFromProps;(P=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==L||D!==w)&&Bp(i,m,u,w),Wn=!1,D=i.memoizedState,m.state=D,Xo(i,u,m,h);var K=i.memoizedState;v!==L||D!==K||It.current||Wn?(typeof B=="function"&&(nc(i,l,B,u),K=i.memoizedState),(_=Wn||zp(i,l,_,u,D,K,w)||!1)?(P||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,K,w),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,K,w)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===r.memoizedProps&&D===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&D===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=K),m.props=u,m.state=K,m.context=w,u=_):(typeof m.componentDidUpdate!="function"||v===r.memoizedProps&&D===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&D===r.memoizedState||(i.flags|=1024),u=!1)}return lc(r,i,l,u,f,h)}function lc(r,i,l,u,h,f){Xp(r,i);var m=(i.flags&128)!==0;if(!u&&!m)return h&&rp(i,l,!1),_n(r,i,f);u=i.stateNode,h1.current=i;var v=m&&typeof l.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,r!==null&&m?(i.child=ri(i,r.child,null,f),i.child=ri(i,null,v,f)):Et(r,i,v,f),i.memoizedState=u.state,h&&rp(i,l,!0),i.child}function Zp(r){var i=r.stateNode;i.pendingContext?tp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&tp(r,i.context,!1),Ku(r,i.containerInfo)}function em(r,i,l,u,h){return ni(),Uu(h),i.flags|=256,Et(r,i,l,u),i.child}var ac={dehydrated:null,treeContext:null,retryLane:0};function uc(r){return{baseLanes:r,cachePool:null,transitions:null}}function tm(r,i,l){var u=i.pendingProps,h=Le.current,f=!1,m=(i.flags&128)!==0,v;if((v=m)||(v=r!==null&&r.memoizedState===null?!1:(h&2)!==0),v?(f=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Te(Le,h&1),r===null)return Fu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(m=u.children,r=u.fallback,f?(u=i.mode,f=i.child,m={mode:"hidden",children:m},!(u&1)&&f!==null?(f.childLanes=0,f.pendingProps=m):f=vl(m,u,0,null),r=xr(r,u,l,null),f.return=i,r.return=i,f.sibling=r,i.child=f,i.child.memoizedState=uc(l),i.memoizedState=ac,r):cc(i,m));if(h=r.memoizedState,h!==null&&(v=h.dehydrated,v!==null))return f1(r,i,m,u,v,h,l);if(f){f=u.fallback,m=i.mode,h=r.child,v=h.sibling;var w={mode:"hidden",children:u.children};return!(m&1)&&i.child!==h?(u=i.child,u.childLanes=0,u.pendingProps=w,i.deletions=null):(u=Jn(h,w),u.subtreeFlags=h.subtreeFlags&14680064),v!==null?f=Jn(v,f):(f=xr(f,m,l,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,m=r.child.memoizedState,m=m===null?uc(l):{baseLanes:m.baseLanes|l,cachePool:null,transitions:m.transitions},f.memoizedState=m,f.childLanes=r.childLanes&~l,i.memoizedState=ac,u}return f=r.child,r=f.sibling,u=Jn(f,{mode:"visible",children:u.children}),!(i.mode&1)&&(u.lanes=l),u.return=i,u.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=u,i.memoizedState=null,u}function cc(r,i){return i=vl({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function sl(r,i,l,u){return u!==null&&Uu(u),ri(i,r.child,null,l),r=cc(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function f1(r,i,l,u,h,f,m){if(l)return i.flags&256?(i.flags&=-257,u=ic(Error(n(422))),sl(r,i,m,u)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(f=u.fallback,h=i.mode,u=vl({mode:"visible",children:u.children},h,0,null),f=xr(f,h,m,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,i.mode&1&&ri(i,r.child,null,m),i.child.memoizedState=uc(m),i.memoizedState=ac,f);if(!(i.mode&1))return sl(r,i,m,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var v=u.dgst;return u=v,f=Error(n(419)),u=ic(f,u,void 0),sl(r,i,m,u)}if(v=(m&r.childLanes)!==0,xt||v){if(u=Xe,u!==null){switch(m&-m){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|m)?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,Tn(r,h),nn(u,r,h,-1))}return _c(),u=ic(Error(n(421))),sl(r,i,m,u)}return h.data==="$?"?(i.flags|=128,i.child=r.child,i=I1.bind(null,r),h._reactRetry=i,null):(r=f.treeContext,Ft=Bn(h.nextSibling),Mt=i,Ae=!0,Jt=null,r!==null&&(Bt[$t++]=Cn,Bt[$t++]=kn,Bt[$t++]=vr,Cn=r.id,kn=r.overflow,vr=i),i=cc(i,u.children),i.flags|=4096,i)}function nm(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Bu(r.return,i,l)}function hc(r,i,l,u,h){var f=r.memoizedState;f===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=l,f.tailMode=h)}function rm(r,i,l){var u=i.pendingProps,h=u.revealOrder,f=u.tail;if(Et(r,i,u.children,l),u=Le.current,u&2)u=u&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&nm(r,l,i);else if(r.tag===19)nm(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(Te(Le,u),!(i.mode&1))i.memoizedState=null;else switch(h){case"forwards":for(l=i.child,h=null;l!==null;)r=l.alternate,r!==null&&Jo(r)===null&&(h=l),l=l.sibling;l=h,l===null?(h=i.child,i.child=null):(h=l.sibling,l.sibling=null),hc(i,!1,h,l,f);break;case"backwards":for(l=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&Jo(r)===null){i.child=h;break}r=h.sibling,h.sibling=l,l=h,h=r}hc(i,!0,l,null,f);break;case"together":hc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ol(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function _n(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),kr|=i.lanes,!(l&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=Jn(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Jn(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function d1(r,i,l){switch(i.tag){case 3:Zp(i),ni();break;case 5:yp(i);break;case 1:_t(i.type)&&$o(i);break;case 4:Ku(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,h=i.memoizedProps.value;Te(Go,u._currentValue),u._currentValue=h;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(Te(Le,Le.current&1),i.flags|=128,null):l&i.child.childLanes?tm(r,i,l):(Te(Le,Le.current&1),r=_n(r,i,l),r!==null?r.sibling:null);Te(Le,Le.current&1);break;case 19:if(u=(l&i.childLanes)!==0,r.flags&128){if(u)return rm(r,i,l);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Te(Le,Le.current),u)break;return null;case 22:case 23:return i.lanes=0,Yp(r,i,l)}return _n(r,i,l)}var im,fc,sm,om;im=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},fc=function(){},sm=function(r,i,l,u){var h=r.memoizedProps;if(h!==u){r=i.stateNode,Sr(cn.current);var f=null;switch(l){case"input":h=Ba(r,h),u=Ba(r,u),f=[];break;case"select":h=H({},h,{value:void 0}),u=H({},u,{value:void 0}),f=[];break;case"textarea":h=Ka(r,h),u=Ka(r,u),f=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=zo)}qa(l,u);var m;l=null;for(_ in h)if(!u.hasOwnProperty(_)&&h.hasOwnProperty(_)&&h[_]!=null)if(_==="style"){var v=h[_];for(m in v)v.hasOwnProperty(m)&&(l||(l={}),l[m]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?f||(f=[]):(f=f||[]).push(_,null));for(_ in u){var w=u[_];if(v=h!=null?h[_]:void 0,u.hasOwnProperty(_)&&w!==v&&(w!=null||v!=null))if(_==="style")if(v){for(m in v)!v.hasOwnProperty(m)||w&&w.hasOwnProperty(m)||(l||(l={}),l[m]="");for(m in w)w.hasOwnProperty(m)&&v[m]!==w[m]&&(l||(l={}),l[m]=w[m])}else l||(f||(f=[]),f.push(_,l)),l=w;else _==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,v=v?v.__html:void 0,w!=null&&v!==w&&(f=f||[]).push(_,w)):_==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(_,""+w):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(o.hasOwnProperty(_)?(w!=null&&_==="onScroll"&&Ie("scroll",r),f||v===w||(f=[])):(f=f||[]).push(_,w))}l&&(f=f||[]).push("style",l);var _=f;(i.updateQueue=_)&&(i.flags|=4)}},om=function(r,i,l,u){l!==u&&(i.flags|=4)};function gs(r,i){if(!Ae)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ct(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var h=r.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function p1(r,i,l){var u=i.pendingProps;switch(Ou(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return _t(i.type)&&Bo(),ct(i),null;case 3:return u=i.stateNode,oi(),_e(It),_e(at),Qu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(qo(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Jt!==null&&(kc(Jt),Jt=null))),fc(r,i),ct(i),null;case 5:Wu(i);var h=Sr(hs.current);if(l=i.type,r!==null&&i.stateNode!=null)sm(r,i,l,u,h),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ct(i),null}if(r=Sr(cn.current),qo(i)){u=i.stateNode,l=i.type;var f=i.memoizedProps;switch(u[un]=i,u[os]=f,r=(i.mode&1)!==0,l){case"dialog":Ie("cancel",u),Ie("close",u);break;case"iframe":case"object":case"embed":Ie("load",u);break;case"video":case"audio":for(h=0;h<rs.length;h++)Ie(rs[h],u);break;case"source":Ie("error",u);break;case"img":case"image":case"link":Ie("error",u),Ie("load",u);break;case"details":Ie("toggle",u);break;case"input":jf(u,f),Ie("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Ie("invalid",u);break;case"textarea":Hf(u,f),Ie("invalid",u)}qa(l,f),h=null;for(var m in f)if(f.hasOwnProperty(m)){var v=f[m];m==="children"?typeof v=="string"?u.textContent!==v&&(f.suppressHydrationWarning!==!0&&Vo(u.textContent,v,r),h=["children",v]):typeof v=="number"&&u.textContent!==""+v&&(f.suppressHydrationWarning!==!0&&Vo(u.textContent,v,r),h=["children",""+v]):o.hasOwnProperty(m)&&v!=null&&m==="onScroll"&&Ie("scroll",u)}switch(l){case"input":mo(u),$f(u,f,!0);break;case"textarea":mo(u),Wf(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=zo)}u=h,i.updateQueue=u,u!==null&&(i.flags|=4)}else{m=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=qf(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=m.createElement(l,{is:u.is}):(r=m.createElement(l),l==="select"&&(m=r,u.multiple?m.multiple=!0:u.size&&(m.size=u.size))):r=m.createElementNS(r,l),r[un]=i,r[os]=u,im(r,i,!1,!1),i.stateNode=r;e:{switch(m=Qa(l,u),l){case"dialog":Ie("cancel",r),Ie("close",r),h=u;break;case"iframe":case"object":case"embed":Ie("load",r),h=u;break;case"video":case"audio":for(h=0;h<rs.length;h++)Ie(rs[h],r);h=u;break;case"source":Ie("error",r),h=u;break;case"img":case"image":case"link":Ie("error",r),Ie("load",r),h=u;break;case"details":Ie("toggle",r),h=u;break;case"input":jf(r,u),h=Ba(r,u),Ie("invalid",r);break;case"option":h=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},h=H({},u,{value:void 0}),Ie("invalid",r);break;case"textarea":Hf(r,u),h=Ka(r,u),Ie("invalid",r);break;default:h=u}qa(l,h),v=h;for(f in v)if(v.hasOwnProperty(f)){var w=v[f];f==="style"?bf(r,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&Qf(r,w)):f==="children"?typeof w=="string"?(l!=="textarea"||w!=="")&&Vi(r,w):typeof w=="number"&&Vi(r,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?w!=null&&f==="onScroll"&&Ie("scroll",r):w!=null&&re(r,f,w,m))}switch(l){case"input":mo(r),$f(r,u,!1);break;case"textarea":mo(r),Wf(r);break;case"option":u.value!=null&&r.setAttribute("value",""+Ee(u.value));break;case"select":r.multiple=!!u.multiple,f=u.value,f!=null?Br(r,!!u.multiple,f,!1):u.defaultValue!=null&&Br(r,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=zo)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return ct(i),null;case 6:if(r&&i.stateNode!=null)om(r,i,r.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(l=Sr(hs.current),Sr(cn.current),qo(i)){if(u=i.stateNode,l=i.memoizedProps,u[un]=i,(f=u.nodeValue!==l)&&(r=Mt,r!==null))switch(r.tag){case 3:Vo(u.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Vo(u.nodeValue,l,(r.mode&1)!==0)}f&&(i.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[un]=i,i.stateNode=u}return ct(i),null;case 13:if(_e(Le),u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ae&&Ft!==null&&i.mode&1&&!(i.flags&128))up(),ni(),i.flags|=98560,f=!1;else if(f=qo(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(n(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[un]=i}else ni(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;ct(i),f=!1}else Jt!==null&&(kc(Jt),Jt=null),f=!0;if(!f)return i.flags&65536?i:null}return i.flags&128?(i.lanes=l,i):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(i.child.flags|=8192,i.mode&1&&(r===null||Le.current&1?Qe===0&&(Qe=3):_c())),i.updateQueue!==null&&(i.flags|=4),ct(i),null);case 4:return oi(),fc(r,i),r===null&&is(i.stateNode.containerInfo),ct(i),null;case 10:return ju(i.type._context),ct(i),null;case 17:return _t(i.type)&&Bo(),ct(i),null;case 19:if(_e(Le),f=i.memoizedState,f===null)return ct(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)gs(f,!1);else{if(Qe!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(m=Jo(r),m!==null){for(i.flags|=128,gs(f,!1),u=m.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=l,l=i.child;l!==null;)f=l,r=u,f.flags&=14680066,m=f.alternate,m===null?(f.childLanes=0,f.lanes=r,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=m.childLanes,f.lanes=m.lanes,f.child=m.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=m.memoizedProps,f.memoizedState=m.memoizedState,f.updateQueue=m.updateQueue,f.type=m.type,r=m.dependencies,f.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Te(Le,Le.current&1|2),i.child}r=r.sibling}f.tail!==null&&ze()>ci&&(i.flags|=128,u=!0,gs(f,!1),i.lanes=4194304)}else{if(!u)if(r=Jo(m),r!==null){if(i.flags|=128,u=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),gs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ae)return ct(i),null}else 2*ze()-f.renderingStartTime>ci&&l!==1073741824&&(i.flags|=128,u=!0,gs(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(l=f.last,l!==null?l.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=ze(),i.sibling=null,l=Le.current,Te(Le,u?l&1|2:l&1),i):(ct(i),null);case 22:case 23:return Ic(),u=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(i.flags|=8192),u&&i.mode&1?Ut&1073741824&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function m1(r,i){switch(Ou(i),i.tag){case 1:return _t(i.type)&&Bo(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return oi(),_e(It),_e(at),Qu(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Wu(i),null;case 13:if(_e(Le),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ni()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return _e(Le),null;case 4:return oi(),null;case 10:return ju(i.type._context),null;case 22:case 23:return Ic(),null;case 24:return null;default:return null}}var ll=!1,ht=!1,g1=typeof WeakSet=="function"?WeakSet:Set,$=null;function ai(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){Ue(r,i,u)}else l.current=null}function dc(r,i,l){try{l()}catch(u){Ue(r,i,u)}}var lm=!1;function y1(r,i){if(Iu=xo,r=zd(),yu(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch{l=null;break e}var m=0,v=-1,w=-1,_=0,P=0,L=r,D=null;t:for(;;){for(var B;L!==l||h!==0&&L.nodeType!==3||(v=m+h),L!==f||u!==0&&L.nodeType!==3||(w=m+u),L.nodeType===3&&(m+=L.nodeValue.length),(B=L.firstChild)!==null;)D=L,L=B;for(;;){if(L===r)break t;if(D===l&&++_===h&&(v=m),D===f&&++P===u&&(w=m),(B=L.nextSibling)!==null)break;L=D,D=L.parentNode}L=B}l=v===-1||w===-1?null:{start:v,end:w}}else l=null}l=l||{start:0,end:0}}else l=null;for(_u={focusedElem:r,selectionRange:l},xo=!1,$=i;$!==null;)if(i=$,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,$=r;else for(;$!==null;){i=$;try{var K=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var W=K.memoizedProps,je=K.memoizedState,k=i.stateNode,S=k.getSnapshotBeforeUpdate(i.elementType===i.type?W:Zt(i.type,W),je);k.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=i.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(F){Ue(i,i.return,F)}if(r=i.sibling,r!==null){r.return=i.return,$=r;break}$=i.return}return K=lm,lm=!1,K}function ys(r,i,l){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&r)===r){var f=h.destroy;h.destroy=void 0,f!==void 0&&dc(i,l,f)}h=h.next}while(h!==u)}}function al(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var u=l.create;l.destroy=u()}l=l.next}while(l!==i)}}function pc(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function am(r){var i=r.alternate;i!==null&&(r.alternate=null,am(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[un],delete i[os],delete i[Au],delete i[Z0],delete i[e1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function um(r){return r.tag===5||r.tag===3||r.tag===4}function cm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||um(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mc(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=zo));else if(u!==4&&(r=r.child,r!==null))for(mc(r,i,l),r=r.sibling;r!==null;)mc(r,i,l),r=r.sibling}function gc(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(gc(r,i,l),r=r.sibling;r!==null;)gc(r,i,l),r=r.sibling}var rt=null,en=!1;function Qn(r,i,l){for(l=l.child;l!==null;)hm(r,i,l),l=l.sibling}function hm(r,i,l){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(So,l)}catch{}switch(l.tag){case 5:ht||ai(l,i);case 6:var u=rt,h=en;rt=null,Qn(r,i,l),rt=u,en=h,rt!==null&&(en?(r=rt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):rt.removeChild(l.stateNode));break;case 18:rt!==null&&(en?(r=rt,l=l.stateNode,r.nodeType===8?Du(r.parentNode,l):r.nodeType===1&&Du(r,l),bi(r)):Du(rt,l.stateNode));break;case 4:u=rt,h=en,rt=l.stateNode.containerInfo,en=!0,Qn(r,i,l),rt=u,en=h;break;case 0:case 11:case 14:case 15:if(!ht&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var f=h,m=f.destroy;f=f.tag,m!==void 0&&(f&2||f&4)&&dc(l,i,m),h=h.next}while(h!==u)}Qn(r,i,l);break;case 1:if(!ht&&(ai(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(v){Ue(l,i,v)}Qn(r,i,l);break;case 21:Qn(r,i,l);break;case 22:l.mode&1?(ht=(u=ht)||l.memoizedState!==null,Qn(r,i,l),ht=u):Qn(r,i,l);break;default:Qn(r,i,l)}}function fm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new g1),i.forEach(function(u){var h=_1.bind(null,r,u);l.has(u)||(l.add(u),u.then(h,h))})}}function tn(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];try{var f=r,m=i,v=m;e:for(;v!==null;){switch(v.tag){case 5:rt=v.stateNode,en=!1;break e;case 3:rt=v.stateNode.containerInfo,en=!0;break e;case 4:rt=v.stateNode.containerInfo,en=!0;break e}v=v.return}if(rt===null)throw Error(n(160));hm(f,m,h),rt=null,en=!1;var w=h.alternate;w!==null&&(w.return=null),h.return=null}catch(_){Ue(h,i,_)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dm(i,r),i=i.sibling}function dm(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(tn(i,r),fn(r),u&4){try{ys(3,r,r.return),al(3,r)}catch(W){Ue(r,r.return,W)}try{ys(5,r,r.return)}catch(W){Ue(r,r.return,W)}}break;case 1:tn(i,r),fn(r),u&512&&l!==null&&ai(l,l.return);break;case 5:if(tn(i,r),fn(r),u&512&&l!==null&&ai(l,l.return),r.flags&32){var h=r.stateNode;try{Vi(h,"")}catch(W){Ue(r,r.return,W)}}if(u&4&&(h=r.stateNode,h!=null)){var f=r.memoizedProps,m=l!==null?l.memoizedProps:f,v=r.type,w=r.updateQueue;if(r.updateQueue=null,w!==null)try{v==="input"&&f.type==="radio"&&f.name!=null&&Bf(h,f),Qa(v,m);var _=Qa(v,f);for(m=0;m<w.length;m+=2){var P=w[m],L=w[m+1];P==="style"?bf(h,L):P==="dangerouslySetInnerHTML"?Qf(h,L):P==="children"?Vi(h,L):re(h,P,L,_)}switch(v){case"input":$a(h,f);break;case"textarea":Kf(h,f);break;case"select":var D=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var B=f.value;B!=null?Br(h,!!f.multiple,B,!1):D!==!!f.multiple&&(f.defaultValue!=null?Br(h,!!f.multiple,f.defaultValue,!0):Br(h,!!f.multiple,f.multiple?[]:"",!1))}h[os]=f}catch(W){Ue(r,r.return,W)}}break;case 6:if(tn(i,r),fn(r),u&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,f=r.memoizedProps;try{h.nodeValue=f}catch(W){Ue(r,r.return,W)}}break;case 3:if(tn(i,r),fn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{bi(i.containerInfo)}catch(W){Ue(r,r.return,W)}break;case 4:tn(i,r),fn(r);break;case 13:tn(i,r),fn(r),h=r.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(wc=ze())),u&4&&fm(r);break;case 22:if(P=l!==null&&l.memoizedState!==null,r.mode&1?(ht=(_=ht)||P,tn(i,r),ht=_):tn(i,r),fn(r),u&8192){if(_=r.memoizedState!==null,(r.stateNode.isHidden=_)&&!P&&r.mode&1)for($=r,P=r.child;P!==null;){for(L=$=P;$!==null;){switch(D=$,B=D.child,D.tag){case 0:case 11:case 14:case 15:ys(4,D,D.return);break;case 1:ai(D,D.return);var K=D.stateNode;if(typeof K.componentWillUnmount=="function"){u=D,l=D.return;try{i=u,K.props=i.memoizedProps,K.state=i.memoizedState,K.componentWillUnmount()}catch(W){Ue(u,l,W)}}break;case 5:ai(D,D.return);break;case 22:if(D.memoizedState!==null){gm(L);continue}}B!==null?(B.return=D,$=B):gm(L)}P=P.sibling}e:for(P=null,L=r;;){if(L.tag===5){if(P===null){P=L;try{h=L.stateNode,_?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(v=L.stateNode,w=L.memoizedProps.style,m=w!=null&&w.hasOwnProperty("display")?w.display:null,v.style.display=Gf("display",m))}catch(W){Ue(r,r.return,W)}}}else if(L.tag===6){if(P===null)try{L.stateNode.nodeValue=_?"":L.memoizedProps}catch(W){Ue(r,r.return,W)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===r)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===r)break e;for(;L.sibling===null;){if(L.return===null||L.return===r)break e;P===L&&(P=null),L=L.return}P===L&&(P=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:tn(i,r),fn(r),u&4&&fm(r);break;case 21:break;default:tn(i,r),fn(r)}}function fn(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(um(l)){var u=l;break e}l=l.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Vi(h,""),u.flags&=-33);var f=cm(r);gc(r,f,h);break;case 3:case 4:var m=u.stateNode.containerInfo,v=cm(r);mc(r,v,m);break;default:throw Error(n(161))}}catch(w){Ue(r,r.return,w)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function v1(r,i,l){$=r,pm(r)}function pm(r,i,l){for(var u=(r.mode&1)!==0;$!==null;){var h=$,f=h.child;if(h.tag===22&&u){var m=h.memoizedState!==null||ll;if(!m){var v=h.alternate,w=v!==null&&v.memoizedState!==null||ht;v=ll;var _=ht;if(ll=m,(ht=w)&&!_)for($=h;$!==null;)m=$,w=m.child,m.tag===22&&m.memoizedState!==null?ym(h):w!==null?(w.return=m,$=w):ym(h);for(;f!==null;)$=f,pm(f),f=f.sibling;$=h,ll=v,ht=_}mm(r)}else h.subtreeFlags&8772&&f!==null?(f.return=h,$=f):mm(r)}}function mm(r){for(;$!==null;){var i=$;if(i.flags&8772){var l=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ht||al(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!ht)if(l===null)u.componentDidMount();else{var h=i.elementType===i.type?l.memoizedProps:Zt(i.type,l.memoizedProps);u.componentDidUpdate(h,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&gp(i,f,u);break;case 3:var m=i.updateQueue;if(m!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}gp(i,m,l)}break;case 5:var v=i.stateNode;if(l===null&&i.flags&4){l=v;var w=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&l.focus();break;case"img":w.src&&(l.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var _=i.alternate;if(_!==null){var P=_.memoizedState;if(P!==null){var L=P.dehydrated;L!==null&&bi(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ht||i.flags&512&&pc(i)}catch(D){Ue(i,i.return,D)}}if(i===r){$=null;break}if(l=i.sibling,l!==null){l.return=i.return,$=l;break}$=i.return}}function gm(r){for(;$!==null;){var i=$;if(i===r){$=null;break}var l=i.sibling;if(l!==null){l.return=i.return,$=l;break}$=i.return}}function ym(r){for(;$!==null;){var i=$;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{al(4,i)}catch(w){Ue(i,l,w)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var h=i.return;try{u.componentDidMount()}catch(w){Ue(i,h,w)}}var f=i.return;try{pc(i)}catch(w){Ue(i,f,w)}break;case 5:var m=i.return;try{pc(i)}catch(w){Ue(i,m,w)}}}catch(w){Ue(i,i.return,w)}if(i===r){$=null;break}var v=i.sibling;if(v!==null){v.return=i.return,$=v;break}$=i.return}}var w1=Math.ceil,ul=ce.ReactCurrentDispatcher,yc=ce.ReactCurrentOwner,Wt=ce.ReactCurrentBatchConfig,pe=0,Xe=null,Be=null,it=0,Ut=0,ui=$n(0),Qe=0,vs=null,kr=0,cl=0,vc=0,ws=null,Nt=null,wc=0,ci=1/0,xn=null,hl=!1,Ec=null,Gn=null,fl=!1,bn=null,dl=0,Es=0,Sc=null,pl=-1,ml=0;function St(){return pe&6?ze():pl!==-1?pl:pl=ze()}function Yn(r){return r.mode&1?pe&2&&it!==0?it&-it:n1.transition!==null?(ml===0&&(ml=cd()),ml):(r=Se,r!==0||(r=window.event,r=r===void 0?16:wd(r.type)),r):1}function nn(r,i,l,u){if(50<Es)throw Es=0,Sc=null,Error(n(185));Ki(r,l,u),(!(pe&2)||r!==Xe)&&(r===Xe&&(!(pe&2)&&(cl|=l),Qe===4&&Xn(r,it)),Dt(r,u),l===1&&pe===0&&!(i.mode&1)&&(ci=ze()+500,Ho&&Kn()))}function Dt(r,i){var l=r.callbackNode;n0(r,i);var u=To(r,r===Xe?it:0);if(u===0)l!==null&&ld(l),r.callbackNode=null,r.callbackPriority=0;else if(i=u&-u,r.callbackPriority!==i){if(l!=null&&ld(l),i===1)r.tag===0?t1(wm.bind(null,r)):ip(wm.bind(null,r)),X0(function(){!(pe&6)&&Kn()}),l=null;else{switch(hd(u)){case 1:l=eu;break;case 4:l=ad;break;case 16:l=Eo;break;case 536870912:l=ud;break;default:l=Eo}l=xm(l,vm.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function vm(r,i){if(pl=-1,ml=0,pe&6)throw Error(n(327));var l=r.callbackNode;if(hi()&&r.callbackNode!==l)return null;var u=To(r,r===Xe?it:0);if(u===0)return null;if(u&30||u&r.expiredLanes||i)i=gl(r,u);else{i=u;var h=pe;pe|=2;var f=Sm();(Xe!==r||it!==i)&&(xn=null,ci=ze()+500,Ir(r,i));do try{C1();break}catch(v){Em(r,v)}while(!0);zu(),ul.current=f,pe=h,Be!==null?i=0:(Xe=null,it=0,i=Qe)}if(i!==0){if(i===2&&(h=tu(r),h!==0&&(u=h,i=Cc(r,h))),i===1)throw l=vs,Ir(r,0),Xn(r,u),Dt(r,ze()),l;if(i===6)Xn(r,u);else{if(h=r.current.alternate,!(u&30)&&!E1(h)&&(i=gl(r,u),i===2&&(f=tu(r),f!==0&&(u=f,i=Cc(r,f))),i===1))throw l=vs,Ir(r,0),Xn(r,u),Dt(r,ze()),l;switch(r.finishedWork=h,r.finishedLanes=u,i){case 0:case 1:throw Error(n(345));case 2:_r(r,Nt,xn);break;case 3:if(Xn(r,u),(u&130023424)===u&&(i=wc+500-ze(),10<i)){if(To(r,0)!==0)break;if(h=r.suspendedLanes,(h&u)!==u){St(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=Nu(_r.bind(null,r,Nt,xn),i);break}_r(r,Nt,xn);break;case 4:if(Xn(r,u),(u&4194240)===u)break;for(i=r.eventTimes,h=-1;0<u;){var m=31-Yt(u);f=1<<m,m=i[m],m>h&&(h=m),u&=~f}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*w1(u/1960))-u,10<u){r.timeoutHandle=Nu(_r.bind(null,r,Nt,xn),u);break}_r(r,Nt,xn);break;case 5:_r(r,Nt,xn);break;default:throw Error(n(329))}}}return Dt(r,ze()),r.callbackNode===l?vm.bind(null,r):null}function Cc(r,i){var l=ws;return r.current.memoizedState.isDehydrated&&(Ir(r,i).flags|=256),r=gl(r,i),r!==2&&(i=Nt,Nt=l,i!==null&&kc(i)),r}function kc(r){Nt===null?Nt=r:Nt.push.apply(Nt,r)}function E1(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var h=l[u],f=h.getSnapshot;h=h.value;try{if(!Xt(f(),h))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(r,i){for(i&=~vc,i&=~cl,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-Yt(i),u=1<<l;r[l]=-1,i&=~u}}function wm(r){if(pe&6)throw Error(n(327));hi();var i=To(r,0);if(!(i&1))return Dt(r,ze()),null;var l=gl(r,i);if(r.tag!==0&&l===2){var u=tu(r);u!==0&&(i=u,l=Cc(r,u))}if(l===1)throw l=vs,Ir(r,0),Xn(r,i),Dt(r,ze()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,_r(r,Nt,xn),Dt(r,ze()),null}function Tc(r,i){var l=pe;pe|=1;try{return r(i)}finally{pe=l,pe===0&&(ci=ze()+500,Ho&&Kn())}}function Tr(r){bn!==null&&bn.tag===0&&!(pe&6)&&hi();var i=pe;pe|=1;var l=Wt.transition,u=Se;try{if(Wt.transition=null,Se=1,r)return r()}finally{Se=u,Wt.transition=l,pe=i,!(pe&6)&&Kn()}}function Ic(){Ut=ui.current,_e(ui)}function Ir(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,Y0(l)),Be!==null)for(l=Be.return;l!==null;){var u=l;switch(Ou(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Bo();break;case 3:oi(),_e(It),_e(at),Qu();break;case 5:Wu(u);break;case 4:oi();break;case 13:_e(Le);break;case 19:_e(Le);break;case 10:ju(u.type._context);break;case 22:case 23:Ic()}l=l.return}if(Xe=r,Be=r=Jn(r.current,null),it=Ut=i,Qe=0,vs=null,vc=cl=kr=0,Nt=ws=null,Er!==null){for(i=0;i<Er.length;i++)if(l=Er[i],u=l.interleaved,u!==null){l.interleaved=null;var h=u.next,f=l.pending;if(f!==null){var m=f.next;f.next=h,u.next=m}l.pending=u}Er=null}return r}function Em(r,i){do{var l=Be;try{if(zu(),Zo.current=rl,el){for(var u=Oe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}el=!1}if(Cr=0,Ye=qe=Oe=null,fs=!1,ds=0,yc.current=null,l===null||l.return===null){Qe=1,vs=i,Be=null;break}e:{var f=r,m=l.return,v=l,w=i;if(i=it,v.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var _=w,P=v,L=P.tag;if(!(P.mode&1)&&(L===0||L===11||L===15)){var D=P.alternate;D?(P.updateQueue=D.updateQueue,P.memoizedState=D.memoizedState,P.lanes=D.lanes):(P.updateQueue=null,P.memoizedState=null)}var B=Wp(m);if(B!==null){B.flags&=-257,qp(B,m,v,f,i),B.mode&1&&Kp(f,_,i),i=B,w=_;var K=i.updateQueue;if(K===null){var W=new Set;W.add(w),i.updateQueue=W}else K.add(w);break e}else{if(!(i&1)){Kp(f,_,i),_c();break e}w=Error(n(426))}}else if(Ae&&v.mode&1){var je=Wp(m);if(je!==null){!(je.flags&65536)&&(je.flags|=256),qp(je,m,v,f,i),Uu(li(w,v));break e}}f=w=li(w,v),Qe!==4&&(Qe=2),ws===null?ws=[f]:ws.push(f),f=m;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var k=$p(f,w,i);mp(f,k);break e;case 1:v=w;var S=f.type,T=f.stateNode;if(!(f.flags&128)&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Gn===null||!Gn.has(T)))){f.flags|=65536,i&=-i,f.lanes|=i;var F=Hp(f,v,i);mp(f,F);break e}}f=f.return}while(f!==null)}km(l)}catch(q){i=q,Be===l&&l!==null&&(Be=l=l.return);continue}break}while(!0)}function Sm(){var r=ul.current;return ul.current=rl,r===null?rl:r}function _c(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Xe===null||!(kr&268435455)&&!(cl&268435455)||Xn(Xe,it)}function gl(r,i){var l=pe;pe|=2;var u=Sm();(Xe!==r||it!==i)&&(xn=null,Ir(r,i));do try{S1();break}catch(h){Em(r,h)}while(!0);if(zu(),pe=l,ul.current=u,Be!==null)throw Error(n(261));return Xe=null,it=0,Qe}function S1(){for(;Be!==null;)Cm(Be)}function C1(){for(;Be!==null&&!Qw();)Cm(Be)}function Cm(r){var i=_m(r.alternate,r,Ut);r.memoizedProps=r.pendingProps,i===null?km(r):Be=i,yc.current=null}function km(r){var i=r;do{var l=i.alternate;if(r=i.return,i.flags&32768){if(l=m1(l,i),l!==null){l.flags&=32767,Be=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Qe=6,Be=null;return}}else if(l=p1(l,i,Ut),l!==null){Be=l;return}if(i=i.sibling,i!==null){Be=i;return}Be=i=r}while(i!==null);Qe===0&&(Qe=5)}function _r(r,i,l){var u=Se,h=Wt.transition;try{Wt.transition=null,Se=1,k1(r,i,l,u)}finally{Wt.transition=h,Se=u}return null}function k1(r,i,l,u){do hi();while(bn!==null);if(pe&6)throw Error(n(327));l=r.finishedWork;var h=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var f=l.lanes|l.childLanes;if(r0(r,f),r===Xe&&(Be=Xe=null,it=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||fl||(fl=!0,xm(Eo,function(){return hi(),null})),f=(l.flags&15990)!==0,l.subtreeFlags&15990||f){f=Wt.transition,Wt.transition=null;var m=Se;Se=1;var v=pe;pe|=4,yc.current=null,y1(r,l),dm(l,r),H0(_u),xo=!!Iu,_u=Iu=null,r.current=l,v1(l),Gw(),pe=v,Se=m,Wt.transition=f}else r.current=l;if(fl&&(fl=!1,bn=r,dl=h),f=r.pendingLanes,f===0&&(Gn=null),Xw(l.stateNode),Dt(r,ze()),i!==null)for(u=r.onRecoverableError,l=0;l<i.length;l++)h=i[l],u(h.value,{componentStack:h.stack,digest:h.digest});if(hl)throw hl=!1,r=Ec,Ec=null,r;return dl&1&&r.tag!==0&&hi(),f=r.pendingLanes,f&1?r===Sc?Es++:(Es=0,Sc=r):Es=0,Kn(),null}function hi(){if(bn!==null){var r=hd(dl),i=Wt.transition,l=Se;try{if(Wt.transition=null,Se=16>r?16:r,bn===null)var u=!1;else{if(r=bn,bn=null,dl=0,pe&6)throw Error(n(331));var h=pe;for(pe|=4,$=r.current;$!==null;){var f=$,m=f.child;if($.flags&16){var v=f.deletions;if(v!==null){for(var w=0;w<v.length;w++){var _=v[w];for($=_;$!==null;){var P=$;switch(P.tag){case 0:case 11:case 15:ys(8,P,f)}var L=P.child;if(L!==null)L.return=P,$=L;else for(;$!==null;){P=$;var D=P.sibling,B=P.return;if(am(P),P===_){$=null;break}if(D!==null){D.return=B,$=D;break}$=B}}}var K=f.alternate;if(K!==null){var W=K.child;if(W!==null){K.child=null;do{var je=W.sibling;W.sibling=null,W=je}while(W!==null)}}$=f}}if(f.subtreeFlags&2064&&m!==null)m.return=f,$=m;else e:for(;$!==null;){if(f=$,f.flags&2048)switch(f.tag){case 0:case 11:case 15:ys(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,$=k;break e}$=f.return}}var S=r.current;for($=S;$!==null;){m=$;var T=m.child;if(m.subtreeFlags&2064&&T!==null)T.return=m,$=T;else e:for(m=S;$!==null;){if(v=$,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:al(9,v)}}catch(q){Ue(v,v.return,q)}if(v===m){$=null;break e}var F=v.sibling;if(F!==null){F.return=v.return,$=F;break e}$=v.return}}if(pe=h,Kn(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(So,r)}catch{}u=!0}return u}finally{Se=l,Wt.transition=i}}return!1}function Tm(r,i,l){i=li(l,i),i=$p(r,i,1),r=qn(r,i,1),i=St(),r!==null&&(Ki(r,1,i),Dt(r,i))}function Ue(r,i,l){if(r.tag===3)Tm(r,r,l);else for(;i!==null;){if(i.tag===3){Tm(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gn===null||!Gn.has(u))){r=li(l,r),r=Hp(i,r,1),i=qn(i,r,1),r=St(),i!==null&&(Ki(i,1,r),Dt(i,r));break}}i=i.return}}function T1(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),i=St(),r.pingedLanes|=r.suspendedLanes&l,Xe===r&&(it&l)===l&&(Qe===4||Qe===3&&(it&130023424)===it&&500>ze()-wc?Ir(r,0):vc|=l),Dt(r,i)}function Im(r,i){i===0&&(r.mode&1?(i=ko,ko<<=1,!(ko&130023424)&&(ko=4194304)):i=1);var l=St();r=Tn(r,i),r!==null&&(Ki(r,i,l),Dt(r,l))}function I1(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Im(r,l)}function _1(r,i){var l=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(i),Im(r,l)}var _m;_m=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||It.current)xt=!0;else{if(!(r.lanes&l)&&!(i.flags&128))return xt=!1,d1(r,i,l);xt=!!(r.flags&131072)}else xt=!1,Ae&&i.flags&1048576&&sp(i,Wo,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;ol(r,i),r=i.pendingProps;var h=Zr(i,at.current);si(i,l),h=Yu(null,i,u,r,h,l);var f=Xu();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,_t(u)?(f=!0,$o(i)):f=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Hu(i),h.updater=il,i.stateNode=h,h._reactInternals=i,rc(i,u,r,l),i=lc(null,i,u,!0,f,l)):(i.tag=0,Ae&&f&&Lu(i),Et(null,i,h,l),i=i.child),i;case 16:u=i.elementType;e:{switch(ol(r,i),r=i.pendingProps,h=u._init,u=h(u._payload),i.type=u,h=i.tag=N1(u),r=Zt(u,r),h){case 0:i=oc(null,i,u,r,l);break e;case 1:i=Jp(null,i,u,r,l);break e;case 11:i=Qp(null,i,u,r,l);break e;case 14:i=Gp(null,i,u,Zt(u.type,r),l);break e}throw Error(n(306,u,""))}return i;case 0:return u=i.type,h=i.pendingProps,h=i.elementType===u?h:Zt(u,h),oc(r,i,u,h,l);case 1:return u=i.type,h=i.pendingProps,h=i.elementType===u?h:Zt(u,h),Jp(r,i,u,h,l);case 3:e:{if(Zp(i),r===null)throw Error(n(387));u=i.pendingProps,f=i.memoizedState,h=f.element,pp(r,i),Xo(i,u,null,l);var m=i.memoizedState;if(u=m.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){h=li(Error(n(423)),i),i=em(r,i,u,l,h);break e}else if(u!==h){h=li(Error(n(424)),i),i=em(r,i,u,l,h);break e}else for(Ft=Bn(i.stateNode.containerInfo.firstChild),Mt=i,Ae=!0,Jt=null,l=fp(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ni(),u===h){i=_n(r,i,l);break e}Et(r,i,u,l)}i=i.child}return i;case 5:return yp(i),r===null&&Fu(i),u=i.type,h=i.pendingProps,f=r!==null?r.memoizedProps:null,m=h.children,xu(u,h)?m=null:f!==null&&xu(u,f)&&(i.flags|=32),Xp(r,i),Et(r,i,m,l),i.child;case 6:return r===null&&Fu(i),null;case 13:return tm(r,i,l);case 4:return Ku(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=ri(i,null,u,l):Et(r,i,u,l),i.child;case 11:return u=i.type,h=i.pendingProps,h=i.elementType===u?h:Zt(u,h),Qp(r,i,u,h,l);case 7:return Et(r,i,i.pendingProps,l),i.child;case 8:return Et(r,i,i.pendingProps.children,l),i.child;case 12:return Et(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(u=i.type._context,h=i.pendingProps,f=i.memoizedProps,m=h.value,Te(Go,u._currentValue),u._currentValue=m,f!==null)if(Xt(f.value,m)){if(f.children===h.children&&!It.current){i=_n(r,i,l);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var v=f.dependencies;if(v!==null){m=f.child;for(var w=v.firstContext;w!==null;){if(w.context===u){if(f.tag===1){w=In(-1,l&-l),w.tag=2;var _=f.updateQueue;if(_!==null){_=_.shared;var P=_.pending;P===null?w.next=w:(w.next=P.next,P.next=w),_.pending=w}}f.lanes|=l,w=f.alternate,w!==null&&(w.lanes|=l),Bu(f.return,l,i),v.lanes|=l;break}w=w.next}}else if(f.tag===10)m=f.type===i.type?null:f.child;else if(f.tag===18){if(m=f.return,m===null)throw Error(n(341));m.lanes|=l,v=m.alternate,v!==null&&(v.lanes|=l),Bu(m,l,i),m=f.sibling}else m=f.child;if(m!==null)m.return=f;else for(m=f;m!==null;){if(m===i){m=null;break}if(f=m.sibling,f!==null){f.return=m.return,m=f;break}m=m.return}f=m}Et(r,i,h.children,l),i=i.child}return i;case 9:return h=i.type,u=i.pendingProps.children,si(i,l),h=Ht(h),u=u(h),i.flags|=1,Et(r,i,u,l),i.child;case 14:return u=i.type,h=Zt(u,i.pendingProps),h=Zt(u.type,h),Gp(r,i,u,h,l);case 15:return bp(r,i,i.type,i.pendingProps,l);case 17:return u=i.type,h=i.pendingProps,h=i.elementType===u?h:Zt(u,h),ol(r,i),i.tag=1,_t(u)?(r=!0,$o(i)):r=!1,si(i,l),jp(i,u,h),rc(i,u,h,l),lc(null,i,u,!0,r,l);case 19:return rm(r,i,l);case 22:return Yp(r,i,l)}throw Error(n(156,i.tag))};function xm(r,i){return od(r,i)}function x1(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(r,i,l,u){return new x1(r,i,l,u)}function xc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function N1(r){if(typeof r=="function")return xc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===on)return 11;if(r===ln)return 14}return 2}function Jn(r,i){var l=r.alternate;return l===null?(l=qt(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function yl(r,i,l,u,h,f){var m=2;if(u=r,typeof r=="function")xc(r)&&(m=1);else if(typeof r=="string")m=5;else e:switch(r){case nt:return xr(l.children,h,f,i);case kt:m=8,h|=8;break;case Gt:return r=qt(12,l,i,h|2),r.elementType=Gt,r.lanes=f,r;case Rt:return r=qt(13,l,i,h),r.elementType=Rt,r.lanes=f,r;case bt:return r=qt(19,l,i,h),r.elementType=bt,r.lanes=f,r;case Fe:return vl(l,h,f,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case wn:m=10;break e;case pr:m=9;break e;case on:m=11;break e;case ln:m=14;break e;case Tt:m=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=qt(m,l,i,h),i.elementType=r,i.type=u,i.lanes=f,i}function xr(r,i,l,u){return r=qt(7,r,u,i),r.lanes=l,r}function vl(r,i,l,u){return r=qt(22,r,u,i),r.elementType=Fe,r.lanes=l,r.stateNode={isHidden:!1},r}function Nc(r,i,l){return r=qt(6,r,null,i),r.lanes=l,r}function Dc(r,i,l){return i=qt(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function D1(r,i,l,u,h){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nu(0),this.expirationTimes=nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ac(r,i,l,u,h,f,m,v,w){return r=new D1(r,i,l,v,w),i===1?(i=1,f===!0&&(i|=8)):i=0,f=qt(3,null,null,i),r.current=f,f.stateNode=r,f.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hu(f),r}function A1(r,i,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:We,key:u==null?null:""+u,children:r,containerInfo:i,implementation:l}}function Nm(r){if(!r)return Hn;r=r._reactInternals;e:{if(mr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(_t(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(_t(l))return np(r,l,i)}return i}function Dm(r,i,l,u,h,f,m,v,w){return r=Ac(l,u,!0,r,h,f,m,v,w),r.context=Nm(null),l=r.current,u=St(),h=Yn(l),f=In(u,h),f.callback=i??null,qn(l,f,h),r.current.lanes=h,Ki(r,h,u),Dt(r,u),r}function wl(r,i,l,u){var h=i.current,f=St(),m=Yn(h);return l=Nm(l),i.context===null?i.context=l:i.pendingContext=l,i=In(f,m),i.payload={element:r},u=u===void 0?null:u,u!==null&&(i.callback=u),r=qn(h,i,m),r!==null&&(nn(r,h,m,f),Yo(r,h,m)),m}function El(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Am(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Pc(r,i){Am(r,i),(r=r.alternate)&&Am(r,i)}function P1(){return null}var Pm=typeof reportError=="function"?reportError:function(r){console.error(r)};function Rc(r){this._internalRoot=r}Sl.prototype.render=Rc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));wl(r,i,null,null)},Sl.prototype.unmount=Rc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Tr(function(){wl(null,r,null,null)}),i[En]=null}};function Sl(r){this._internalRoot=r}Sl.prototype.unstable_scheduleHydration=function(r){if(r){var i=pd();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Vn.length&&i!==0&&i<Vn[l].priority;l++);Vn.splice(l,0,r),l===0&&yd(r)}};function Lc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Cl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Rm(){}function R1(r,i,l,u,h){if(h){if(typeof u=="function"){var f=u;u=function(){var _=El(m);f.call(_)}}var m=Dm(i,u,r,0,null,!1,!1,"",Rm);return r._reactRootContainer=m,r[En]=m.current,is(r.nodeType===8?r.parentNode:r),Tr(),m}for(;h=r.lastChild;)r.removeChild(h);if(typeof u=="function"){var v=u;u=function(){var _=El(w);v.call(_)}}var w=Ac(r,0,!1,null,null,!1,!1,"",Rm);return r._reactRootContainer=w,r[En]=w.current,is(r.nodeType===8?r.parentNode:r),Tr(function(){wl(i,w,l,u)}),w}function kl(r,i,l,u,h){var f=l._reactRootContainer;if(f){var m=f;if(typeof h=="function"){var v=h;h=function(){var w=El(m);v.call(w)}}wl(i,m,r,h)}else m=R1(l,i,r,h,u);return El(m)}fd=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Hi(i.pendingLanes);l!==0&&(ru(i,l|1),Dt(i,ze()),!(pe&6)&&(ci=ze()+500,Kn()))}break;case 13:Tr(function(){var u=Tn(r,1);if(u!==null){var h=St();nn(u,r,1,h)}}),Pc(r,1)}},iu=function(r){if(r.tag===13){var i=Tn(r,134217728);if(i!==null){var l=St();nn(i,r,134217728,l)}Pc(r,134217728)}},dd=function(r){if(r.tag===13){var i=Yn(r),l=Tn(r,i);if(l!==null){var u=St();nn(l,r,i,u)}Pc(r,i)}},pd=function(){return Se},md=function(r,i){var l=Se;try{return Se=r,i()}finally{Se=l}},Ya=function(r,i,l){switch(i){case"input":if($a(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var h=jo(u);if(!h)throw Error(n(90));zf(u),$a(u,h)}}}break;case"textarea":Kf(r,l);break;case"select":i=l.value,i!=null&&Br(r,!!l.multiple,i,!1)}},Zf=Tc,ed=Tr;var L1={usingClientEntryPoint:!1,Events:[ls,Xr,jo,Xf,Jf,Tc]},Ss={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O1={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=id(r),r===null?null:r.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||P1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{So=Tl.inject(O1),an=Tl}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L1,At.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lc(i))throw Error(n(200));return A1(r,i,null,l)},At.createRoot=function(r,i){if(!Lc(r))throw Error(n(299));var l=!1,u="",h=Pm;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=Ac(r,1,!1,null,null,l,!1,u,h),r[En]=i.current,is(r.nodeType===8?r.parentNode:r),new Rc(i)},At.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=id(i),r=r===null?null:r.stateNode,r},At.flushSync=function(r){return Tr(r)},At.hydrate=function(r,i,l){if(!Cl(i))throw Error(n(200));return kl(null,r,i,!0,l)},At.hydrateRoot=function(r,i,l){if(!Lc(r))throw Error(n(405));var u=l!=null&&l.hydratedSources||null,h=!1,f="",m=Pm;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onRecoverableError!==void 0&&(m=l.onRecoverableError)),i=Dm(i,null,r,1,l??null,h,!1,f,m),r[En]=i.current,is(r),u)for(r=0;r<u.length;r++)l=u[r],h=l._getVersion,h=h(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,h]:i.mutableSourceEagerHydrationData.push(l,h);return new Sl(i)},At.render=function(r,i,l){if(!Cl(i))throw Error(n(200));return kl(null,r,i,!1,l)},At.unmountComponentAtNode=function(r){if(!Cl(r))throw Error(n(40));return r._reactRootContainer?(Tr(function(){kl(null,null,r,!1,function(){r._reactRootContainer=null,r[En]=null})}),!0):!1},At.unstable_batchedUpdates=Tc,At.unstable_renderSubtreeIntoContainer=function(r,i,l,u){if(!Cl(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return kl(r,i,l,!1,u)},At.version="18.3.1-next-f1338f8080-20240426",At}var jm;function ey(){if(jm)return Fc.exports;jm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fc.exports=W1(),Fc.exports}var Bm;function q1(){if(Bm)return Il;Bm=1;var t=ey();return Il.createRoot=t.createRoot,Il.hydrateRoot=t.hydrateRoot,Il}var Q1=q1();ey();/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Fs.apply(this,arguments)}var er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(er||(er={}));const $m="popstate";function G1(t){t===void 0&&(t={});function e(s,o){let{pathname:a,search:c,hash:d}=s.location;return th("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return Y1(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ty(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b1(){return Math.random().toString(36).substr(2,8)}function Hm(t,e){return{usr:t.state,key:t.key,idx:e}}function th(t,e,n,s){return n===void 0&&(n=null),Fs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Di(e):e,{state:n,key:e&&e.key||s||b1()})}function $l(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Y1(t,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,c=o.history,d=er.Pop,p=null,g=y();g==null&&(g=0,c.replaceState(Fs({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function E(){d=er.Pop;let N=y(),Q=N==null?null:N-g;g=N,p&&p({action:d,location:M.location,delta:Q})}function I(N,Q){d=er.Push;let te=th(M.location,N,Q);g=y()+1;let re=Hm(te,g),ce=M.createHref(te);try{c.pushState(re,"",ce)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;o.location.assign(ce)}a&&p&&p({action:d,location:M.location,delta:1})}function x(N,Q){d=er.Replace;let te=th(M.location,N,Q);g=y();let re=Hm(te,g),ce=M.createHref(te);c.replaceState(re,"",ce),a&&p&&p({action:d,location:M.location,delta:0})}function U(N){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof N=="string"?N:$l(N);return te=te.replace(/ $/,"%20"),Ke(Q,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,Q)}let M={get action(){return d},get location(){return t(o,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($m,E),p=N,()=>{o.removeEventListener($m,E),p=null}},createHref(N){return e(o,N)},createURL:U,encodeLocation(N){let Q=U(N);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:x,go(N){return c.go(N)}};return M}var Km;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Km||(Km={}));function X1(t,e,n){return n===void 0&&(n="/"),J1(t,e,n)}function J1(t,e,n,s){let o=typeof e=="string"?Di(e):e,a=Fh(o.pathname||"/",n);if(a==null)return null;let c=ny(t);Z1(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=hE(a);d=aE(c[p],g)}return d}function ny(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(Ke(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(Ke(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),ny(a.children,e,y,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:oE(g,a.index),routesMeta:y})};return t.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of ry(a.path))o(a,c,p)}),e}function ry(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let c=ry(s.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function Z1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const eE=/^:[\w-]+$/,tE=3,nE=2,rE=1,iE=10,sE=-2,Wm=t=>t==="*";function oE(t,e){let n=t.split("/"),s=n.length;return n.some(Wm)&&(s+=sE),e&&(s+=nE),n.filter(o=>!Wm(o)).reduce((o,a)=>o+(eE.test(a)?tE:a===""?rE:iE),s)}function lE(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function aE(t,e,n){let{routesMeta:s}=t,o={},a="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,y=a==="/"?e:e.slice(a.length)||"/",E=uE({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),I=p.route;if(!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:nr([a,E.pathname]),pathnameBase:mE(nr([a,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(a=nr([a,E.pathnameBase]))}return c}function uE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=cE(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,y,E)=>{let{paramName:I,isOptional:x}=y;if(I==="*"){let M=d[E]||"";c=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const U=d[E];return x&&!U?g[I]=void 0:g[I]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:t}}function cE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ty(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function hE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ty(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function fE(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?Di(t):t;return{pathname:n?n.startsWith("/")?n:dE(n,e):e,search:gE(s),hash:yE(o)}}function dE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zc(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iy(t,e){let n=pE(t);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function sy(t,e,n,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=Di(t):(o=Fs({},t),Ke(!o.pathname||!o.pathname.includes("?"),zc("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),zc("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),zc("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=n;else{let E=e.length-1;if(!s&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}d=E>=0?e[E]:"/"}let p=fE(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}const nr=t=>t.join("/").replace(/\/\/+/g,"/"),mE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oy=["post","put","patch","delete"];new Set(oy);const wE=["get",...oy];new Set(wE);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Us(){return Us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Us.apply(this,arguments)}const Uh=j.createContext(null),EE=j.createContext(null),Ur=j.createContext(null),la=j.createContext(null),cr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),ly=j.createContext(null);function SE(t,e){let{relative:n}=e===void 0?{}:e;eo()||Ke(!1);let{basename:s,navigator:o}=j.useContext(Ur),{hash:a,pathname:c,search:d}=cy(t,{relative:n}),p=c;return s!=="/"&&(p=c==="/"?s:nr([s,c])),o.createHref({pathname:p,search:d,hash:a})}function eo(){return j.useContext(la)!=null}function aa(){return eo()||Ke(!1),j.useContext(la).location}function ay(t){j.useContext(Ur).static||j.useLayoutEffect(t)}function uy(){let{isDataRoute:t}=j.useContext(cr);return t?ME():CE()}function CE(){eo()||Ke(!1);let t=j.useContext(Uh),{basename:e,future:n,navigator:s}=j.useContext(Ur),{matches:o}=j.useContext(cr),{pathname:a}=aa(),c=JSON.stringify(iy(o,n.v7_relativeSplatPath)),d=j.useRef(!1);return ay(()=>{d.current=!0}),j.useCallback(function(g,y){if(y===void 0&&(y={}),!d.current)return;if(typeof g=="number"){s.go(g);return}let E=sy(g,JSON.parse(c),a,y.relative==="path");t==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:nr([e,E.pathname])),(y.replace?s.replace:s.push)(E,y.state,y)},[e,s,c,a,t])}function kE(){let{matches:t}=j.useContext(cr),e=t[t.length-1];return e?e.params:{}}function cy(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=j.useContext(Ur),{matches:o}=j.useContext(cr),{pathname:a}=aa(),c=JSON.stringify(iy(o,s.v7_relativeSplatPath));return j.useMemo(()=>sy(t,JSON.parse(c),a,n==="path"),[t,c,a,n])}function TE(t,e){return IE(t,e)}function IE(t,e,n,s){eo()||Ke(!1);let{navigator:o,static:a}=j.useContext(Ur),{matches:c}=j.useContext(cr),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let y=aa(),E;if(e){var I;let Q=typeof e=="string"?Di(e):e;g==="/"||(I=Q.pathname)!=null&&I.startsWith(g)||Ke(!1),E=Q}else E=y;let x=E.pathname||"/",U=x;if(g!=="/"){let Q=g.replace(/^\//,"").split("/");U="/"+x.replace(/^\//,"").split("/").slice(Q.length).join("/")}let M=X1(t,{pathname:U}),N=AE(M&&M.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:nr([g,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?g:nr([g,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),c,n,s);return e&&N?j.createElement(la.Provider,{value:{location:Us({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:er.Pop}},N):N}function _E(){let t=OE(),e=vE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,null)}const xE=j.createElement(_E,null);class NE extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(cr.Provider,{value:this.props.routeContext},j.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DE(t){let{routeContext:e,match:n,children:s}=t,o=j.useContext(Uh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(cr.Provider,{value:e},s)}function AE(t,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,d=(o=n)==null?void 0:o.errors;if(d!=null){let y=c.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);y>=0||Ke(!1),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let E=c[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:I,errors:x}=n,U=E.route.loader&&I[E.route.id]===void 0&&(!x||x[E.route.id]===void 0);if(E.route.lazy||U){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,E,I)=>{let x,U=!1,M=null,N=null;n&&(x=d&&E.route.id?d[E.route.id]:void 0,M=E.route.errorElement||xE,p&&(g<0&&I===0?(FE("route-fallback"),U=!0,N=null):g===I&&(U=!0,N=E.route.hydrateFallbackElement||null)));let Q=e.concat(c.slice(0,I+1)),te=()=>{let re;return x?re=M:U?re=N:E.route.Component?re=j.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=y,j.createElement(DE,{match:E,routeContext:{outlet:y,matches:Q,isDataRoute:n!=null},children:re})};return n&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?j.createElement(NE,{location:n.location,revalidation:n.revalidation,component:M,error:x,children:te(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):te()},null)}var hy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hy||{}),Hl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hl||{});function PE(t){let e=j.useContext(Uh);return e||Ke(!1),e}function RE(t){let e=j.useContext(EE);return e||Ke(!1),e}function LE(t){let e=j.useContext(cr);return e||Ke(!1),e}function fy(t){let e=LE(),n=e.matches[e.matches.length-1];return n.route.id||Ke(!1),n.route.id}function OE(){var t;let e=j.useContext(ly),n=RE(Hl.UseRouteError),s=fy(Hl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function ME(){let{router:t}=PE(hy.UseNavigateStable),e=fy(Hl.UseNavigateStable),n=j.useRef(!1);return ay(()=>{n.current=!0}),j.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Us({fromRouteId:e},a)))},[t,e])}const qm={};function FE(t,e,n){qm[t]||(qm[t]=!0)}function UE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ml(t){Ke(!1)}function VE(t){let{basename:e="/",children:n=null,location:s,navigationType:o=er.Pop,navigator:a,static:c=!1,future:d}=t;eo()&&Ke(!1);let p=e.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:p,navigator:a,static:c,future:Us({v7_relativeSplatPath:!1},d)}),[p,d,a,c]);typeof s=="string"&&(s=Di(s));let{pathname:y="/",search:E="",hash:I="",state:x=null,key:U="default"}=s,M=j.useMemo(()=>{let N=Fh(y,p);return N==null?null:{location:{pathname:N,search:E,hash:I,state:x,key:U},navigationType:o}},[p,y,E,I,x,U,o]);return M==null?null:j.createElement(Ur.Provider,{value:g},j.createElement(la.Provider,{children:n,value:M}))}function zE(t){let{children:e,location:n}=t;return TE(nh(e),n)}new Promise(()=>{});function nh(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(s,o)=>{if(!j.isValidElement(s))return;let a=[...e,o];if(s.type===j.Fragment){n.push.apply(n,nh(s.props.children,a));return}s.type!==Ml&&Ke(!1),!s.props.index||!s.props.children||Ke(!1);let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=nh(s.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},rh.apply(this,arguments)}function jE(t,e){if(t==null)return{};var n={},s=Object.keys(t),o,a;for(a=0;a<s.length;a++)o=s[a],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function BE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $E(t,e){return t.button===0&&(!e||e==="_self")&&!BE(t)}const HE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KE="6";try{window.__reactRouterVersion=KE}catch{}const WE="startTransition",Qm=$1[WE];function qE(t){let{basename:e,children:n,future:s,window:o}=t,a=j.useRef();a.current==null&&(a.current=G1({window:o,v5Compat:!0}));let c=a.current,[d,p]=j.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},y=j.useCallback(E=>{g&&Qm?Qm(()=>p(E)):p(E)},[p,g]);return j.useLayoutEffect(()=>c.listen(y),[c,y]),j.useEffect(()=>UE(s),[s]),j.createElement(VE,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c,future:s})}const QE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fl=j.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:a,replace:c,state:d,target:p,to:g,preventScrollReset:y,viewTransition:E}=e,I=jE(e,HE),{basename:x}=j.useContext(Ur),U,M=!1;if(typeof g=="string"&&GE.test(g)&&(U=g,QE))try{let re=new URL(window.location.href),ce=g.startsWith("//")?new URL(re.protocol+g):new URL(g),Re=Fh(ce.pathname,x);ce.origin===re.origin&&Re!=null?g=Re+ce.search+ce.hash:M=!0}catch{}let N=SE(g,{relative:o}),Q=bE(g,{replace:c,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:E});function te(re){s&&s(re),re.defaultPrevented||Q(re)}return j.createElement("a",rh({},I,{href:U||N,onClick:M||a?s:te,ref:n,target:p}))});var Gm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gm||(Gm={}));var bm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bm||(bm={}));function bE(t,e){let{target:n,replace:s,state:o,preventScrollReset:a,relative:c,viewTransition:d}=e===void 0?{}:e,p=uy(),g=aa(),y=cy(t,{relative:c});return j.useCallback(E=>{if($E(E,n)){E.preventDefault();let I=s!==void 0?s:$l(g)===$l(y);p(t,{replace:I,state:o,preventScrollReset:a,relative:c,viewTransition:d})}},[g,p,y,s,o,n,t,a,c,d])}const YE=()=>le.jsx("nav",{className:"bg-blue-600 p-4 text-white",children:le.jsxs("div",{className:"container mx-auto flex justify-between",children:[le.jsx(Fl,{to:"/",className:"text-2xl font-bold",children:"My Blog"}),le.jsxs("div",{children:[le.jsx(Fl,{to:"/",className:"mr-4",children:"Home"}),le.jsx(Fl,{to:"/create",className:"bg-white text-blue-600 px-3 py-2 rounded",children:"Create Post"})]})]})});var Ym={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},XE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],d=t[n++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},py={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,d=c?t[o+1]:0,p=o+2<t.length,g=p?t[o+2]:0,y=a>>2,E=(a&3)<<4|d>>4;let I=(d&15)<<2|g>>6,x=g&63;p||(x=64,c||(I=64)),s.push(n[y],n[E],n[I],n[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||g==null||E==null)throw new JE;const I=a<<2|d>>4;if(s.push(I),g!==64){const x=d<<4&240|g>>2;if(s.push(x),E!==64){const U=g<<6&192|E;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZE=function(t){const e=dy(t);return py.encodeByteArray(e,!0)},Kl=function(t){return ZE(t).replace(/\./g,"")},eS=function(t){try{return py.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=()=>tS().__FIREBASE_DEFAULTS__,rS=()=>{if(typeof process>"u"||typeof Ym>"u")return;const t=Ym.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eS(t[1]);return e&&JSON.parse(e)},my=()=>{try{return nS()||rS()||iS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sS=t=>{var e,n;return(n=(e=my())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oS=t=>{const e=sS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},gy=()=>{var t;return(t=my())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kl(JSON.stringify(n)),Kl(JSON.stringify(c)),""].join(".")}function uS(){try{return typeof indexedDB=="object"}catch{return!1}}function cS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="FirebaseError";class Ai extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=hS,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yy.prototype.create)}}class yy{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?fS(a,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ai(o,d,s)}}function fS(t,e){return t.replace(dS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const dS=/\{\$([^}]+)}/g;function ih(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const a=t[o],c=e[o];if(Xm(a)&&Xm(c)){if(!ih(a,c))return!1}else if(a!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Xm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new lS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gS(e))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=Nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nr){return this.instances.has(e)}getOptions(e=Nr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);s===d&&c.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Nr){return this.component?this.component.multipleInstances?e:Nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mS(t){return t===Nr?void 0:t}function gS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const vS={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},wS=we.INFO,ES={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},SS=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=ES[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vy{constructor(e){this.name=e,this._logLevel=wS,this._logHandler=SS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const CS=(t,e)=>e.some(n=>t instanceof n);let Jm,Zm;function kS(){return Jm||(Jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return Zm||(Zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wy=new WeakMap,sh=new WeakMap,Ey=new WeakMap,jc=new WeakMap,Vh=new WeakMap;function IS(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(rr(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&wy.set(n,t)}).catch(()=>{}),Vh.set(e,t),e}function _S(t){if(sh.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});sh.set(t,e)}let oh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ey.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xS(t){oh=t(oh)}function NS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Bc(this),e,...n);return Ey.set(s,e.sort?e.sort():[e]),rr(s)}:TS().includes(t)?function(...e){return t.apply(Bc(this),e),rr(wy.get(this))}:function(...e){return rr(t.apply(Bc(this),e))}}function DS(t){return typeof t=="function"?NS(t):(t instanceof IDBTransaction&&_S(t),CS(t,kS())?new Proxy(t,oh):t)}function rr(t){if(t instanceof IDBRequest)return IS(t);if(jc.has(t))return jc.get(t);const e=DS(t);return e!==t&&(jc.set(t,e),Vh.set(e,t)),e}const Bc=t=>Vh.get(t);function AS(t,e,{blocked:n,upgrade:s,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),d=rr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(rr(c.result),p.oldVersion,p.newVersion,rr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const PS=["get","getKey","getAll","getAllKeys","count"],RS=["put","add","delete","clear"],$c=new Map;function eg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($c.get(e))return $c.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||PS.includes(n)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return $c.set(e,a),a}xS(t=>({...t,get:(e,n,s)=>eg(e,n)||t.get(e,n,s),has:(e,n)=>!!eg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function OS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lh="@firebase/app",tg="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new vy("@firebase/app"),MS="@firebase/app-compat",FS="@firebase/analytics-compat",US="@firebase/analytics",VS="@firebase/app-check-compat",zS="@firebase/app-check",jS="@firebase/auth",BS="@firebase/auth-compat",$S="@firebase/database",HS="@firebase/database-compat",KS="@firebase/functions",WS="@firebase/functions-compat",qS="@firebase/installations",QS="@firebase/installations-compat",GS="@firebase/messaging",bS="@firebase/messaging-compat",YS="@firebase/performance",XS="@firebase/performance-compat",JS="@firebase/remote-config",ZS="@firebase/remote-config-compat",eC="@firebase/storage",tC="@firebase/storage-compat",nC="@firebase/firestore",rC="@firebase/firestore-compat",iC="firebase",sC="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="[DEFAULT]",oC={[lh]:"fire-core",[MS]:"fire-core-compat",[US]:"fire-analytics",[FS]:"fire-analytics-compat",[zS]:"fire-app-check",[VS]:"fire-app-check-compat",[jS]:"fire-auth",[BS]:"fire-auth-compat",[$S]:"fire-rtdb",[HS]:"fire-rtdb-compat",[KS]:"fire-fn",[WS]:"fire-fn-compat",[qS]:"fire-iid",[QS]:"fire-iid-compat",[GS]:"fire-fcm",[bS]:"fire-fcm-compat",[YS]:"fire-perf",[XS]:"fire-perf-compat",[JS]:"fire-rc",[ZS]:"fire-rc-compat",[eC]:"fire-gcs",[tC]:"fire-gcs-compat",[nC]:"fire-fst",[rC]:"fire-fst-compat","fire-js":"fire-js",[iC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map,uh=new Map;function lC(t,e){try{t.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ql(t){const e=t.name;if(uh.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;uh.set(e,t);for(const n of Wl.values())lC(n,t);return!0}function aC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ir=new yy("app","Firebase",uC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=sC;function Sy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ah,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(n||(n=gy()),!n)throw ir.create("no-options");const a=Wl.get(o);if(a){if(ih(n,a.options)&&ih(s,a.config))return a;throw ir.create("duplicate-app",{appName:o})}const c=new yS(o);for(const p of uh.values())c.addComponent(p);const d=new cC(n,s,c);return Wl.set(o,d),d}function fC(t=ah){const e=Wl.get(t);if(!e&&t===ah&&gy())return Sy();if(!e)throw ir.create("no-app",{appName:t});return e}function gi(t,e,n){var s;let o=(s=oC[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(d.join(" "));return}ql(new Vs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="firebase-heartbeat-database",pC=1,zs="firebase-heartbeat-store";let Hc=null;function Cy(){return Hc||(Hc=AS(dC,pC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zs)}}}).catch(t=>{throw ir.create("idb-open",{originalErrorMessage:t.message})})),Hc}async function mC(t){try{return await(await Cy()).transaction(zs).objectStore(zs).get(ky(t))}catch(e){if(e instanceof Ai)Lr.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lr.warn(n.message)}}}async function ng(t,e){try{const s=(await Cy()).transaction(zs,"readwrite");await s.objectStore(zs).put(e,ky(t)),await s.done}catch(n){if(n instanceof Ai)Lr.warn(n.message);else{const s=ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lr.warn(s.message)}}}function ky(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=1024,yC=30*24*60*60*1e3;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=yC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rg(),{heartbeatsToSend:n,unsentEntries:s}=wC(this._heartbeatsCache.heartbeats),o=Kl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function rg(){return new Date().toISOString().substring(0,10)}function wC(t,e=gC){const n=[];let s=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),ig(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ig(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class EC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uS()?cS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await mC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return ng(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return ng(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ig(t){return Kl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){ql(new Vs("platform-logger",e=>new LS(e),"PRIVATE")),ql(new Vs("heartbeat",e=>new vC(e),"PRIVATE")),gi(lh,tg,t),gi(lh,tg,"esm2017"),gi("fire-js","")}SC("");var CC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,zh=zh||{},ie=CC||self;function ua(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ca(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function kC(t,e,n){return t.call.apply(t.bind,arguments)}function TC(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt=kC:gt=TC,gt.apply(null,arguments)}function _l(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function tt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,o,a){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[o].apply(s,c)}}function hr(){this.s=this.s,this.o=this.o}var IC=0;hr.prototype.s=!1;hr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IC!=0)};hr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ty=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function jh(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function sg(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(ua(s)){const o=t.length||0,a=s.length||0;t.length=o+a;for(let c=0;c<a;c++)t[o+c]=s[c]}else t.push(s)}}function yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var _C=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return t}();function js(t){return/^[\s\xa0]*$/.test(t)}function ha(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function dn(t){return ha().indexOf(t)!=-1}function Bh(t){return Bh[" "](t),t}Bh[" "]=function(){};function xC(t,e){var n=Ek;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var NC=dn("Opera"),Si=dn("Trident")||dn("MSIE"),Iy=dn("Edge"),ch=Iy||Si,_y=dn("Gecko")&&!(ha().toLowerCase().indexOf("webkit")!=-1&&!dn("Edge"))&&!(dn("Trident")||dn("MSIE"))&&!dn("Edge"),DC=ha().toLowerCase().indexOf("webkit")!=-1&&!dn("Edge");function xy(){var t=ie.document;return t?t.documentMode:void 0}var hh;e:{var Kc="",Wc=function(){var t=ha();if(_y)return/rv:([^\);]+)(\)|;)/.exec(t);if(Iy)return/Edge\/([\d\.]+)/.exec(t);if(Si)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(DC)return/WebKit\/(\S+)/.exec(t);if(NC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Wc&&(Kc=Wc?Wc[1]:""),Si){var qc=xy();if(qc!=null&&qc>parseFloat(Kc)){hh=String(qc);break e}}hh=Kc}var fh;if(ie.document&&Si){var og=xy();fh=og||parseInt(hh,10)||void 0}else fh=void 0;var AC=fh;function Bs(t,e){if(yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_y){e:{try{Bh(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:PC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bs.$.h.call(this)}}tt(Bs,yt);var PC={2:"touch",3:"pen",4:"mouse"};Bs.prototype.h=function(){Bs.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fa="closure_listenable_"+(1e6*Math.random()|0),RC=0;function LC(t,e,n,s,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=o,this.key=++RC,this.fa=this.ia=!1}function da(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $h(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function OC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Ny(t){const e={};for(const n in t)e[n]=t[n];return e}const lg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dy(t,e){let n,s;for(let o=1;o<arguments.length;o++){s=arguments[o];for(n in s)t[n]=s[n];for(let a=0;a<lg.length;a++)n=lg[a],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function pa(t){this.src=t,this.g={},this.h=0}pa.prototype.add=function(t,e,n,s,o){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var c=ph(t,e,s,o);return-1<c?(e=t[c],n||(e.ia=!1)):(e=new LC(e,this.src,a,!!s,o),e.ia=n,t.push(e)),e};function dh(t,e){var n=e.type;if(n in t.g){var s=t.g[n],o=Ty(s,e),a;(a=0<=o)&&Array.prototype.splice.call(s,o,1),a&&(da(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ph(t,e,n,s){for(var o=0;o<t.length;++o){var a=t[o];if(!a.fa&&a.listener==e&&a.capture==!!n&&a.la==s)return o}return-1}var Hh="closure_lm_"+(1e6*Math.random()|0),Qc={};function Ay(t,e,n,s,o){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Ay(t,e[a],n,s,o);return null}return n=Ly(n),t&&t[fa]?t.O(e,n,ca(s)?!!s.capture:!1,o):MC(t,e,n,!1,s,o)}function MC(t,e,n,s,o,a){if(!e)throw Error("Invalid event type");var c=ca(o)?!!o.capture:!!o,d=Wh(t);if(d||(t[Hh]=d=new pa(t)),n=d.add(e,n,s,c,a),n.proxy)return n;if(s=FC(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)_C||(o=c),o===void 0&&(o=!1),t.addEventListener(e.toString(),s,o);else if(t.attachEvent)t.attachEvent(Ry(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function FC(){function t(n){return e.call(t.src,t.listener,n)}const e=UC;return t}function Py(t,e,n,s,o){if(Array.isArray(e))for(var a=0;a<e.length;a++)Py(t,e[a],n,s,o);else s=ca(s)?!!s.capture:!!s,n=Ly(n),t&&t[fa]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=ph(a,n,s,o),-1<n&&(da(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=Wh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ph(e,n,s,o)),(n=-1<t?e[t]:null)&&Kh(n))}function Kh(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[fa])dh(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Ry(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Wh(e))?(dh(n,t),n.h==0&&(n.src=null,e[Hh]=null)):da(t)}}}function Ry(t){return t in Qc?Qc[t]:Qc[t]="on"+t}function UC(t,e){if(t.fa)t=!0;else{e=new Bs(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Kh(t),t=n.call(s,e)}return t}function Wh(t){return t=t[Hh],t instanceof pa?t:null}var Gc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ly(t){return typeof t=="function"?t:(t[Gc]||(t[Gc]=function(e){return t.handleEvent(e)}),t[Gc])}function et(){hr.call(this),this.i=new pa(this),this.S=this,this.J=null}tt(et,hr);et.prototype[fa]=!0;et.prototype.removeEventListener=function(t,e,n,s){Py(this,t,e,n,s)};function lt(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new yt(e,t);else if(e instanceof yt)e.target=e.target||t;else{var o=e;e=new yt(s,t),Dy(e,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var c=e.g=n[a];o=xl(c,s,!0,e)&&o}if(c=e.g=t,o=xl(c,s,!0,e)&&o,o=xl(c,s,!1,e)&&o,n)for(a=0;a<n.length;a++)c=e.g=n[a],o=xl(c,s,!1,e)&&o}et.prototype.N=function(){if(et.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)da(n[s]);delete t.g[e],t.h--}}this.J=null};et.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};et.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function xl(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==n){var d=c.listener,p=c.la||c.src;c.ia&&dh(t.i,c),o=d.call(p,s)!==!1&&o}}return o&&!s.defaultPrevented}var qh=ie.JSON.stringify;class VC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function zC(){var t=Qh;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class jC{constructor(){this.h=this.g=null}add(e,n){const s=Oy.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Oy=new VC(()=>new BC,t=>t.reset());class BC{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $C(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function HC(t){ie.setTimeout(()=>{throw t},0)}let $s,Hs=!1,Qh=new jC,My=()=>{const t=ie.Promise.resolve(void 0);$s=()=>{t.then(KC)}};var KC=()=>{for(var t;t=zC();){try{t.h.call(t.g)}catch(n){HC(n)}var e=Oy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hs=!1};function ma(t,e){et.call(this),this.h=t||1,this.g=e||ie,this.j=gt(this.qb,this),this.l=Date.now()}tt(ma,et);V=ma.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lt(this,"tick"),this.ga&&(Gh(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gh(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){ma.$.N.call(this),Gh(this),delete this.g};function bh(t,e,n){if(typeof t=="function")n&&(t=gt(t,n));else if(t&&typeof t.handleEvent=="function")t=gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function Fy(t){t.g=bh(()=>{t.g=null,t.i&&(t.i=!1,Fy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class WC extends hr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fy(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(t){hr.call(this),this.h=t,this.g={}}tt(Ks,hr);var ag=[];function Uy(t,e,n,s){Array.isArray(n)||(n&&(ag[0]=n.toString()),n=ag);for(var o=0;o<n.length;o++){var a=Ay(e,n[o],s||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function Vy(t){$h(t.g,function(e,n){this.g.hasOwnProperty(n)&&Kh(e)},t),t.g={}}Ks.prototype.N=function(){Ks.$.N.call(this),Vy(this)};Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ga(){this.g=!0}ga.prototype.Ea=function(){this.g=!1};function qC(t,e,n,s,o,a){t.info(function(){if(t.g)if(a)for(var c="",d=a.split("&"),p=0;p<d.length;p++){var g=d[p].split("=");if(1<g.length){var y=g[0];g=g[1];var E=y.split("_");c=2<=E.length&&E[1]=="type"?c+(y+"="+g+"&"):c+(y+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+e+`
`+n+`
`+c})}function QC(t,e,n,s,o,a,c){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+e+`
`+n+`
`+a+" "+c})}function mi(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+bC(t,n)+(s?" "+s:"")})}function GC(t,e){t.info(function(){return"TIMEOUT: "+e})}ga.prototype.info=function(){};function bC(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if(a!="noop"&&a!="stop"&&a!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return qh(n)}catch{return e}}var Vr={},ug=null;function ya(){return ug=ug||new et}Vr.Ta="serverreachability";function zy(t){yt.call(this,Vr.Ta,t)}tt(zy,yt);function Ws(t){const e=ya();lt(e,new zy(e))}Vr.STAT_EVENT="statevent";function jy(t,e){yt.call(this,Vr.STAT_EVENT,t),this.stat=e}tt(jy,yt);function Ct(t){const e=ya();lt(e,new jy(e,t))}Vr.Ua="timingevent";function By(t,e){yt.call(this,Vr.Ua,t),this.size=e}tt(By,yt);function to(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}var va={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$y={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yh(){}Yh.prototype.h=null;function cg(t){return t.h||(t.h=t.i())}function Hy(){}var no={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xh(){yt.call(this,"d")}tt(Xh,yt);function Jh(){yt.call(this,"c")}tt(Jh,yt);var mh;function wa(){}tt(wa,Yh);wa.prototype.g=function(){return new XMLHttpRequest};wa.prototype.i=function(){return{}};mh=new wa;function ro(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Ks(this),this.P=YC,t=ch?125:void 0,this.V=new ma(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ky}function Ky(){this.i=null,this.g="",this.h=!1}var YC=45e3,gh={},Ql={};V=ro.prototype;V.setTimeout=function(t){this.P=t};function yh(t,e,n){t.L=1,t.v=Sa(An(e)),t.s=n,t.S=!0,Wy(t,null)}function Wy(t,e){t.G=Date.now(),io(t),t.A=An(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),Zy(n.i,"t",s),t.C=0,n=t.l.J,t.h=new Ky,t.g=Ev(t.l,n?e:null,!t.s),0<t.O&&(t.M=new WC(gt(t.Pa,t,t.g),t.O)),Uy(t.U,t.g,"readystatechange",t.nb),e=t.I?Ny(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ws(),qC(t.j,t.u,t.A,t.m,t.W,t.s)}V.nb=function(t){t=t.target;const e=this.M;e&&pn(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const y=pn(this.g);var e=this.g.Ia();const E=this.g.da();if(!(3>y)&&(y!=3||ch||this.g&&(this.h.h||this.g.ja()||pg(this.g)))){this.J||y!=4||e==7||(e==8||0>=E?Ws(3):Ws(2)),Ea(this);var n=this.g.da();this.ca=n;t:if(qy(this)){var s=pg(this.g);t="";var o=s.length,a=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),Ps(this);var c="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:a&&e==o-1});s.splice(0,o),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,QC(this.j,this.u,this.A,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!js(d)){var g=d;break t}}g=null}if(n=g)mi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vh(this,n);else{this.i=!1,this.o=3,Ct(12),Dr(this),Ps(this);break e}}this.S?(Qy(this,y,c),ch&&this.i&&y==3&&(Uy(this.U,this.V,"tick",this.mb),this.V.start())):(mi(this.j,this.m,c,null),vh(this,c)),y==4&&Dr(this),this.i&&!this.J&&(y==4?gv(this.l,this):(this.i=!1,io(this)))}else yk(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.o=3,Ct(12)):(this.o=0,Ct(13)),Dr(this),Ps(this)}}}catch{}finally{}};function qy(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Qy(t,e,n){let s=!0,o;for(;!t.J&&t.C<n.length;)if(o=XC(t,n),o==Ql){e==4&&(t.o=4,Ct(14),s=!1),mi(t.j,t.m,null,"[Incomplete Response]");break}else if(o==gh){t.o=4,Ct(15),mi(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else mi(t.j,t.m,o,null),vh(t,o);qy(t)&&o!=Ql&&o!=gh&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ct(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sf(e),e.M=!0,Ct(11))):(mi(t.j,t.m,n,"[Invalid Chunked Response]"),Dr(t),Ps(t))}V.mb=function(){if(this.g){var t=pn(this.g),e=this.g.ja();this.C<e.length&&(Ea(this),Qy(this,t,e),this.i&&t!=4&&io(this))}};function XC(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Ql:(n=Number(e.substring(n,s)),isNaN(n)?gh:(s+=1,s+n>e.length?Ql:(e=e.slice(s,s+n),t.C=s+n,e)))}V.cancel=function(){this.J=!0,Dr(this)};function io(t){t.Y=Date.now()+t.P,Gy(t,t.P)}function Gy(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=to(gt(t.lb,t),e)}function Ea(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}V.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(GC(this.j,this.A),this.L!=2&&(Ws(),Ct(17)),Dr(this),this.o=2,Ps(this)):Gy(this,this.Y-t)};function Ps(t){t.l.H==0||t.J||gv(t.l,t)}function Dr(t){Ea(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Gh(t.V),Vy(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function vh(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||wh(n.i,t))){if(!t.K&&wh(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var o=s;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Yl(n),Ta(n);else break e;rf(n),Ct(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=to(gt(n.ib,n),6e3));if(1>=nv(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ar(n,11)}else if((t.K||n.g==t)&&Yl(n),!js(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let g=o[e];if(n.V=g[0],g=g[1],n.H==2)if(g[0]=="c"){n.K=g[1],n.pa=g[2];const y=g[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const E=g[4];E!=null&&(n.Ga=E,n.l.info("SVER="+n.Ga));const I=g[5];I!=null&&typeof I=="number"&&0<I&&(s=1.5*I,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const x=t.g;if(x){const U=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=s.i;a.g||U.indexOf("spdy")==-1&&U.indexOf("quic")==-1&&U.indexOf("h2")==-1||(a.j=a.l,a.g=new Set,a.h&&(Zh(a,a.h),a.h=null))}if(s.F){const M=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;M&&(s.Da=M,xe(s.I,s.F,M))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var c=t;if(s.wa=wv(s,s.J?s.pa:null,s.Y),c.K){rv(s.i,c);var d=c,p=s.L;p&&d.setTimeout(p),d.B&&(Ea(d),io(d)),s.g=c}else pv(s);0<n.j.length&&Ia(n)}else g[0]!="stop"&&g[0]!="close"||Ar(n,7);else n.H==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Ar(n,7):nf(n):g[0]!="noop"&&n.h&&n.h.Aa(g),n.A=0)}}Ws(4)}catch{}}function JC(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ua(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function ZC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ua(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function by(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ua(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ZC(t),s=JC(t),o=s.length,a=0;a<o;a++)e.call(void 0,s[a],n&&n[a],t)}var Yy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ek(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),o=null;if(0<=s){var a=t[n].substring(0,s);o=t[n].substring(s+1)}else a=t[n];e(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Rr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Rr){this.h=t.h,Gl(this,t.j),this.s=t.s,this.g=t.g,bl(this,t.m),this.l=t.l;var e=t.i,n=new qs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hg(this,n),this.o=t.o}else t&&(e=String(t).match(Yy))?(this.h=!1,Gl(this,e[1]||"",!0),this.s=_s(e[2]||""),this.g=_s(e[3]||"",!0),bl(this,e[4]),this.l=_s(e[5]||"",!0),hg(this,e[6]||"",!0),this.o=_s(e[7]||"")):(this.h=!1,this.i=new qs(null,this.h))}Rr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xs(e,fg,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(xs(e,fg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(xs(n,n.charAt(0)=="/"?rk:nk,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",xs(n,sk)),t.join("")};function An(t){return new Rr(t)}function Gl(t,e,n){t.j=n?_s(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hg(t,e,n){e instanceof qs?(t.i=e,ok(t.i,t.h)):(n||(e=xs(e,ik)),t.i=new qs(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function Sa(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _s(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,tk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var fg=/[#\/\?@]/g,nk=/[#\?:]/g,rk=/[#\?]/g,ik=/[#\?@]/g,sk=/#/g;function qs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fr(t){t.g||(t.g=new Map,t.h=0,t.i&&ek(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=qs.prototype;V.add=function(t,e){fr(this),this.i=null,t=Pi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Xy(t,e){fr(t),e=Pi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Jy(t,e){return fr(t),e=Pi(t,e),t.g.has(e)}V.forEach=function(t,e){fr(this),this.g.forEach(function(n,s){n.forEach(function(o){t.call(e,o,s,this)},this)},this)};V.ta=function(){fr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const o=t[s];for(let a=0;a<o.length;a++)n.push(e[s])}return n};V.Z=function(t){fr(this);let e=[];if(typeof t=="string")Jy(this,t)&&(e=e.concat(this.g.get(Pi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return fr(this),this.i=null,t=Pi(this,t),Jy(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Zy(t,e,n){Xy(t,e),0<n.length&&(t.i=null,t.g.set(Pi(t,e),jh(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const a=encodeURIComponent(String(s)),c=this.Z(s);for(s=0;s<c.length;s++){var o=a;c[s]!==""&&(o+="="+encodeURIComponent(String(c[s]))),t.push(o)}}return this.i=t.join("&")};function Pi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ok(t,e){e&&!t.j&&(fr(t),t.i=null,t.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(Xy(this,s),Zy(this,o,n))},t)),t.j=e}var lk=class{constructor(t,e){this.g=t,this.map=e}};function ev(t){this.l=t||ak,ie.PerformanceNavigationTiming?(t=ie.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ak=10;function tv(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function nv(t){return t.h?1:t.g?t.g.size:0}function wh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Zh(t,e){t.g?t.g.add(e):t.h=e}function rv(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ev.prototype.cancel=function(){if(this.i=iv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function iv(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return jh(t.i)}var uk=class{stringify(t){return ie.JSON.stringify(t,void 0)}parse(t){return ie.JSON.parse(t,void 0)}};function ck(){this.g=new uk}function hk(t,e,n){const s=n||"";try{by(t,function(o,a){let c=o;ca(o)&&(c=qh(o)),e.push(s+a+"="+encodeURIComponent(c))})}catch(o){throw e.push(s+"type="+encodeURIComponent("_badmap")),o}}function fk(t,e){const n=new ga;if(ie.Image){const s=new Image;s.onload=_l(Nl,n,s,"TestLoadImage: loaded",!0,e),s.onerror=_l(Nl,n,s,"TestLoadImage: error",!1,e),s.onabort=_l(Nl,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=_l(Nl,n,s,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Nl(t,e,n,s,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(s)}catch{}}function so(t){this.l=t.fc||null,this.j=t.ob||!1}tt(so,Yh);so.prototype.g=function(){return new Ca(this.l,this.j)};so.prototype.i=function(t){return function(){return t}}({});function Ca(t,e){et.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ef,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tt(Ca,et);var ef=0;V=Ca.prototype;V.open=function(t,e){if(this.readyState!=ef)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Qs(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=ef};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sv(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function sv(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?oo(this):Qs(this),this.readyState==3&&sv(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,oo(this))};V.Ya=function(t){this.g&&(this.response=t,oo(this))};V.ka=function(){this.g&&oo(this)};function oo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Qs(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Qs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dk=ie.JSON.parse;function Ve(t){et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ov,this.L=this.M=!1}tt(Ve,et);var ov="",pk=/^https?$/i,mk=["POST","PUT"];V=Ve.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mh.g(),this.C=this.u?cg(this.u):cg(mh),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(a){dg(this,a);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var o in s)n.set(o,s[o]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const a of s.keys())n.set(a,s.get(a));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(a=>a.toLowerCase()=="content-type"),o=ie.FormData&&t instanceof ie.FormData,!(0<=Ty(mk,e))||s||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of n)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uv(this),0<this.B&&((this.L=gk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=bh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){dg(this,a)}};function gk(t){return Si&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof zh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function dg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lv(t),ka(t)}function lv(t){t.F||(t.F=!0,lt(t,"complete"),lt(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lt(this,"complete"),lt(this,"abort"),ka(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ka(this,!0)),Ve.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?av(this):this.kb())};V.kb=function(){av(this)};function av(t){if(t.h&&typeof zh<"u"&&(!t.C[1]||pn(t)!=4||t.da()!=2)){if(t.v&&pn(t)==4)bh(t.La,0,t);else if(lt(t,"readystatechange"),pn(t)==4){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=c===0){var o=String(t.I).match(Yy)[1]||null;!o&&ie.self&&ie.self.location&&(o=ie.self.location.protocol.slice(0,-1)),s=!pk.test(o?o.toLowerCase():"")}n=s}if(n)lt(t,"complete"),lt(t,"success");else{t.m=6;try{var a=2<pn(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.da()+"]",lv(t)}}finally{ka(t)}}}}function ka(t,e){if(t.g){uv(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||lt(t,"ready");try{n.onreadystatechange=s}catch{}}}function uv(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function pn(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dk(e)}};function pg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ov:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function yk(t){const e={};t=(t.g&&2<=pn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(js(t[s]))continue;var n=$C(t[s]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const a=e[o]||[];e[o]=a,a.push(n)}OC(e,function(s){return s.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function cv(t){let e="";return $h(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function tf(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=cv(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function ks(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hv(t){this.Ga=0,this.j=[],this.l=new ga,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ks("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ks("baseRetryDelayMs",5e3,t),this.hb=ks("retryDelaySeedMs",1e4,t),this.eb=ks("forwardChannelMaxRetries",2,t),this.xa=ks("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ev(t&&t.concurrentRequestLimit),this.Ja=new ck,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=hv.prototype;V.ra=8;V.H=1;function nf(t){if(fv(t),t.H==3){var e=t.W++,n=An(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),lo(t,n),e=new ro(t,t.l,e),e.L=2,e.v=Sa(An(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon)try{n=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ie.Image&&(new Image().src=e.v,n=!0),n||(e.g=Ev(e.l,null),e.g.ha(e.v)),e.G=Date.now(),io(e)}vv(t)}function Ta(t){t.g&&(sf(t),t.g.cancel(),t.g=null)}function fv(t){Ta(t),t.u&&(ie.clearTimeout(t.u),t.u=null),Yl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ie.clearTimeout(t.m),t.m=null)}function Ia(t){if(!tv(t.i)&&!t.m){t.m=!0;var e=t.Na;$s||My(),Hs||($s(),Hs=!0),Qh.add(e,t),t.C=0}}function vk(t,e){return nv(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=to(gt(t.Na,t,e),yv(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new ro(this,this.l,t);let a=this.s;if(this.U&&(a?(a=Ny(a),Dy(a,this.U)):a=this.U),this.o!==null||this.O||(o.I=a,a=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=dv(this,o,e),n=An(this.I),xe(n,"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),lo(this,n),a&&(this.O?e="headers="+encodeURIComponent(String(cv(a)))+"&"+e:this.o&&tf(n,this.o,a)),Zh(this.i,o),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),o.aa=!0,yh(o,n,null)):yh(o,n,e),this.H=2}}else this.H==3&&(t?mg(this,t):this.j.length==0||tv(this.i)||mg(this))};function mg(t,e){var n;e?n=e.m:n=t.W++;const s=An(t.I);xe(s,"SID",t.K),xe(s,"RID",n),xe(s,"AID",t.V),lo(t,s),t.o&&t.s&&tf(s,t.o,t.s),n=new ro(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=dv(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Zh(t.i,n),yh(n,s,e)}function lo(t,e){t.na&&$h(t.na,function(n,s){xe(e,s,n)}),t.h&&by({},function(n,s){xe(e,s,n)})}function dv(t,e,n){n=Math.min(t.j.length,n);var s=t.h?gt(t.h.Va,t.h,t):null;e:{var o=t.j;let a=-1;for(;;){const c=["count="+n];a==-1?0<n?(a=o[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let d=!0;for(let p=0;p<n;p++){let g=o[p].g;const y=o[p].map;if(g-=a,0>g)a=Math.max(0,o[p].g-100),d=!1;else try{hk(y,c,"req"+g+"_")}catch{s&&s(y)}}if(d){s=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function pv(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$s||My(),Hs||($s(),Hs=!0),Qh.add(e,t),t.A=0}}function rf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=to(gt(t.Ma,t),yv(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,mv(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=to(gt(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ct(10),Ta(this),mv(this))};function sf(t){t.B!=null&&(ie.clearTimeout(t.B),t.B=null)}function mv(t){t.g=new ro(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=An(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),lo(t,e),t.o&&t.s&&tf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Sa(An(e)),n.s=null,n.S=!0,Wy(n,t)}V.ib=function(){this.v!=null&&(this.v=null,Ta(this),rf(this),Ct(19))};function Yl(t){t.v!=null&&(ie.clearTimeout(t.v),t.v=null)}function gv(t,e){var n=null;if(t.g==e){Yl(t),sf(t),t.g=null;var s=2}else if(wh(t.i,e))n=e.F,rv(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var o=t.C;s=ya(),lt(s,new By(s,n)),Ia(t)}else pv(t);else if(o=e.o,o==3||o==0&&0<e.ca||!(s==1&&vk(t,e)||s==2&&rf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Ar(t,5);break;case 4:Ar(t,10);break;case 3:Ar(t,6);break;default:Ar(t,2)}}}function yv(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ar(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=gt(t.pb,t);n||(n=new Rr("//www.google.com/images/cleardot.gif"),ie.location&&ie.location.protocol=="http"||Gl(n,"https"),Sa(n)),fk(n.toString(),s)}else Ct(2);t.H=0,t.h&&t.h.za(e),vv(t),fv(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ct(2)):(this.l.info("Failed to ping google.com"),Ct(1))};function vv(t){if(t.H=0,t.ma=[],t.h){const e=iv(t.i);(e.length!=0||t.j.length!=0)&&(sg(t.ma,e),sg(t.ma,t.j),t.i.i.length=0,jh(t.j),t.j.length=0),t.h.ya()}}function wv(t,e,n){var s=n instanceof Rr?An(n):new Rr(n);if(s.g!="")e&&(s.g=e+"."+s.g),bl(s,s.m);else{var o=ie.location;s=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var a=new Rr(null);s&&Gl(a,s),e&&(a.g=e),o&&bl(a,o),n&&(a.l=n),s=a}return n=t.F,e=t.Da,n&&e&&xe(s,n,e),xe(s,"VER",t.ra),lo(t,s),s}function Ev(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ve(new so({ob:!0})):new Ve(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function Sv(){}V=Sv.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Xl(){if(Si&&!(10<=Number(AC)))throw Error("Environmental error: no available transport.")}Xl.prototype.g=function(t,e){return new jt(t,e)};function jt(t,e){et.call(this),this.g=new hv(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!js(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!js(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ri(this)}tt(jt,et);jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ct(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=wv(t,null,t.Y),Ia(t)};jt.prototype.close=function(){nf(this.g)};jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=qh(t),t=n);e.j.push(new lk(e.fb++,t)),e.H==3&&Ia(e)};jt.prototype.N=function(){this.g.h=null,delete this.j,nf(this.g),delete this.g,jt.$.N.call(this)};function Cv(t){Xh.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}tt(Cv,Xh);function kv(){Jh.call(this),this.status=1}tt(kv,Jh);function Ri(t){this.g=t}tt(Ri,Sv);Ri.prototype.Ba=function(){lt(this.g,"a")};Ri.prototype.Aa=function(t){lt(this.g,new Cv(t))};Ri.prototype.za=function(t){lt(this.g,new kv)};Ri.prototype.ya=function(){lt(this.g,"b")};function wk(){this.blockSize=-1}function sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}tt(sn,wk);sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bc(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)s[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)s[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var a=t.g[3],c=e+(a^n&(o^a))+s[0]+3614090360&4294967295;e=n+(c<<7&4294967295|c>>>25),c=a+(o^e&(n^o))+s[1]+3905402710&4294967295,a=e+(c<<12&4294967295|c>>>20),c=o+(n^a&(e^n))+s[2]+606105819&4294967295,o=a+(c<<17&4294967295|c>>>15),c=n+(e^o&(a^e))+s[3]+3250441966&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(a^n&(o^a))+s[4]+4118548399&4294967295,e=n+(c<<7&4294967295|c>>>25),c=a+(o^e&(n^o))+s[5]+1200080426&4294967295,a=e+(c<<12&4294967295|c>>>20),c=o+(n^a&(e^n))+s[6]+2821735955&4294967295,o=a+(c<<17&4294967295|c>>>15),c=n+(e^o&(a^e))+s[7]+4249261313&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(a^n&(o^a))+s[8]+1770035416&4294967295,e=n+(c<<7&4294967295|c>>>25),c=a+(o^e&(n^o))+s[9]+2336552879&4294967295,a=e+(c<<12&4294967295|c>>>20),c=o+(n^a&(e^n))+s[10]+4294925233&4294967295,o=a+(c<<17&4294967295|c>>>15),c=n+(e^o&(a^e))+s[11]+2304563134&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(a^n&(o^a))+s[12]+1804603682&4294967295,e=n+(c<<7&4294967295|c>>>25),c=a+(o^e&(n^o))+s[13]+4254626195&4294967295,a=e+(c<<12&4294967295|c>>>20),c=o+(n^a&(e^n))+s[14]+2792965006&4294967295,o=a+(c<<17&4294967295|c>>>15),c=n+(e^o&(a^e))+s[15]+1236535329&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(o^a&(n^o))+s[1]+4129170786&4294967295,e=n+(c<<5&4294967295|c>>>27),c=a+(n^o&(e^n))+s[6]+3225465664&4294967295,a=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(a^e))+s[11]+643717713&4294967295,o=a+(c<<14&4294967295|c>>>18),c=n+(a^e&(o^a))+s[0]+3921069994&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^a&(n^o))+s[5]+3593408605&4294967295,e=n+(c<<5&4294967295|c>>>27),c=a+(n^o&(e^n))+s[10]+38016083&4294967295,a=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(a^e))+s[15]+3634488961&4294967295,o=a+(c<<14&4294967295|c>>>18),c=n+(a^e&(o^a))+s[4]+3889429448&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^a&(n^o))+s[9]+568446438&4294967295,e=n+(c<<5&4294967295|c>>>27),c=a+(n^o&(e^n))+s[14]+3275163606&4294967295,a=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(a^e))+s[3]+4107603335&4294967295,o=a+(c<<14&4294967295|c>>>18),c=n+(a^e&(o^a))+s[8]+1163531501&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^a&(n^o))+s[13]+2850285829&4294967295,e=n+(c<<5&4294967295|c>>>27),c=a+(n^o&(e^n))+s[2]+4243563512&4294967295,a=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(a^e))+s[7]+1735328473&4294967295,o=a+(c<<14&4294967295|c>>>18),c=n+(a^e&(o^a))+s[12]+2368359562&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(n^o^a)+s[5]+4294588738&4294967295,e=n+(c<<4&4294967295|c>>>28),c=a+(e^n^o)+s[8]+2272392833&4294967295,a=e+(c<<11&4294967295|c>>>21),c=o+(a^e^n)+s[11]+1839030562&4294967295,o=a+(c<<16&4294967295|c>>>16),c=n+(o^a^e)+s[14]+4259657740&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^a)+s[1]+2763975236&4294967295,e=n+(c<<4&4294967295|c>>>28),c=a+(e^n^o)+s[4]+1272893353&4294967295,a=e+(c<<11&4294967295|c>>>21),c=o+(a^e^n)+s[7]+4139469664&4294967295,o=a+(c<<16&4294967295|c>>>16),c=n+(o^a^e)+s[10]+3200236656&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^a)+s[13]+681279174&4294967295,e=n+(c<<4&4294967295|c>>>28),c=a+(e^n^o)+s[0]+3936430074&4294967295,a=e+(c<<11&4294967295|c>>>21),c=o+(a^e^n)+s[3]+3572445317&4294967295,o=a+(c<<16&4294967295|c>>>16),c=n+(o^a^e)+s[6]+76029189&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^a)+s[9]+3654602809&4294967295,e=n+(c<<4&4294967295|c>>>28),c=a+(e^n^o)+s[12]+3873151461&4294967295,a=e+(c<<11&4294967295|c>>>21),c=o+(a^e^n)+s[15]+530742520&4294967295,o=a+(c<<16&4294967295|c>>>16),c=n+(o^a^e)+s[2]+3299628645&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(o^(n|~a))+s[0]+4096336452&4294967295,e=n+(c<<6&4294967295|c>>>26),c=a+(n^(e|~o))+s[7]+1126891415&4294967295,a=e+(c<<10&4294967295|c>>>22),c=o+(e^(a|~n))+s[14]+2878612391&4294967295,o=a+(c<<15&4294967295|c>>>17),c=n+(a^(o|~e))+s[5]+4237533241&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~a))+s[12]+1700485571&4294967295,e=n+(c<<6&4294967295|c>>>26),c=a+(n^(e|~o))+s[3]+2399980690&4294967295,a=e+(c<<10&4294967295|c>>>22),c=o+(e^(a|~n))+s[10]+4293915773&4294967295,o=a+(c<<15&4294967295|c>>>17),c=n+(a^(o|~e))+s[1]+2240044497&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~a))+s[8]+1873313359&4294967295,e=n+(c<<6&4294967295|c>>>26),c=a+(n^(e|~o))+s[15]+4264355552&4294967295,a=e+(c<<10&4294967295|c>>>22),c=o+(e^(a|~n))+s[6]+2734768916&4294967295,o=a+(c<<15&4294967295|c>>>17),c=n+(a^(o|~e))+s[13]+1309151649&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~a))+s[4]+4149444226&4294967295,e=n+(c<<6&4294967295|c>>>26),c=a+(n^(e|~o))+s[11]+3174756917&4294967295,a=e+(c<<10&4294967295|c>>>22),c=o+(e^(a|~n))+s[2]+718787259&4294967295,o=a+(c<<15&4294967295|c>>>17),c=n+(a^(o|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+a&4294967295}sn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,o=this.h,a=0;a<e;){if(o==0)for(;a<=n;)bc(this,t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<e;)if(s[o++]=t.charCodeAt(a++),o==this.blockSize){bc(this,s),o=0;break}}else for(;a<e;)if(s[o++]=t[a++],o==this.blockSize){bc(this,s),o=0;break}}this.h=o,this.i+=e};sn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function Ce(t,e){this.h=e;for(var n=[],s=!0,o=t.length-1;0<=o;o--){var a=t[o]|0;s&&a==e||(n[o]=a,s=!1)}this.g=n}var Ek={};function of(t){return-128<=t&&128>t?xC(t,function(e){return new Ce([e|0],0>e?-1:0)}):new Ce([t|0],0>t?-1:0)}function mn(t){if(isNaN(t)||!isFinite(t))return yi;if(0>t)return ot(mn(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=Eh;return new Ce(e,0)}function Tv(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ot(Tv(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mn(Math.pow(e,8)),s=yi,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+a),e);8>a?(a=mn(Math.pow(e,a)),s=s.R(a).add(mn(c))):(s=s.R(n),s=s.add(mn(c)))}return s}var Eh=4294967296,yi=of(0),Sh=of(1),gg=of(16777216);V=Ce.prototype;V.ea=function(){if(Qt(this))return-ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:Eh+s)*e,e*=Eh}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Nn(this))return"0";if(Qt(this))return"-"+ot(this).toString(t);for(var e=mn(Math.pow(t,6)),n=this,s="";;){var o=Zl(n,e).g;n=Jl(n,o.R(e));var a=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,Nn(n))return a+s;for(;6>a.length;)a="0"+a;s=a+s}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Nn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Qt(t){return t.h==-1}V.X=function(t){return t=Jl(this,t),Qt(t)?-1:Nn(t)?0:1};function ot(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new Ce(n,~t.h).add(Sh)}V.abs=function(){return Qt(this)?ot(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,o=0;o<=e;o++){var a=s+(this.D(o)&65535)+(t.D(o)&65535),c=(a>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);s=c>>>16,a&=65535,c&=65535,n[o]=c<<16|a}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function Jl(t,e){return t.add(ot(e))}V.R=function(t){if(Nn(this)||Nn(t))return yi;if(Qt(this))return Qt(t)?ot(this).R(ot(t)):ot(ot(this).R(t));if(Qt(t))return ot(this.R(ot(t)));if(0>this.X(gg)&&0>t.X(gg))return mn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var o=0;o<t.g.length;o++){var a=this.D(s)>>>16,c=this.D(s)&65535,d=t.D(o)>>>16,p=t.D(o)&65535;n[2*s+2*o]+=c*p,Dl(n,2*s+2*o),n[2*s+2*o+1]+=a*p,Dl(n,2*s+2*o+1),n[2*s+2*o+1]+=c*d,Dl(n,2*s+2*o+1),n[2*s+2*o+2]+=a*d,Dl(n,2*s+2*o+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Ce(n,0)};function Dl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ts(t,e){this.g=t,this.h=e}function Zl(t,e){if(Nn(e))throw Error("division by zero");if(Nn(t))return new Ts(yi,yi);if(Qt(t))return e=Zl(ot(t),e),new Ts(ot(e.g),ot(e.h));if(Qt(e))return e=Zl(t,ot(e)),new Ts(ot(e.g),e.h);if(30<t.g.length){if(Qt(t)||Qt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Sh,s=e;0>=s.X(t);)n=yg(n),s=yg(s);var o=fi(n,1),a=fi(s,1);for(s=fi(s,2),n=fi(n,2);!Nn(s);){var c=a.add(s);0>=c.X(t)&&(o=o.add(n),a=c),s=fi(s,1),n=fi(n,1)}return e=Jl(t,o.R(e)),new Ts(o,e)}for(o=yi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),a=mn(n),c=a.R(e);Qt(c)||0<c.X(t);)n-=s,a=mn(n),c=a.R(e);Nn(a)&&(a=Sh),o=o.add(a),t=Jl(t,c)}return new Ts(o,t)}V.gb=function(t){return Zl(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new Ce(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new Ce(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new Ce(n,this.h^t.h)};function yg(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new Ce(n,t.h)}function fi(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,o=[],a=0;a<s;a++)o[a]=0<e?t.D(a+n)>>>e|t.D(a+n+1)<<32-e:t.D(a+n);return new Ce(o,t.h)}Xl.prototype.createWebChannel=Xl.prototype.g;jt.prototype.send=jt.prototype.u;jt.prototype.open=jt.prototype.m;jt.prototype.close=jt.prototype.close;va.NO_ERROR=0;va.TIMEOUT=8;va.HTTP_ERROR=6;$y.COMPLETE="complete";Hy.EventType=no;no.OPEN="a";no.CLOSE="b";no.ERROR="c";no.MESSAGE="d";et.prototype.listen=et.prototype.O;Ve.prototype.listenOnce=Ve.prototype.P;Ve.prototype.getLastError=Ve.prototype.Sa;Ve.prototype.getLastErrorCode=Ve.prototype.Ia;Ve.prototype.getStatus=Ve.prototype.da;Ve.prototype.getResponseJson=Ve.prototype.Wa;Ve.prototype.getResponseText=Ve.prototype.ja;Ve.prototype.send=Ve.prototype.ha;Ve.prototype.setWithCredentials=Ve.prototype.Oa;sn.prototype.digest=sn.prototype.l;sn.prototype.reset=sn.prototype.reset;sn.prototype.update=sn.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=mn;Ce.fromString=Tv;var Sk=function(){return new Xl},Ck=function(){return ya()},Yc=va,kk=$y,Tk=Vr,vg={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ik=so,Al=Hy,_k=Ve,xk=sn,vi=Ce;const wg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Li="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new vy("@firebase/firestore");function Eg(){return Or.logLevel}function G(t,...e){if(Or.logLevel<=we.DEBUG){const n=e.map(lf);Or.debug(`Firestore (${Li}): ${t}`,...n)}}function Pn(t,...e){if(Or.logLevel<=we.ERROR){const n=e.map(lf);Or.error(`Firestore (${Li}): ${t}`,...n)}}function Ci(t,...e){if(Or.logLevel<=we.WARN){const n=e.map(lf);Or.warn(`Firestore (${Li}): ${t}`,...n)}}function lf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${Li}) INTERNAL ASSERTION FAILED: `+t;throw Pn(e),new Error(e)}function Ne(t,e){t||ne()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class Dk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ak{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let a=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Dn,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Dn)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ne(typeof s.accessToken=="string"),new Iv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new dt(e)}}class Pk{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Rk{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new Pk(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ok{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=a=>{a.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,G("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const o=a=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?o(a):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.T=n.token,new Lk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=Mk(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<n&&(s+=e.charAt(o[a]%e.length))}return s}}function ve(t,e){return t<e?-1:t>e?1:0}function ki(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new be(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new be(0,0))}static max(){return new se(new be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,s){n===void 0?n=0:n>e.length&&ne(),s===void 0?s=e.length-n:s>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const a=e.get(o),c=n.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends Gs{construct(e,n,s){return new Pe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new b(R.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const Fk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Gs{construct(e,n,s){return new mt(e,n,s)}static isValidIdentifier(e){return Fk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const a=()=>{if(s.length===0)throw new b(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new b(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new b(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(a(),o++)}if(a(),c)throw new b(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Pe.fromString(e))}static fromName(e){return new J(Pe.fromString(e).popFirst(5))}static empty(){return new J(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Pe(e.slice()))}}function Uk(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=se.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new lr(o,J.empty(),e)}function Vk(t){return new lr(t.readTime,t.key,-1)}class lr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new lr(se.min(),J.empty(),-1)}static max(){return new lr(se.max(),J.empty(),-1)}}function zk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==jk)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,s)=>{n(e)})}static reject(e){return new O((n,s)=>{s(e)})}static waitFor(e){return new O((n,s)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&n()},p=>s(p))}),c=!0,a===o&&n()})}static or(e){let n=O.resolve(!1);for(const s of e)n=n.next(o=>o?O.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,a)=>{s.push(n.call(this,o,a))}),this.waitFor(s)}static mapArray(e,n){return new O((s,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const g=p;n(e[g]).next(y=>{c[g]=y,++d,d===a&&s(c)},y=>o(y))}})}static doWhile(e,n){return new O((s,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):s()};a()})}}function uo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}af.ct=-1;function _a(t){return t==null}function ea(t){return t===0&&1/t==-1/0}function $k(t){return typeof t=="number"&&Number.isInteger(t)&&!ea(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pl(this.root,e,this.comparator,!0)}}class Pl{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,s,o,a){this.key=e,this.value=n,this.color=s??st.RED,this.left=o??st.EMPTY,this.right=a??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,a){return new st(e??this.key,n??this.value,s??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,s),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return st.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,e,n,s,o){return this}insert(t,e,n){return new st(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cg(this.data.getIterator())}getIteratorFrom(e){return new Cg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=s.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Cg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Vt([])}unionWith(e){let n=new vt(mt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ki(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Nv("Invalid base64 string: "+o):o}}(e);return new wt(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const Hk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=Hk.exec(t);if(Ne(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mr(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cf(t){const e=t.mapValue.fields.__previous_value__;return uf(e)?cf(e):e}function bs(t){const e=ar(t.mapValue.fields.__local_write_time__.timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,s,o,a,c,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}class Ys{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ys("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ys&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl={mapValue:{}};function Fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uf(t)?4:Wk(t)?9007199254740991:10:ne()}function yn(t,e){if(t===e)return!0;const n=Fr(t);if(n!==Fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bs(t).isEqual(bs(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=ar(s.timestampValue),c=ar(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Mr(s.bytesValue).isEqual(Mr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return He(s.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(s.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return He(s.integerValue)===He(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=He(s.doubleValue),c=He(o.doubleValue);return a===c?ea(a)===ea(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return ki(t.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:return function(s,o){const a=s.mapValue.fields||{},c=o.mapValue.fields||{};if(Sg(a)!==Sg(c))return!1;for(const d in a)if(a.hasOwnProperty(d)&&(c[d]===void 0||!yn(a[d],c[d])))return!1;return!0}(t,e);default:return ne()}}function Xs(t,e){return(t.values||[]).find(n=>yn(n,e))!==void 0}function Ti(t,e){if(t===e)return 0;const n=Fr(t),s=Fr(e);if(n!==s)return ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,a){const c=He(o.integerValue||o.doubleValue),d=He(a.integerValue||a.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return kg(t.timestampValue,e.timestampValue);case 4:return kg(bs(t),bs(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,a){const c=Mr(o),d=Mr(a);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const c=o.split("/"),d=a.split("/");for(let p=0;p<c.length&&p<d.length;p++){const g=ve(c[p],d[p]);if(g!==0)return g}return ve(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const c=ve(He(o.latitude),He(a.latitude));return c!==0?c:ve(He(o.longitude),He(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const c=o.values||[],d=a.values||[];for(let p=0;p<c.length&&p<d.length;++p){const g=Ti(c[p],d[p]);if(g)return g}return ve(c.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===Rl.mapValue&&a===Rl.mapValue)return 0;if(o===Rl.mapValue)return 1;if(a===Rl.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),p=a.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const E=ve(d[y],g[y]);if(E!==0)return E;const I=Ti(c[d[y]],p[g[y]]);if(I!==0)return I}return ve(d.length,g.length)}(t.mapValue,e.mapValue);default:throw ne()}}function kg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=ar(t),s=ar(e),o=ve(n.seconds,s.seconds);return o!==0?o:ve(n.nanos,s.nanos)}function Ii(t){return Ch(t)}function Ch(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const o=ar(s);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Mr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,J.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let o="[",a=!0;for(const c of s.values||[])a?a=!1:o+=",",o+=Ch(c);return o+"]"}(t.arrayValue):"mapValue"in t?function(s){const o=Object.keys(s.fields||{}).sort();let a="{",c=!0;for(const d of o)c?c=!1:a+=",",a+=`${d}:${Ch(s.fields[d])}`;return a+"}"}(t.mapValue):ne();var e,n}function kh(t){return!!t&&"integerValue"in t}function hf(t){return!!t&&"arrayValue"in t}function Tg(t){return!!t&&"nullValue"in t}function Ig(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ul(t){return!!t&&"mapValue"in t}function Rs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Rs(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Wk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ul(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rs(n)}setAll(e){let n=mt.emptyPath(),s={},o=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=Rs(c):o.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,o)}delete(e){const n=this.field(e.popLast());Ul(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ul(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){zr(n,(o,a)=>e[o]=a);for(const o of s)delete e[o]}clone(){return new Pt(Rs(this.value))}}function Dv(t){const e=[];return zr(t.fields,(n,s)=>{const o=new mt([n]);if(Ul(s)){const a=Dv(s.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Vt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,s,o,a,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pt(e,0,se.min(),se.min(),se.min(),Pt.empty(),0)}static newFoundDocument(e,n,s,o){return new pt(e,1,n,se.min(),s,o,0)}static newNoDocument(e,n){return new pt(e,2,n,se.min(),se.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,se.min(),se.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.position=e,this.inclusive=n}}function _g(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?s=J.comparator(J.fromName(c.referenceValue),n.key):s=Ti(c,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function xg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n="asc"){this.field=e,this.dir=n}}function qk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{}class Ge extends Av{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Gk(e,n,s):n==="array-contains"?new Xk(e,s):n==="in"?new Jk(e,s):n==="not-in"?new Zk(e,s):n==="array-contains-any"?new eT(e,s):new Ge(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new bk(e,s):new Yk(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ti(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(Ti(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends Av{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new vn(e,n)}matches(e){return Pv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Pv(t){return t.op==="and"}function Rv(t){return Qk(t)&&Pv(t)}function Qk(t){for(const e of t.filters)if(e instanceof vn)return!1;return!0}function Th(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Ii(t.value);if(Rv(t))return t.filters.map(e=>Th(e)).join(",");{const e=t.filters.map(n=>Th(n)).join(",");return`${t.op}(${e})`}}function Lv(t,e){return t instanceof Ge?function(n,s){return s instanceof Ge&&n.op===s.op&&n.field.isEqual(s.field)&&yn(n.value,s.value)}(t,e):t instanceof vn?function(n,s){return s instanceof vn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((o,a,c)=>o&&Lv(a,s.filters[c]),!0):!1}(t,e):void ne()}function Ov(t){return t instanceof Ge?function(e){return`${e.field.canonicalString()} ${e.op} ${Ii(e.value)}`}(t):t instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(Ov).join(" ,")+"}"}(t):"Filter"}class Gk extends Ge{constructor(e,n,s){super(e,n,s),this.key=J.fromName(s.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class bk extends Ge{constructor(e,n){super(e,"in",n),this.keys=Mv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Yk extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=Mv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Mv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>J.fromName(s.referenceValue))}class Xk extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hf(n)&&Xs(n.arrayValue,this.value)}}class Jk extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xs(this.value.arrayValue,n)}}class Zk extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xs(this.value.arrayValue,n)}}class eT extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xs(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n=null,s=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.dt=null}}function Ng(t,e=null,n=[],s=[],o=null,a=null,c=null){return new tT(t,e,n,s,o,a,c)}function ff(t){const e=oe(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Th(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),_a(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ii(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ii(s)).join(",")),e.dt=n}return e.dt}function df(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Lv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xg(t.startAt,e.startAt)&&xg(t.endAt,e.endAt)}function Ih(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n=null,s=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.wt=null,this._t=null,this.startAt,this.endAt}}function nT(t,e,n,s,o,a,c,d){return new xa(t,e,n,s,o,a,c,d)}function pf(t){return new xa(t)}function Dg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function iT(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function sT(t){return t.collectionGroup!==null}function wi(t){const e=oe(t);if(e.wt===null){e.wt=[];const n=iT(e),s=rT(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new Ls(n)),e.wt.push(new Ls(mt.keyField(),"asc"));else{let o=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(o=!0);if(!o){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ls(mt.keyField(),a))}}}return e.wt}function Rn(t){const e=oe(t);if(!e._t)if(e.limitType==="F")e._t=Ng(e.path,e.collectionGroup,wi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of wi(e)){const c=a.dir==="desc"?"asc":"desc";n.push(new Ls(a.field,c))}const s=e.endAt?new ta(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ta(e.startAt.position,e.startAt.inclusive):null;e._t=Ng(e.path,e.collectionGroup,n,e.filters,e.limit,s,o)}return e._t}function _h(t,e,n){return new xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Na(t,e){return df(Rn(t),Rn(e))&&t.limitType===e.limitType}function Fv(t){return`${ff(Rn(t))}|lt:${t.limitType}`}function xh(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>Ov(s)).join(", ")}]`),_a(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ii(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ii(s)).join(",")),`Target(${n})`}(Rn(t))}; limitType=${t.limitType})`}function Da(t,e){return e.isFoundDocument()&&function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):J.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,s){for(const o of wi(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,a,c){const d=_g(o,a,c);return o.inclusive?d<=0:d<0}(n.startAt,wi(n),s)||n.endAt&&!function(o,a,c){const d=_g(o,a,c);return o.inclusive?d>=0:d>0}(n.endAt,wi(n),s))}(t,e)}function oT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Uv(t){return(e,n)=>{let s=!1;for(const o of wi(t)){const a=lT(o,e,n);if(a!==0)return a;s=s||o.field.isKeyField()}return 0}}function lT(t,e,n){const s=t.field.isKeyField()?J.comparator(e.key,n.key):function(o,a,c){const d=a.data.field(o),p=c.data.field(o);return d!==null&&p!==null?Ti(d,p):ne()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,a]of s)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zr(this.inner,(n,s)=>{for(const[o,a]of s)e(o,a)})}isEmpty(){return xv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=new Me(J.comparator);function Ln(){return aT}const Vv=new Me(J.comparator);function Ns(...t){let e=Vv;for(const n of t)e=e.insert(n.key,n);return e}function zv(t){let e=Vv;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Pr(){return Os()}function jv(){return Os()}function Os(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const uT=new Me(J.comparator),cT=new vt(J.comparator);function fe(...t){let e=cT;for(const n of t)e=e.add(n);return e}const hT=new vt(ve);function fT(){return hT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ea(e)?"-0":e}}function $v(t){return{integerValue:""+t}}function dT(t,e){return $k(e)?$v(e):Bv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this._=void 0}}function pT(t,e,n){return t instanceof na?function(s,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&uf(o)&&(o=cf(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Js?Kv(t,e):t instanceof Zs?Wv(t,e):function(s,o){const a=Hv(s,o),c=Ag(a)+Ag(s.gt);return kh(a)&&kh(s.gt)?$v(c):Bv(s.serializer,c)}(t,e)}function mT(t,e,n){return t instanceof Js?Kv(t,e):t instanceof Zs?Wv(t,e):n}function Hv(t,e){return t instanceof ra?kh(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class na extends Aa{}class Js extends Aa{constructor(e){super(),this.elements=e}}function Kv(t,e){const n=qv(e);for(const s of t.elements)n.some(o=>yn(o,s))||n.push(s);return{arrayValue:{values:n}}}class Zs extends Aa{constructor(e){super(),this.elements=e}}function Wv(t,e){let n=qv(e);for(const s of t.elements)n=n.filter(o=>!yn(o,s));return{arrayValue:{values:n}}}class ra extends Aa{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Ag(t){return He(t.integerValue||t.doubleValue)}function qv(t){return hf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gT(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Js&&s instanceof Js||n instanceof Zs&&s instanceof Zs?ki(n.elements,s.elements,yn):n instanceof ra&&s instanceof ra?yn(n.gt,s.gt):n instanceof na&&s instanceof na}(t.transform,e.transform)}class yT{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pa{}function Qv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mf(t.key,rn.none()):new co(t.key,t.data,rn.none());{const n=t.data,s=Pt.empty();let o=new vt(mt.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?s.delete(a):s.set(a,c),o=o.add(a)}return new dr(t.key,s,new Vt(o.toArray()),rn.none())}}function vT(t,e,n){t instanceof co?function(s,o,a){const c=s.value.clone(),d=Rg(s.fieldTransforms,o,a.transformResults);c.setAll(d),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof dr?function(s,o,a){if(!Vl(s.precondition,o))return void o.convertToUnknownDocument(a.version);const c=Rg(s.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(Gv(s)),d.setAll(c),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ms(t,e,n,s){return t instanceof co?function(o,a,c,d){if(!Vl(o.precondition,a))return c;const p=o.value.clone(),g=Lg(o.fieldTransforms,d,a);return p.setAll(g),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),null}(t,e,n,s):t instanceof dr?function(o,a,c,d){if(!Vl(o.precondition,a))return c;const p=Lg(o.fieldTransforms,d,a),g=a.data;return g.setAll(Gv(o)),g.setAll(p),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,s):function(o,a,c){return Vl(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function wT(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),a=Hv(s.transform,o||null);a!=null&&(n===null&&(n=Pt.empty()),n.set(s.field,a))}return n||null}function Pg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&ki(n,s,(o,a)=>gT(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class co extends Pa{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class dr extends Pa{constructor(e,n,s,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Gv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Rg(t,e,n){const s=new Map;Ne(t.length===n.length);for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,d=e.data.field(a.field);s.set(a.field,mT(c,d,n[o]))}return s}function Lg(t,e,n){const s=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);s.set(o.field,pT(a,c,e))}return s}class mf extends Pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ET extends Pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&vT(a,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ms(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ms(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jv();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=n.has(o.key)?null:d;const p=Qv(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&ki(this.mutations,e.mutations,(n,s)=>Pg(n,s))&&ki(this.baseMutations,e.baseMutations,(n,s)=>Pg(n,s))}}class gf{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ne(e.mutations.length===s.length);let o=uT;const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,s[c].version);return new gf(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,de;function TT(t){switch(t){default:return ne();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function bv(t){if(t===void 0)return Pn("GRPC error has no .code"),R.UNKNOWN;switch(t){case $e.OK:return R.OK;case $e.CANCELLED:return R.CANCELLED;case $e.UNKNOWN:return R.UNKNOWN;case $e.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case $e.INTERNAL:return R.INTERNAL;case $e.UNAVAILABLE:return R.UNAVAILABLE;case $e.UNAUTHENTICATED:return R.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case $e.NOT_FOUND:return R.NOT_FOUND;case $e.ALREADY_EXISTS:return R.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return R.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case $e.ABORTED:return R.ABORTED;case $e.OUT_OF_RANGE:return R.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return R.UNIMPLEMENTED;case $e.DATA_LOSS:return R.DATA_LOSS;default:return ne()}}(de=$e||($e={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ll}static getOrCreateInstance(){return Ll===null&&(Ll=new yf),Ll}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ll=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new vi([4294967295,4294967295],0);function Og(t){const e=IT().encode(t),n=new xk;return n.update(e),new Uint8Array(n.digest())}function Mg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new vi([n,s],0),new vi([o,a],0)]}class vf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ds(`Invalid padding: ${n}`);if(s<0)throw new Ds(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ds(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ds(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=vi.fromNumber(this.It)}Et(e,n,s){let o=e.add(n.multiply(vi.fromNumber(s)));return o.compare(_T)===1&&(o=new vi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Og(e),[s,o]=Mg(n);for(let a=0;a<this.hashCount;a++){const c=this.Et(s,o,a);if(!this.At(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new vf(a,o,n);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.It===0)return;const n=Og(e),[s,o]=Mg(n);for(let a=0;a<this.hashCount;a++){const c=this.Et(s,o,a);this.Rt(c)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ds extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,s,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ho.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ra(se.min(),o,new Me(ve),Ln(),fe())}}class ho{constructor(e,n,s,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ho(s,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,s,o){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=o}}class Yv{constructor(e,n){this.targetId=e,this.Vt=n}}class Xv{constructor(e,n,s=wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Fg{constructor(){this.St=0,this.Dt=Vg(),this.Ct=wt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fe(),n=fe(),s=fe();return this.Dt.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ne()}}),new ho(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=Vg()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class xT{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ln(),this.zt=Ug(),this.Wt=new Me(ve)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,o)=>{this.te(o)&&n(o)})}ne(e){var n;const s=e.targetId,o=e.Vt.count,a=this.se(s);if(a){const c=a.target;if(Ih(c))if(o===0){const d=new J(c.path);this.Yt(s,d,pt.newNoDocument(d,se.min()))}else Ne(o===1);else{const d=this.ie(s);if(d!==o){const p=this.re(e,d);if(p!==0){this.ee(s);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,g)}(n=yf.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(g,y,E){var I,x,U,M,N,Q;const te={localCacheCount:y,existenceFilterCount:E.count},re=E.unchangedNames;return re&&(te.bloomFilter={applied:g===0,hashCount:(I=re==null?void 0:re.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(M=(U=(x=re==null?void 0:re.bits)===null||x===void 0?void 0:x.bitmap)===null||U===void 0?void 0:U.length)!==null&&M!==void 0?M:0,padding:(Q=(N=re==null?void 0:re.bits)===null||N===void 0?void 0:N.padding)!==null&&Q!==void 0?Q:0}),te}(p,d,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:o}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:d=0}=s;let p,g;try{p=Mr(a).toUint8Array()}catch(y){if(y instanceof Nv)return Ci("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw y}try{g=new vf(p,c,d)}catch(y){return Ci(y instanceof Ds?"BloomFilter error: ":"Applying bloom filter failed: ",y),1}return g.It===0?1:o!==n-this.oe(e.targetId,g)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let o=0;return s.forEach(a=>{const c=this.Gt.ue(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;n.vt(d)||(this.Yt(e,a,null),o++)}),o}ce(e){const n=new Map;this.Qt.forEach((a,c)=>{const d=this.se(c);if(d){if(a.current&&Ih(d.target)){const p=new J(d.target.path);this.jt.get(p)!==null||this.ae(c,p)||this.Yt(c,p,pt.newNoDocument(p,e))}a.Mt&&(n.set(c,a.Ot()),a.Ft())}});let s=fe();this.zt.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.se(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const o=new Ra(e,n,this.Wt,this.jt,s);return this.jt=Ln(),this.zt=Ug(),this.Wt=new Me(ve),o}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,n)?o.Bt(n,1):o.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Fg,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new vt(ve),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Fg),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Ug(){return new Me(J.comparator)}function Vg(){return new Me(J.comparator)}const NT={asc:"ASCENDING",desc:"DESCENDING"},DT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AT={and:"AND",or:"OR"};class PT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nh(t,e){return t.useProto3Json||_a(e)?e:{value:e}}function ia(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RT(t,e){return ia(t,e.toTimestamp())}function gn(t){return Ne(!!t),se.fromTimestamp(function(e){const n=ar(e);return new be(n.seconds,n.nanos)}(t))}function wf(t,e){return function(n){return new Pe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Zv(t){const e=Pe.fromString(t);return Ne(rw(e)),e}function Dh(t,e){return wf(t.databaseId,e.path)}function Xc(t,e){const n=Zv(e);if(n.get(1)!==t.databaseId.projectId)throw new b(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(ew(n))}function Ah(t,e){return wf(t.databaseId,e)}function LT(t){const e=Zv(t);return e.length===4?Pe.emptyPath():ew(e)}function Ph(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ew(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zg(t,e,n){return{name:Dh(t,e),fields:n.value.mapValue.fields}}function OT(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Ne(g===void 0||typeof g=="string"),wt.fromBase64String(g||"")):(Ne(g===void 0||g instanceof Uint8Array),wt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const g=p.code===void 0?R.UNKNOWN:bv(p.code);return new b(g,p.message||"")}(c);n=new Xv(s,o,a,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Xc(t,s.document.name),a=gn(s.document.updateTime),c=s.document.createTime?gn(s.document.createTime):se.min(),d=new Pt({mapValue:{fields:s.document.fields}}),p=pt.newFoundDocument(o,a,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new zl(g,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Xc(t,s.document),a=s.readTime?gn(s.readTime):se.min(),c=pt.newNoDocument(o,a),d=s.removedTargetIds||[];n=new zl([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Xc(t,s.document),a=s.removedTargetIds||[];n=new zl([],a,o,null)}else{if(!("filter"in e))return ne();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:a}=s,c=new kT(o,a),d=s.targetId;n=new Yv(d,c)}}return n}function MT(t,e){let n;if(e instanceof co)n={update:zg(t,e.key,e.value)};else if(e instanceof mf)n={delete:Dh(t,e.key)};else if(e instanceof dr)n={update:zg(t,e.key,e.data),updateMask:KT(e.fieldMask)};else{if(!(e instanceof ET))return ne();n={verify:Dh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(o,a){const c=a.transform;if(c instanceof na)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Js)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ra)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw ne()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:RT(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(t,e.precondition)),n}function FT(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(s,o){let a=s.updateTime?gn(s.updateTime):gn(o);return a.isEqual(se.min())&&(a=gn(o)),new yT(a,s.transformResults||[])}(n,e))):[]}function UT(t,e){return{documents:[Ah(t,e.path)]}}function VT(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Ah(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ah(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(p){if(p.length!==0)return nw(vn.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(p){if(p.length!==0)return p.map(g=>function(y){return{field:di(y.field),direction:BT(y.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=Nh(t,e.limit);var d;return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),n}function zT(t){let e=LT(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ne(s===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=function(y){const E=tw(y);return E instanceof vn&&Rv(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=n.orderBy.map(y=>function(E){return new Ls(pi(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y)));let d=null;n.limit&&(d=function(y){let E;return E=typeof y=="object"?y.value:y,_a(E)?null:E}(n.limit));let p=null;n.startAt&&(p=function(y){const E=!!y.before,I=y.values||[];return new ta(I,E)}(n.startAt));let g=null;return n.endAt&&(g=function(y){const E=!y.before,I=y.values||[];return new ta(I,E)}(n.endAt)),nT(e,o,c,a,d,"F",p,g)}function jT(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tw(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=pi(e.unaryFilter.field);return Ge.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=pi(e.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=pi(e.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=pi(e.unaryFilter.field);return Ge.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(e){return Ge.create(pi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return vn.create(e.compositeFilter.filters.map(n=>tw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ne()}}(e.compositeFilter.op))}(t):ne()}function BT(t){return NT[t]}function $T(t){return DT[t]}function HT(t){return AT[t]}function di(t){return{fieldPath:t.canonicalString()}}function pi(t){return mt.fromServerFormat(t.fieldPath)}function nw(t){return t instanceof Ge?function(e){if(e.op==="=="){if(Ig(e.value))return{unaryFilter:{field:di(e.field),op:"IS_NAN"}};if(Tg(e.value))return{unaryFilter:{field:di(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Ig(e.value))return{unaryFilter:{field:di(e.field),op:"IS_NOT_NAN"}};if(Tg(e.value))return{unaryFilter:{field:di(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:di(e.field),op:$T(e.op),value:e.value}}}(t):t instanceof vn?function(e){const n=e.getFilters().map(s=>nw(s));return n.length===1?n[0]:{compositeFilter:{op:HT(e.op),filters:n}}}(t):ne()}function KT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,s,o,a=se.min(),c=se.min(),d=wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.fe=e}}function qT(t){const e=zT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.rn=new GT}addToCollectionParentIndex(e,n){return this.rn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(lr.min())}updateCollectionGroup(e,n,s){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class GT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new vt(Pe.comparator),a=!o.has(s);return this.index[n]=o.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new vt(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new _i(0)}static Mn(){return new _i(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?O.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ms(s.mutation,o,Vt.empty(),be.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,fe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=fe()){const o=Pr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(a=>{let c=Ns();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=Pr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,fe()))}populateOverlays(e,n,s){const o=[];return s.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,s,o){let a=Ln();const c=Os(),d=Os();return n.forEach((p,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof dr)?a=a.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Ms(y.mutation,g,y.mutation.getFieldMask(),be.now())):c.set(g.key,Vt.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var E;return d.set(g,new YT(y,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,n){const s=Os();let o=new Me((c,d)=>c-d),a=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let y=s.get(p)||Vt.empty();y=d.applyToLocalView(g,y),s.set(p,y);const E=(o.get(d.batchId)||fe()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,E=jv();y.forEach(I=>{if(!a.has(I)){const x=Qv(n.get(I),s.get(I));x!==null&&E.set(I,x),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return O.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-a.size):O.resolve(Pr());let d=-1,p=a;return c.next(g=>O.forEach(g,(y,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(y)?O.resolve():this.remoteDocumentCache.getEntry(e,y).next(I=>{p=p.insert(y,I)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,p,g,fe())).next(y=>({batchId:d,changes:zv(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(s=>{let o=Ns();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const o=n.collectionGroup;let a=Ns();return this.indexManager.getCollectionParents(e,o).next(c=>O.forEach(c,d=>{const p=function(g,y){return new xa(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,s).next(g=>{g.forEach((y,E)=>{a=a.insert(y,E)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o))).next(a=>{o.forEach((d,p)=>{const g=p.getKey();a.get(g)===null&&(a=a.insert(g,pt.newInvalidDocument(g)))});let c=Ns();return a.forEach((d,p)=>{const g=o.get(d);g!==void 0&&Ms(g.mutation,p,Vt.empty(),be.now()),Da(n,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return O.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:gn(s.createTime)}),O.resolve()}getNamedQuery(e,n){return O.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:qT(s.bundledQuery),readTime:gn(s.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.overlays=new Me(J.comparator),this.ls=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pr();return O.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&s.set(o,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,a)=>{this.we(e,n,a)}),O.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.ls.get(s);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(s)),O.resolve()}getOverlaysForCollection(e,n,s){const o=Pr(),a=n.length+1,c=new J(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>s&&o.set(p.getKey(),p)}return O.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let a=new Me((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=a.get(g.largestBatchId);y===null&&(y=Pr(),a=a.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Pr(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=o)););return O.resolve(d)}we(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.ls.get(o.largestBatchId).delete(s.key);this.ls.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new CT(n,s));let a=this.ls.get(n);a===void 0&&(a=fe(),this.ls.set(n,a)),this.ls.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this.fs=new vt(Ze.ds),this.ws=new vt(Ze._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new Ze(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new Ze(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new J(new Pe([])),s=new Ze(n,e),o=new Ze(n,e+1),a=[];return this.ws.forEachInRange([s,o],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new J(new Pe([])),s=new Ze(n,e),o=new Ze(n,e+1);let a=fe();return this.ws.forEachInRange([s,o],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new Ze(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ze{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return J.comparator(e.key,n.key)||ve(e.As,n.As)}static _s(e,n){return ve(e.As,n.As)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new vt(Ze.ds)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const a=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ST(a,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Rs=this.Rs.add(new Ze(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return O.resolve(c)}lookupMutationBatch(e,n){return O.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.bs(s),a=o<0?0:o;return O.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ze(n,0),o=new Ze(n,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([s,o],c=>{const d=this.Ps(c.As);a.push(d)}),O.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vt(ve);return n.forEach(o=>{const a=new Ze(o,0),c=new Ze(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],d=>{s=s.add(d.As)})}),O.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let a=s;J.isDocumentKey(a)||(a=a.child(""));const c=new Ze(new J(a),0);let d=new vt(ve);return this.Rs.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.As)),!0)},c),O.resolve(this.Vs(d))}Vs(e){const n=[];return e.forEach(s=>{const o=this.Ps(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ne(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return O.forEach(n.mutations,o=>{const a=new Ze(o.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new Ze(n,0),o=this.Rs.firstAfterOrEqual(s);return O.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.Ds=e,this.docs=new Me(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),a=o?o.size:0,c=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return O.resolve(s?s.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let s=Ln();return n.forEach(o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.mutableCopy():pt.newInvalidDocument(o))}),O.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let a=Ln();const c=n.path,d=new J(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||zk(Vk(y),s)<=0||(o.has(y.key)||Da(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return O.resolve(a)}getAllFromCollectionGroup(e,n,s,o){ne()}Cs(e,n){return O.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new nI(this)}getSize(e){return O.resolve(this.size)}}class nI extends bT{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.os.addEntry(e,o)):this.os.removeEntry(s)}),O.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.persistence=e,this.xs=new Oi(n=>ff(n),df),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ef,this.targetCount=0,this.Ms=_i.kn()}forEachTarget(e,n){return this.xs.forEach((s,o)=>n(o)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),O.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new _i(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Fn(n),O.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,s){let o=0;const a=[];return this.xs.forEach((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),O.waitFor(a).next(()=>o)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return O.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),O.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),O.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),O.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return O.resolve(s)}containsKey(e,n){return O.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.$s={},this.overlays={},this.Os=new af(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new rI(this),this.indexManager=new QT,this.remoteDocumentCache=function(s){return new tI(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new WT(n),this.qs=new JT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new eI(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){G("MemoryPersistence","Starting transaction:",e);const o=new sI(this.Os.next());return this.referenceDelegate.Us(),s(o).next(a=>this.referenceDelegate.Ks(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Gs(e,n){return O.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class sI extends Bk{constructor(e){super(),this.currentSequenceNumber=e}}class Sf{constructor(e){this.persistence=e,this.Qs=new Ef,this.js=null}static zs(e){return new Sf(e)}get Ws(){if(this.js)return this.js;throw ne()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),O.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),O.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(o=>this.Ws.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.Ws.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Ws,s=>{const o=J.fromPath(s);return this.Hs(e,o).next(a=>{a||n.removeEntry(o,se.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return O.or([()=>O.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=o}static Li(e,n){let s=fe(),o=fe();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Cf(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,o){return this.Ki(e,n).next(a=>a||this.Gi(e,n,o,s)).next(a=>a||this.Qi(e,n))}Ki(e,n){if(Dg(n))return O.resolve(null);let s=Rn(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=_h(n,null,"F"),s=Rn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const c=fe(...a);return this.Ui.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ji(n,d);return this.zi(n,g,c,p.readTime)?this.Ki(e,_h(n,null,"F")):this.Wi(e,g,n,p)}))})))}Gi(e,n,s,o){return Dg(n)||o.isEqual(se.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(a=>{const c=this.ji(n,a);return this.zi(n,c,s,o)?this.Qi(e,n):(Eg()<=we.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xh(n)),this.Wi(e,c,n,Uk(o,-1)))})}ji(e,n){let s=new vt(Uv(e));return n.forEach((o,a)=>{Da(e,a)&&(s=s.add(a))}),s}zi(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Qi(e,n){return Eg()<=we.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",xh(n)),this.Ui.getDocumentsMatchingQuery(e,n,lr.min())}Wi(e,n,s,o){return this.Ui.getDocumentsMatchingQuery(e,s,o).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,s,o){this.persistence=e,this.Hi=n,this.serializer=o,this.Ji=new Me(ve),this.Yi=new Oi(a=>ff(a),df),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function aI(t,e,n,s){return new lI(t,e,n,s)}async function iw(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const c=[],d=[];let p=fe();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of a){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next(g=>({er:g,removedBatchIds:c,addedBatchIds:d}))})})}function uI(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),a=n.Zi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,g){const y=p.batch,E=y.keys();let I=O.resolve();return E.forEach(x=>{I=I.next(()=>g.getEntry(d,x)).next(U=>{const M=p.docVersions.get(x);Ne(M!==null),U.version.compareTo(M)<0&&(y.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),g.addEntry(U)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let d=fe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function sw(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function cI(t,e){const n=oe(t),s=e.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.Zi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const d=[];e.targetChanges.forEach((y,E)=>{const I=o.get(E);if(!I)return;d.push(n.Bs.removeMatchingKeys(a,y.removedDocuments,E).next(()=>n.Bs.addMatchingKeys(a,y.addedDocuments,E)));let x=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?x=x.withResumeToken(wt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,s)),o=o.insert(E,x),function(U,M,N){return U.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(I,x,y)&&d.push(n.Bs.updateTargetData(a,x))});let p=Ln(),g=fe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))}),d.push(hI(a,c,e.documentUpdates).next(y=>{p=y.nr,g=y.sr})),!s.isEqual(se.min())){const y=n.Bs.getLastRemoteSnapshotVersion(a).next(E=>n.Bs.setTargetsMetadata(a,a.currentSequenceNumber,s));d.push(y)}return O.waitFor(d).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,p,g)).next(()=>p)}).then(a=>(n.Ji=o,a))}function hI(t,e,n){let s=fe(),o=fe();return n.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let c=Ln();return n.forEach((d,p)=>{const g=a.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(se.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):G("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{nr:c,sr:o}})}function fI(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function dI(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Bs.getTargetData(s,e).next(a=>a?(o=a,O.resolve(o)):n.Bs.allocateTargetId(s).next(c=>(o=new tr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ji.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function Rh(t,e,n){const s=oe(t),o=s.Ji.get(e),a=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",a,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!uo(c))throw c;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(o.target)}function jg(t,e,n){const s=oe(t);let o=se.min(),a=fe();return s.persistence.runTransaction("Execute query","readonly",c=>function(d,p,g){const y=oe(d),E=y.Yi.get(g);return E!==void 0?O.resolve(y.Ji.get(E)):y.Bs.getTargetData(p,g)}(s,c,Rn(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>s.Hi.getDocumentsMatchingQuery(c,e,n?o:se.min(),n?a:fe())).next(d=>(pI(s,oT(e),d),{documents:d,ir:a})))}function pI(t,e,n){let s=t.Xi.get(e)||se.min();n.forEach((o,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.Xi.set(e,s)}class Bg{constructor(){this.activeTargetIds=fT()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mI{constructor(){this.Hr=new Bg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Bg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol=null;function Jc(){return Ol===null?Ol=268435456+Math.round(2147483648*Math.random()):Ol++,"0x"+Ol.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class wI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,o,a){const c=Jc(),d=this.To(e,n);G("RestConnection",`Sending RPC '${e}' ${c}:`,d,s);const p={};return this.Eo(p,o,a),this.Ao(e,d,p,s).then(g=>(G("RestConnection",`Received RPC '${e}' ${c}: `,g),g),g=>{throw Ci("RestConnection",`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}vo(e,n,s,o,a,c){return this.Io(e,n,s,o,a)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Li,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>e[a]=o),s&&s.headers.forEach((o,a)=>e[a]=o)}To(e,n){const s=yI[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,o){const a=Jc();return new Promise((c,d)=>{const p=new _k;p.setWithCredentials(!0),p.listenOnce(kk.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yc.NO_ERROR:const y=p.getResponseJson();G(ft,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),c(y);break;case Yc.TIMEOUT:G(ft,`RPC '${e}' ${a} timed out`),d(new b(R.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const E=p.getStatus();if(G(ft,`RPC '${e}' ${a} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I==null?void 0:I.error;if(x&&x.status&&x.message){const U=function(M){const N=M.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(N)>=0?N:R.UNKNOWN}(x.status);d(new b(U,x.message))}else d(new b(R.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new b(R.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{G(ft,`RPC '${e}' ${a} completed.`)}});const g=JSON.stringify(o);G(ft,`RPC '${e}' ${a} sending request:`,o),p.send(n,"POST",g,s,15)})}Ro(e,n,s){const o=Jc(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Sk(),d=Ck(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.xmlHttpFactory=new Ik({})),this.Eo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=a.join("");G(ft,`Creating RPC '${e}' stream ${o}: ${y}`,p);const E=c.createWebChannel(y,p);let I=!1,x=!1;const U=new vI({ro:N=>{x?G(ft,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(I||(G(ft,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),G(ft,`RPC '${e}' stream ${o} sending:`,N),E.send(N))},oo:()=>E.close()}),M=(N,Q,te)=>{N.listen(Q,re=>{try{te(re)}catch(ce){setTimeout(()=>{throw ce},0)}})};return M(E,Al.EventType.OPEN,()=>{x||G(ft,`RPC '${e}' stream ${o} transport opened.`)}),M(E,Al.EventType.CLOSE,()=>{x||(x=!0,G(ft,`RPC '${e}' stream ${o} transport closed`),U.wo())}),M(E,Al.EventType.ERROR,N=>{x||(x=!0,Ci(ft,`RPC '${e}' stream ${o} transport errored:`,N),U.wo(new b(R.UNAVAILABLE,"The operation could not be completed")))}),M(E,Al.EventType.MESSAGE,N=>{var Q;if(!x){const te=N.data[0];Ne(!!te);const re=te,ce=re.error||((Q=re[0])===null||Q===void 0?void 0:Q.error);if(ce){G(ft,`RPC '${e}' stream ${o} received error:`,ce);const Re=ce.status;let We=function(kt){const Gt=$e[kt];if(Gt!==void 0)return bv(Gt)}(Re),nt=ce.message;We===void 0&&(We=R.INTERNAL,nt="Unknown error status: "+Re+" with message "+ce.message),x=!0,U.wo(new b(We,nt)),E.close()}else G(ft,`RPC '${e}' stream ${o} received:`,te),U._o(te)}}),M(d,Tk.STAT_EVENT,N=>{N.stat===vg.PROXY?G(ft,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===vg.NOPROXY&&G(ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.fo()},0),U}}function Zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t){return new PT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,s=1e3,o=1.5,a=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=o,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-s);o>0&&G("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n,s,o,a,c,d,p){this.ii=e,this.$o=s,this.Oo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ow(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Fo===n&&this.Zo(s,o)},s=>{e(()=>{const o=new b(R.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(o)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{s(()=>this.tu(o))}),this.stream.onMessage(o=>{s(()=>this.onMessage(o))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EI extends lw{constructor(e,n,s,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=a}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=OT(this.serializer,e),s=function(o){if(!("targetChange"in o))return se.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?se.min():a.readTime?gn(a.readTime):se.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Ph(this.serializer),n.addTarget=function(o,a){let c;const d=a.target;if(c=Ih(d)?{documents:UT(o,d)}:{query:VT(o,d)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=Jv(o,a.resumeToken);const p=Nh(o,a.expectedCount);p!==null&&(c.expectedCount=p)}else if(a.snapshotVersion.compareTo(se.min())>0){c.readTime=ia(o,a.snapshotVersion.toTimestamp());const p=Nh(o,a.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const s=jT(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Ph(this.serializer),n.removeTarget=e,this.Wo(n)}}class SI extends lw{constructor(e,n,s,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=FT(e.writeResults,e.commitTime),s=gn(e.commitTime);return this.listener.cu(s,n)}return Ne(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ph(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>MT(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new b(R.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Io(e,n,s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new b(R.UNKNOWN,o.toString())})}vo(e,n,s,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,n,s,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new b(R.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class kI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Pn(n),this.mu=!1):G("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,s,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(c=>{s.enqueueAndForget(async()=>{jr(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=oe(d);p.vu.add(4),await fo(p),p.bu.set("Unknown"),p.vu.delete(4),await Oa(p)}(this))})}),this.bu=new kI(s,o)}}async function Oa(t){if(jr(t))for(const e of t.Ru)await e(!0)}async function fo(t){for(const e of t.Ru)await e(!1)}function aw(t,e){const n=oe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),If(n)?Tf(n):Mi(n).Ko()&&kf(n,e))}function uw(t,e){const n=oe(t),s=Mi(n);n.Au.delete(e),s.Ko()&&cw(n,e),n.Au.size===0&&(s.Ko()?s.jo():jr(n)&&n.bu.set("Unknown"))}function kf(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mi(t).su(e)}function cw(t,e){t.Vu.qt(e),Mi(t).iu(e)}function Tf(t){t.Vu=new xT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Mi(t).start(),t.bu.gu()}function If(t){return jr(t)&&!Mi(t).Uo()&&t.Au.size>0}function jr(t){return oe(t).vu.size===0}function hw(t){t.Vu=void 0}async function II(t){t.Au.forEach((e,n)=>{kf(t,e)})}async function _I(t,e){hw(t),If(t)?(t.bu.Iu(e),Tf(t)):t.bu.set("Unknown")}async function xI(t,e,n){if(t.bu.set("Online"),e instanceof Xv&&e.state===2&&e.cause)try{await async function(s,o){const a=o.cause;for(const c of o.targetIds)s.Au.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.Au.delete(c),s.Vu.removeTarget(c))}(t,e)}catch(s){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await sa(t,s)}else if(e instanceof zl?t.Vu.Ht(e):e instanceof Yv?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(se.min()))try{const s=await sw(t.localStore);n.compareTo(s)>=0&&await function(o,a){const c=o.Vu.ce(a);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Au.get(p);g&&o.Au.set(p,g.withResumeToken(d.resumeToken,a))}}),c.targetMismatches.forEach((d,p)=>{const g=o.Au.get(d);if(!g)return;o.Au.set(d,g.withResumeToken(wt.EMPTY_BYTE_STRING,g.snapshotVersion)),cw(o,d);const y=new tr(g.target,d,p,g.sequenceNumber);kf(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(s){G("RemoteStore","Failed to raise snapshot:",s),await sa(t,s)}}async function sa(t,e,n){if(!uo(e))throw e;t.vu.add(1),await fo(t),t.bu.set("Offline"),n||(n=()=>sw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Oa(t)})}function fw(t,e){return e().catch(n=>sa(t,n,e))}async function Ma(t){const e=oe(t),n=ur(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;NI(e);)try{const o=await fI(e.localStore,s);if(o===null){e.Eu.length===0&&n.jo();break}s=o.batchId,DI(e,o)}catch(o){await sa(e,o)}dw(e)&&pw(e)}function NI(t){return jr(t)&&t.Eu.length<10}function DI(t,e){t.Eu.push(e);const n=ur(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function dw(t){return jr(t)&&!ur(t).Uo()&&t.Eu.length>0}function pw(t){ur(t).start()}async function AI(t){ur(t).hu()}async function PI(t){const e=ur(t);for(const n of t.Eu)e.uu(n.mutations)}async function RI(t,e,n){const s=t.Eu.shift(),o=gf.from(s,e,n);await fw(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Ma(t)}async function LI(t,e){e&&ur(t).ou&&await async function(n,s){if(o=s.code,TT(o)&&o!==R.ABORTED){const a=n.Eu.shift();ur(n).Qo(),await fw(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Ma(n)}var o}(t,e),dw(t)&&pw(t)}async function Hg(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const s=jr(n);n.vu.add(3),await fo(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Oa(n)}async function OI(t,e){const n=oe(t);e?(n.vu.delete(2),await Oa(n)):e||(n.vu.add(2),await fo(n),n.bu.set("Unknown"))}function Mi(t){return t.Su||(t.Su=function(e,n,s){const o=oe(e);return o.fu(),new EI(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{uo:II.bind(null,t),ao:_I.bind(null,t),nu:xI.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),If(t)?Tf(t):t.bu.set("Unknown")):(await t.Su.stop(),hw(t))})),t.Su}function ur(t){return t.Du||(t.Du=function(e,n,s){const o=oe(e);return o.fu(),new SI(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{uo:AI.bind(null,t),ao:LI.bind(null,t),au:PI.bind(null,t),cu:RI.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Ma(t)):(await t.Du.stop(),t.Eu.length>0&&(G("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,s,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,n,s,o,a){const c=Date.now()+s,d=new _f(e,n,c,o,a);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new b(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xf(t,e){if(Pn("AsyncQueue",`${e}: ${t}`),uo(t))return new b(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.comparator=e?(n,s)=>e(n,s)||J.comparator(n.key,s.key):(n,s)=>J.comparator(n.key,s.key),this.keyedMap=Ns(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new Ei(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=s.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ei;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.Cu=new Me(J.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ne():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class xi{constructor(e,n,s,o,a,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,a){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new xi(e,n,Ei.emptySet(n),c,s,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Na(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.Nu=void 0,this.listeners=[]}}class FI{constructor(){this.queries=new Oi(e=>Fv(e),Na),this.onlineState="Unknown",this.ku=new Set}}async function mw(t,e){const n=oe(t),s=e.query;let o=!1,a=n.queries.get(s);if(a||(o=!0,a=new MI),o)try{a.Nu=await n.onListen(s)}catch(c){const d=xf(c,`Initialization of query '${xh(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,a),a.listeners.push(e),e.Mu(n.onlineState),a.Nu&&e.$u(a.Nu)&&Nf(n)}async function gw(t,e){const n=oe(t),s=e.query;let o=!1;const a=n.queries.get(s);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),o=a.listeners.length===0)}if(o)return n.queries.delete(s),n.onUnlisten(s)}function UI(t,e){const n=oe(t);let s=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const d of c.listeners)d.$u(o)&&(s=!0);c.Nu=o}}s&&Nf(n)}function VI(t,e,n){const s=oe(t),o=s.queries.get(e);if(o)for(const a of o.listeners)a.onError(n);s.queries.delete(e)}function Nf(t){t.ku.forEach(e=>{e.next()})}class yw{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xi(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=xi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.key=e}}class ww{constructor(e){this.key=e}}class zI{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fe(),this.mutatedKeys=fe(),this.tc=Uv(e),this.ec=new Ei(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new Kg,o=n?n.ec:this.ec;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,E)=>{const I=o.get(y),x=Da(this.query,E)?E:null,U=!!I&&this.mutatedKeys.has(I.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;I&&x?I.data.isEqual(x.data)?U!==M&&(s.track({type:3,doc:x}),N=!0):this.rc(I,x)||(s.track({type:2,doc:x}),N=!0,(p&&this.tc(x,p)>0||g&&this.tc(x,g)<0)&&(d=!0)):!I&&x?(s.track({type:0,doc:x}),N=!0):I&&!x&&(s.track({type:1,doc:I}),N=!0,(p||g)&&(d=!0)),N&&(x?(c=c.add(x),a=M?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),s.track({type:1,doc:y})}return{ec:c,ic:s,zi:d,mutatedKeys:a}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((g,y)=>function(E,I){const x=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return x(E)-x(I)}(g.type,y.type)||this.tc(g.doc,y.doc)),this.oc(s);const c=n?this.uc():[],d=this.Zu.size===0&&this.current?1:0,p=d!==this.Xu;return this.Xu=d,a.length!==0||p?{snapshot:new xi(this.query,e.ec,o,a,e.mutatedKeys,d===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Kg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fe(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new ww(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new vw(s))}),n}hc(e){this.Yu=e.ir,this.Zu=fe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return xi.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class jI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class BI{constructor(e){this.key=e,this.fc=!1}}class $I{constructor(e,n,s,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Oi(d=>Fv(d),Na),this._c=new Map,this.mc=new Set,this.gc=new Me(J.comparator),this.yc=new Map,this.Ic=new Ef,this.Tc={},this.Ec=new Map,this.Ac=_i.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function HI(t,e){const n=ZI(t);let s,o;const a=n.wc.get(e);if(a)s=a.targetId,n.sharedClientState.addLocalQueryTarget(s),o=a.view.lc();else{const c=await dI(n.localStore,Rn(e)),d=n.sharedClientState.addLocalQueryTarget(c.targetId);s=c.targetId,o=await KI(n,e,s,d==="current",c.resumeToken),n.isPrimaryClient&&aw(n.remoteStore,c)}return o}async function KI(t,e,n,s,o){t.Rc=(E,I,x)=>async function(U,M,N,Q){let te=M.view.sc(N);te.zi&&(te=await jg(U.localStore,M.query,!1).then(({documents:Re})=>M.view.sc(Re,te)));const re=Q&&Q.targetChanges.get(M.targetId),ce=M.view.applyChanges(te,U.isPrimaryClient,re);return qg(U,M.targetId,ce.cc),ce.snapshot}(t,E,I,x);const a=await jg(t.localStore,e,!0),c=new zI(e,a.ir),d=c.sc(a.documents),p=ho.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=c.applyChanges(d,t.isPrimaryClient,p);qg(t,n,g.cc);const y=new jI(e,n,c);return t.wc.set(e,y),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),g.snapshot}async function WI(t,e){const n=oe(t),s=n.wc.get(e),o=n._c.get(s.targetId);if(o.length>1)return n._c.set(s.targetId,o.filter(a=>!Na(a,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Rh(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),uw(n.remoteStore,s.targetId),Lh(n,s.targetId)}).catch(ao)):(Lh(n,s.targetId),await Rh(n.localStore,s.targetId,!0))}async function qI(t,e,n){const s=e_(t);try{const o=await function(a,c){const d=oe(a),p=be.now(),g=c.reduce((I,x)=>I.add(x.key),fe());let y,E;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=Ln(),U=fe();return d.Zi.getEntries(I,g).next(M=>{x=M,x.forEach((N,Q)=>{Q.isValidDocument()||(U=U.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,x)).next(M=>{y=M;const N=[];for(const Q of c){const te=wT(Q,y.get(Q.key).overlayedDocument);te!=null&&N.push(new dr(Q.key,te,Dv(te.value.mapValue),rn.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,N,c)}).next(M=>{E=M;const N=M.applyToLocalDocumentSet(y,U);return d.documentOverlayCache.saveOverlays(I,M.batchId,N)})}).then(()=>({batchId:E.batchId,changes:zv(y)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(a,c,d){let p=a.Tc[a.currentUser.toKey()];p||(p=new Me(ve)),p=p.insert(c,d),a.Tc[a.currentUser.toKey()]=p}(s,o.batchId,n),await po(s,o.changes),await Ma(s.remoteStore)}catch(o){const a=xf(o,"Failed to persist write");n.reject(a)}}async function Ew(t,e){const n=oe(t);try{const s=await cI(n.localStore,e);e.targetChanges.forEach((o,a)=>{const c=n.yc.get(a);c&&(Ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.fc=!0:o.modifiedDocuments.size>0?Ne(c.fc):o.removedDocuments.size>0&&(Ne(c.fc),c.fc=!1))}),await po(n,s,e)}catch(s){await ao(s)}}function Wg(t,e,n){const s=oe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.wc.forEach((a,c)=>{const d=c.view.Mu(e);d.snapshot&&o.push(d.snapshot)}),function(a,c){const d=oe(a);d.onlineState=c;let p=!1;d.queries.forEach((g,y)=>{for(const E of y.listeners)E.Mu(c)&&(p=!0)}),p&&Nf(d)}(s.eventManager,e),o.length&&s.dc.nu(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function QI(t,e,n){const s=oe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.yc.get(e),a=o&&o.key;if(a){let c=new Me(J.comparator);c=c.insert(a,pt.newNoDocument(a,se.min()));const d=fe().add(a),p=new Ra(se.min(),new Map,new Me(ve),c,d);await Ew(s,p),s.gc=s.gc.remove(a),s.yc.delete(e),Df(s)}else await Rh(s.localStore,e,!1).then(()=>Lh(s,e,n)).catch(ao)}async function GI(t,e){const n=oe(t),s=e.batch.batchId;try{const o=await uI(n.localStore,e);Cw(n,s,null),Sw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await po(n,o)}catch(o){await ao(o)}}async function bI(t,e,n){const s=oe(t);try{const o=await function(a,c){const d=oe(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(Ne(y!==null),g=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(s.localStore,e);Cw(s,e,n),Sw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await po(s,o)}catch(o){await ao(o)}}function Sw(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Cw(t,e,n){const s=oe(t);let o=s.Tc[s.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),s.Tc[s.currentUser.toKey()]=o}}function Lh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||kw(t,s)})}function kw(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(uw(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Df(t))}function qg(t,e,n){for(const s of n)s instanceof vw?(t.Ic.addReference(s.key,e),YI(t,s)):s instanceof ww?(G("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||kw(t,s.key)):ne()}function YI(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(G("SyncEngine","New document in limbo: "+n),t.mc.add(s),Df(t))}function Df(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new J(Pe.fromString(e)),s=t.Ac.next();t.yc.set(s,new BI(n)),t.gc=t.gc.insert(n,s),aw(t.remoteStore,new tr(Rn(pf(n.path)),s,"TargetPurposeLimboResolution",af.ct))}}async function po(t,e,n){const s=oe(t),o=[],a=[],c=[];s.wc.isEmpty()||(s.wc.forEach((d,p)=>{c.push(s.Rc(p,e,n).then(g=>{if((g||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(p.targetId,g!=null&&g.fromCache?"not-current":"current"),g){o.push(g);const y=Cf.Li(p.targetId,g);a.push(y)}}))}),await Promise.all(c),s.dc.nu(o),await async function(d,p){const g=oe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>O.forEach(p,E=>O.forEach(E.Fi,I=>g.persistence.referenceDelegate.addReference(y,E.targetId,I)).next(()=>O.forEach(E.Bi,I=>g.persistence.referenceDelegate.removeReference(y,E.targetId,I)))))}catch(y){if(!uo(y))throw y;G("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const E=y.targetId;if(!y.fromCache){const I=g.Ji.get(E),x=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(x);g.Ji=g.Ji.insert(E,U)}}}(s.localStore,a))}async function XI(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const s=await iw(n.localStore,e);n.currentUser=e,function(o,a){o.Ec.forEach(c=>{c.forEach(d=>{d.reject(new b(R.CANCELLED,a))})}),o.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await po(n,s.er)}}function JI(t,e){const n=oe(t),s=n.yc.get(e);if(s&&s.fc)return fe().add(s.key);{let o=fe();const a=n._c.get(e);if(!a)return o;for(const c of a){const d=n.wc.get(c);o=o.unionWith(d.view.nc)}return o}}function ZI(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ew.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QI.bind(null,e),e.dc.nu=UI.bind(null,e.eventManager),e.dc.Pc=VI.bind(null,e.eventManager),e}function e_(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bI.bind(null,e),e}class Qg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=La(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aI(this.persistence,new oI,e.initialUser,this.serializer)}createPersistence(e){return new iI(Sf.zs,this.serializer)}createSharedClientState(e){return new mI}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class t_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XI.bind(null,this.syncEngine),await OI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new FI}createDatastore(e){const n=La(e.databaseInfo.databaseId),s=(o=e.databaseInfo,new wI(o));var o;return function(a,c,d,p){return new CI(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,o=e.asyncQueue,a=d=>Wg(this.syncEngine,d,0),c=$g.D()?new $g:new gI,new TI(n,s,o,a,c);var n,s,o,a,c}createSyncEngine(e,n){return function(s,o,a,c,d,p,g){const y=new $I(s,o,a,c,d,p);return g&&(y.vc=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=oe(e);G("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await fo(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=dt.UNAUTHENTICATED,this.clientId=_v.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async a=>{G("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(G("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function eh(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await iw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i_(t);G("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(o=>Hg(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,a)=>Hg(e.remoteStore,a)),t._onlineComponents=e}function r_(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function i_(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await eh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!r_(n))throw n;Ci("Error using user provided cache. Falling back to memory cache: "+n),await eh(t,new Qg)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await eh(t,new Qg);return t._offlineComponents}async function Iw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await Gg(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await Gg(t,new t_))),t._onlineComponents}function s_(t){return Iw(t).then(e=>e.syncEngine)}async function _w(t){const e=await Iw(t),n=e.eventManager;return n.onListen=HI.bind(null,e.syncEngine),n.onUnlisten=WI.bind(null,e.syncEngine),n}function o_(t,e,n={}){const s=new Dn;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,c,d,p){const g=new Tw({next:E=>{a.enqueueAndForget(()=>gw(o,y));const I=E.docs.has(c);!I&&E.fromCache?p.reject(new b(R.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&d&&d.source==="server"?p.reject(new b(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),y=new yw(pf(c.path),g,{includeMetadataChanges:!0,Ku:!0});return mw(o,y)}(await _w(t),t.asyncQueue,e,n,s)),s.promise}function l_(t,e,n={}){const s=new Dn;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,c,d,p){const g=new Tw({next:E=>{a.enqueueAndForget(()=>gw(o,y)),E.fromCache&&d.source==="server"?p.reject(new b(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),y=new yw(c,g,{includeMetadataChanges:!0,Ku:!0});return mw(o,y)}(await _w(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t,e,n){if(!n)throw new b(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a_(t,e,n,s){if(e===!0&&s===!0)throw new b(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yg(t){if(!J.isDocumentKey(t))throw new b(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xg(t){if(J.isDocumentKey(t))throw new b(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function On(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(t);throw new b(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new b(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new b(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new b(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new b(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new b(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class Fa{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new b(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jg(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Nk;switch(n.type){case"firstParty":return new Rk(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=bg.get(e);n&&(G("ComponentProvider","Removing Datastore"),bg.delete(e),n.terminate())}(this),Promise.resolve()}}function u_(t,e,n,s={}){var o;const a=(t=On(t,Fa))._getSettings(),c=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&Ci("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=dt.MOCK_USER;else{d=aS(s.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new b(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new dt(g)}t._authCredentials=new Dk(new Iv(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}}class Ua{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class sr extends Ua{constructor(e,n,s){super(e,n,pf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new J(e))}withConverter(e){return new sr(this.firestore,e,this._path)}}function Zg(t,e,...n){if(t=or(t),Nw("collection","path",e),t instanceof Fa){const s=Pe.fromString(e,...n);return Xg(s),new sr(t,null,s)}{if(!(t instanceof zt||t instanceof sr))throw new b(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Pe.fromString(e,...n));return Xg(s),new sr(t.firestore,null,s)}}function jl(t,e,...n){if(t=or(t),arguments.length===1&&(e=_v.A()),Nw("doc","path",e),t instanceof Fa){const s=Pe.fromString(e,...n);return Yg(s),new zt(t,null,new J(s))}{if(!(t instanceof zt||t instanceof sr))throw new b(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Pe.fromString(e,...n));return Yg(s),new zt(t.firestore,t instanceof sr?t.converter:null,new J(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ow(this,"async_queue_retry"),this.Xc=()=>{const n=Zc();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Zc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Dn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!uo(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const o=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(s);throw Pn("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const o=_f.createAndSchedule(this,e,n,s,a=>this.na(a));return this.zc.push(o),o}Zc(){this.Wc&&ne()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Fi extends Fa{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new c_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Dw(this),this._firestoreClient.terminate()}}function h_(t,e){const n=typeof t=="object"?t:fC(),s=typeof t=="string"?t:"(default)",o=aC(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const a=oS("firestore");a&&u_(o,...a)}return o}function Pf(t){return t._firestoreClient||Dw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Dw(t){var e,n,s;const o=t._freezeSettings(),a=function(c,d,p,g){return new Kk(c,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,xw(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new n_(t._authCredentials,t._appCheckCredentials,t._queue,a),!((n=o.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(wt.fromBase64String(e))}catch(n){throw new b(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ni(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new b(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=/^__.*__$/;class d_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new co(e,this.data,n,this.fieldTransforms)}}class Aw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Of{constructor(e,n,s,o,a,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,a===void 0&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.aa({path:s,la:!1});return o.fa(e),o}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.aa({path:s,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return oa(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Pw(this.ca)&&f_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class p_{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||La(e)}ya(e,n,s,o=!1){return new Of({ca:e,methodName:n,ga:s,path:mt.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rw(t){const e=t._freezeSettings(),n=La(t._databaseId);return new p_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m_(t,e,n,s,o,a={}){const c=t.ya(a.merge||a.mergeFields?2:0,e,n,o);Mf("Data must be an object, but it was:",c,s);const d=Lw(s,c);let p,g;if(a.merge)p=new Vt(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const y=[];for(const E of a.mergeFields){const I=Oh(e,E,n);if(!c.contains(I))throw new b(R.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Mw(y,I)||y.push(I)}p=new Vt(y),g=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=c.fieldTransforms;return new d_(new Pt(d),p,g)}class za extends Rf{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof za}}function g_(t,e,n,s){const o=t.ya(1,e,n);Mf("Data must be an object, but it was:",o,s);const a=[],c=Pt.empty();zr(s,(p,g)=>{const y=Ff(e,p,n);g=or(g);const E=o.da(y);if(g instanceof za)a.push(y);else{const I=ja(g,E);I!=null&&(a.push(y),c.set(y,I))}});const d=new Vt(a);return new Aw(c,d,o.fieldTransforms)}function y_(t,e,n,s,o,a){const c=t.ya(1,e,n),d=[Oh(e,s,n)],p=[o];if(a.length%2!=0)throw new b(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)d.push(Oh(e,a[I])),p.push(a[I+1]);const g=[],y=Pt.empty();for(let I=d.length-1;I>=0;--I)if(!Mw(g,d[I])){const x=d[I];let U=p[I];U=or(U);const M=c.da(x);if(U instanceof za)g.push(x);else{const N=ja(U,M);N!=null&&(g.push(x),y.set(x,N))}}const E=new Vt(g);return new Aw(y,E,c.fieldTransforms)}function ja(t,e){if(Ow(t=or(t)))return Mf("Unsupported field value:",e,t),Lw(t,e);if(t instanceof Rf)return function(n,s){if(!Pw(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const o=[];let a=0;for(const c of n){let d=ja(c,s.wa(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(n,s){if((n=or(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return dT(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=be.fromDate(n);return{timestampValue:ia(s.serializer,o)}}if(n instanceof be){const o=new be(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ia(s.serializer,o)}}if(n instanceof Lf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ni)return{bytesValue:Jv(s.serializer,n._byteString)};if(n instanceof zt){const o=s.databaseId,a=n.firestore._databaseId;if(!a.isEqual(o))throw s._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wf(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${Af(n)}`)}(t,e)}function Lw(t,e){const n={};return xv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(t,(s,o)=>{const a=ja(o,e.ha(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function Ow(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof be||t instanceof Lf||t instanceof Ni||t instanceof zt||t instanceof Rf)}function Mf(t,e,n){if(!Ow(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Af(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function Oh(t,e,n){if((e=or(e))instanceof Va)return e._internalPath;if(typeof e=="string")return Ff(t,e);throw oa("Field path arguments must be of type string or ",t,!1,void 0,n)}const v_=new RegExp("[~\\*/\\[\\]]");function Ff(t,e,n){if(e.search(v_)>=0)throw oa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Va(...e.split("."))._internalPath}catch{throw oa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oa(t,e,n,s,o){const a=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new b(R.INVALID_ARGUMENT,d+t+p)}function Mw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,s,o,a){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w_ extends Fw{data(){return super.data()}}function Uw(t,e){return typeof e=="string"?Ff(t,e):e instanceof Va?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new b(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S_{convertValue(e,n="none"){switch(Fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zr(e,(o,a)=>{s[o]=this.convertValue(a,n)}),s}convertGeoPoint(e){return new Lf(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bs(e));default:return null}}convertTimestamp(e){const n=ar(e);return new be(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pe.fromString(e);Ne(rw(s));const o=new Ys(s.get(1),s.get(3)),a=new J(s.popFirst(5));return o.isEqual(n)||Pn(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vw extends Fw{constructor(e,n,s,o,a,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Uw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bl extends Vw{data(e={}){return super.data(e)}}class k_{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new As(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bl(this._firestore,this._userDataWriter,s.key,s,new As(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const d=new Bl(s._firestore,s._userDataWriter,c.doc.key,c.doc,new As(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Bl(s._firestore,s._userDataWriter,c.doc.key,c.doc,new As(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),g=a.indexOf(c.doc.key)),{type:T_(c.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function T_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){t=On(t,zt);const e=On(t.firestore,Fi);return o_(Pf(e),t._key).then(n=>A_(e,t,n))}class zw extends S_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function __(t){t=On(t,Ua);const e=On(t.firestore,Fi),n=Pf(e),s=new zw(e);return E_(t._query),l_(n,t._query).then(o=>new k_(e,s,t,o))}function x_(t,e,n,...s){t=On(t,zt);const o=On(t.firestore,Fi),a=Rw(o);let c;return c=typeof(e=or(e))=="string"||e instanceof Va?y_(a,"updateDoc",t._key,e,n,s):g_(a,"updateDoc",t._key,e),Uf(o,[c.toMutation(t._key,rn.exists(!0))])}function N_(t){return Uf(On(t.firestore,Fi),[new mf(t._key,rn.none())])}function D_(t,e){const n=On(t.firestore,Fi),s=jl(t),o=C_(t.converter,e);return Uf(n,[m_(Rw(t.firestore),"addDoc",s._key,o,t.converter!==null,{}).toMutation(s._key,rn.exists(!1))]).then(()=>s)}function Uf(t,e){return function(n,s){const o=new Dn;return n.asyncQueue.enqueueAndForget(async()=>qI(await s_(n),s,o)),o.promise}(Pf(t),e)}function A_(t,e,n){const s=n.docs.get(e._key),o=new zw(t);return new Vw(t,o,e._key,s,new As(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Li=n})(hC),ql(new Vs("firestore",(n,{instanceIdentifier:s,options:o})=>{const a=n.getProvider("app").getImmediate(),c=new Fi(new Ak(n.getProvider("auth-internal")),new Ok(n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new b(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ys(d.options.projectId,p)}(a,s),a);return o=Object.assign({useFetchStreams:e},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),gi(wg,"3.13.0",t),gi(wg,"3.13.0","esm2017")})();var P_="firebase",R_="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(P_,R_,"app");const L_={apiKey:"AIzaSyDjtRV9mI-AEXjhkf8D5XQrIobzXf0oRTM",authDomain:"blogapp-a7e55.firebaseapp.com",projectId:"blogapp-a7e55"},O_=Sy(L_),Is=h_(O_),Vf={async getAllPosts(){const t=Zg(Is,"posts");return(await __(t)).docs.map(n=>({id:n.id,...n.data()}))},async getPostById(t){const e=jl(Is,"posts",t),n=await I_(e);return{id:n.id,...n.data()}},async createPost(t){const e=Zg(Is,"posts");return await D_(e,{...t,createdAt:new Date})},async updatePost(t,e){const n=jl(Is,"posts",t);await x_(n,e)},async deletePost(t){const e=jl(Is,"posts",t);await N_(e)}},M_=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const a=await Vf.getAllPosts();e(a),s(!1)}catch(a){console.error("Error fetching posts:",a),s(!1)}})()},[]),n?le.jsx("div",{children:"Loading..."}):le.jsx("div",{className:"container mx-auto mt-8",children:t.map(o=>le.jsxs("div",{className:"mb-6 p-6 border rounded shadow-md",children:[le.jsx("h2",{className:"text-2xl font-bold mb-2",children:o.title}),le.jsx("p",{className:"text-gray-600 mb-4",children:o.excerpt}),le.jsx(Fl,{to:`/post/${o.id}`,className:"text-blue-600 hover:underline",children:"Read More"})]},o.id))})},F_=()=>le.jsxs("div",{className:"container mx-auto",children:[le.jsx("h1",{className:"text-3xl font-bold text-center my-8",children:"Welcome to My Blog"}),le.jsx(M_,{})]}),U_=()=>{const[t,e]=j.useState(""),[n,s]=j.useState(""),o=uy(),a=async c=>{c.preventDefault();try{await Vf.createPost({title:t,content:n,excerpt:n.substring(0,100)+"..."}),o("/")}catch(d){console.error("Error creating post:",d)}};return le.jsx("div",{className:"container mx-auto mt-8",children:le.jsxs("form",{onSubmit:a,className:"max-w-lg mx-auto",children:[le.jsx("input",{type:"text",placeholder:"Post Title",value:t,onChange:c=>e(c.target.value),className:"w-full p-2 mb-4 border rounded",required:!0}),le.jsx("textarea",{placeholder:"Post Content",value:n,onChange:c=>s(c.target.value),className:"w-full p-2 mb-4 border rounded h-64",required:!0}),le.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Create Post"})]})})},V_=()=>le.jsxs("div",{className:"container mx-auto",children:[le.jsx("h1",{className:"text-3xl font-bold text-center my-8",children:"Create New Blog Post"}),le.jsx(U_,{})]}),z_=()=>{const[t,e]=j.useState(null),[n,s]=j.useState(!0),{id:o}=kE();return j.useEffect(()=>{(async()=>{try{const c=await Vf.getPostById(o);e(c),s(!1)}catch(c){console.error("Error fetching post:",c),s(!1)}})()},[o]),n?le.jsx("div",{children:"Loading..."}):t?le.jsxs("div",{className:"container mx-auto mt-8 max-w-2xl",children:[le.jsx("h1",{className:"text-4xl font-bold mb-4",children:t.title}),le.jsx("p",{className:"text-gray-600 mb-6",children:new Date(t.createdAt.toDate()).toLocaleDateString()}),le.jsx("div",{className:"prose",children:t.content})]}):le.jsx("div",{children:"Post not found"})};function j_(){return le.jsx(qE,{children:le.jsxs("div",{className:"App",children:[le.jsx(YE,{}),le.jsxs(zE,{children:[le.jsx(Ml,{path:"/",element:le.jsx(F_,{})}),le.jsx(Ml,{path:"/create",element:le.jsx(V_,{})}),le.jsx(Ml,{path:"/post/:id",element:le.jsx(z_,{})})]})]})})}Q1.createRoot(document.getElementById("root")).render(le.jsx(j.StrictMode,{children:le.jsx(j_,{})}));
